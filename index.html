<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ŸÖÿ≠ÿ™ŸàŸâ ŸÖÿ≠ŸÖŸä</title><style>body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;display:flex;justify-content:center;align-items:center;margin:0}.box{background:#fff;padding:40px;border-radius:10px;box-shadow:0 10px 25px rgba(0,0,0,0.2);max-width:400px;width:90%}h2{color:#333;margin:0 0 30px;text-align:center}input{width:100%;padding:12px;border:2px solid #ddd;border-radius:5px;font-size:16px;box-sizing:border-box;margin:10px 0}input:focus{outline:none;border-color:#667eea}button{width:100%;padding:12px;background:#667eea;color:#fff;border:none;border-radius:5px;font-size:16px;font-weight:bold;cursor:pointer}button:hover{background:#5568d3}.err{color:#e74c3c;font-size:14px;text-align:center;margin-top:10px;display:none}.err.show{display:block}</style></head><body><div class="box"><h2>üîí ŸÖÿ≠ÿ™ŸàŸâ ŸÖÿ≠ŸÖŸä</h2><input type="password" id="p" placeholder="ÿ£ÿØÿÆŸÑ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±" autofocus><button id="unlockBtn">ÿØÿÆŸàŸÑ</button><div class="err" id="e">‚ùå ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ÿÆÿßÿ∑ÿ¶ÿ©</div></div><script>var d="PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImFyIiBkaXI9InJ0bCI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgogICAgPHRpdGxlPtmG2LjYp9mFINil2K/Yp9ix2Kkg2KfZhNmF2YjYp9ix2K8g2KfZhNio2LTYsdmK2Kk8L3RpdGxlPgogICAgCiAgICA8IS0tIFNoZWV0SlMgKHhsc3gpIGZvciBFeGNlbCBleHBvcnQgLS0+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMveGxzeC8wLjE4LjUveGxzeC5mdWxsLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICAKICAgIDwhLS0gUERGLmpzIGZvciBQREYgdG8gSW1hZ2UgY29udmVyc2lvbiAtLT4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9wZGYuanMvMy4xMS4xNzQvcGRmLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0PgogICAgICAgIC8vINiq2YfZitim2KkgUERGLmpzIHdvcmtlcgogICAgICAgIGlmICh0eXBlb2YgcGRmanNMaWIgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIHBkZmpzTGliLkdsb2JhbFdvcmtlck9wdGlvbnMud29ya2VyU3JjID0gJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3BkZi5qcy8zLjExLjE3NC9wZGYud29ya2VyLm1pbi5qcyc7CiAgICAgICAgfQogICAgPC9zY3JpcHQ+CiAgICAKICAgIDwhLS0gRmlyZWJhc2UgU0RLIC0tPgogICAgPHNjcmlwdCB0eXBlPSJtb2R1bGUiPgogICAgICAgIGltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcHMsIGRlbGV0ZUFwcCB9IGZyb20gImh0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2ZpcmViYXNlanMvMTAuNy4xL2ZpcmViYXNlLWFwcC5qcyI7CiAgICAgICAgaW1wb3J0IHsgZ2V0RmlyZXN0b3JlLCBjb2xsZWN0aW9uLCBkb2MsIHNldERvYywgZ2V0RG9jLCBnZXREb2NzLCB1cGRhdGVEb2MsIGRlbGV0ZURvYywgcXVlcnksIHdoZXJlLCBvcmRlckJ5LCBhZGREb2MsIHNlcnZlclRpbWVzdGFtcCB9IGZyb20gImh0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2ZpcmViYXNlanMvMTAuNy4xL2ZpcmViYXNlLWZpcmVzdG9yZS5qcyI7CiAgICAgICAgaW1wb3J0IHsgZ2V0QXV0aCwgY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkLCBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCwgc2lnbk91dCwgb25BdXRoU3RhdGVDaGFuZ2VkLCBkZWxldGVVc2VyIH0gZnJvbSAiaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy8xMC43LjEvZmlyZWJhc2UtYXV0aC5qcyI7CiAgICAgICAgLy8g2KrZhSDYpdiy2KfZhNipIEZpcmViYXNlIFN0b3JhZ2UgLSDYs9mG2LPYqtiu2K/ZhSBiYXNlNjQg2YHZiiBGaXJlc3RvcmUg2KjYr9mE2KfZiyDZhdmG2YcKICAgICAgICAKICAgICAgICAvLyDZhdmB2KfYqtmK2K0gbG9jYWxTdG9yYWdlCiAgICAgICAgY29uc3QgSFJNX0ZJUkVCQVNFX0NPTkZJR19LRVkgPSAnaHJtX2ZpcmViYXNlX2NvbmZpZyc7CiAgICAgICAgY29uc3QgSFJNX0ZPTERFUl9QQVRIX0tFWSA9ICdocm1fZm9sZGVyX3BhdGgnOwogICAgICAgIGNvbnN0IEhSTV9DVVJSRU5UX0NPTVBBTllfS0VZID0gJ2hybV9jdXJyZW50X2NvbXBhbnknOwogICAgICAgIAogICAgICAgIC8vINis2LnZhCDYp9mE2YXYqti62YrYsdin2Kog2YXYqtin2K3YqSDYudin2YTZhdmK2KfZiwogICAgICAgIHdpbmRvdy5IUk1fRklSRUJBU0VfQ09ORklHX0tFWSA9IEhSTV9GSVJFQkFTRV9DT05GSUdfS0VZOwogICAgICAgIHdpbmRvdy5IUk1fRk9MREVSX1BBVEhfS0VZID0gSFJNX0ZPTERFUl9QQVRIX0tFWTsKICAgICAgICB3aW5kb3cuSFJNX0NVUlJFTlRfQ09NUEFOWV9LRVkgPSBIUk1fQ1VSUkVOVF9DT01QQU5ZX0tFWTsKICAgICAgICAKICAgICAgICAvLyDYqtmH2YrYptipIEZpcmViYXNlCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZUZpcmViYXNlKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDYp9mE2KXYudiv2KfYr9in2Kog2YXZhiBsb2NhbFN0b3JhZ2UKICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkQ29uZmlnID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oSFJNX0ZJUkVCQVNFX0NPTkZJR19LRVkpOwogICAgICAgICAgICAgICAgbGV0IGZpcmViYXNlQ29uZmlnID0gbnVsbDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHNhdmVkQ29uZmlnKSB7CiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2VDb25maWcgPSBKU09OLnBhcnNlKHNhdmVkQ29uZmlnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfYs9iq2K7Yr9in2YUg2KfZhNil2LnYr9in2K/Yp9iqINin2YTYp9mB2KrYsdin2LbZitipCiAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2VDb25maWcgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwaUtleTogIkFJemFTeURJdjU1OGhiYkVnQmZFcllVQWp0STQxSEZESV9QNmJMTSIsCiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhEb21haW46ICJwdXJjaGFzZS1vcmRlci1mMTAxMC5maXJlYmFzZWFwcC5jb20iLAogICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6ICJwdXJjaGFzZS1vcmRlci1mMTAxMCIsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VCdWNrZXQ6ICJwdXJjaGFzZS1vcmRlci1mMTAxMC5maXJlYmFzZXN0b3JhZ2UuYXBwIiwKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnaW5nU2VuZGVySWQ6ICIzNDAwNTA1MDkwMDAiLAogICAgICAgICAgICAgICAgICAgICAgICBhcHBJZDogIjE6MzQwMDUwNTA5MDAwOndlYjowOGE2NjA1YmYwZTU5NWVjZDY3OWZkIgogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgLy8g2K3Zgdi4INin2YTYpdi52K/Yp9iv2KfYqiDYp9mE2KfZgdiq2LHYp9i22YrYqQogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKEhSTV9GSVJFQkFTRV9DT05GSUdfS0VZLCBKU09OLnN0cmluZ2lmeShmaXJlYmFzZUNvbmZpZykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDZiNis2YjYryDYqti32KjZitmCIEZpcmViYXNlINmF2YfZitijINmF2LPYqNmC2KfZiwogICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdBcHBzID0gZ2V0QXBwcygpOwogICAgICAgICAgICAgICAgbGV0IGFwcDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nQXBwcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfYs9iq2K7Yr9in2YUg2KfZhNiq2LfYqNmK2YIg2KfZhNmF2YjYrNmI2K8KICAgICAgICAgICAgICAgICAgICBhcHAgPSBleGlzdGluZ0FwcHNbMF07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vINil2YbYtNin2KEg2KrYt9io2YrZgiDYrNiv2YrYrwogICAgICAgICAgICAgICAgICAgIGFwcCA9IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcsICdIUk1fQXBwJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2YfZitim2KkgQXV0aGVudGljYXRpb24KICAgICAgICAgICAgICAgIGxldCBhdXRoOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBhdXRoID0gZ2V0QXV0aChhcHApOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoYXV0aEVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfYqtit2LDZitixOiDYrti32KMg2YHZiiDYqtmH2YrYptipIEZpcmViYXNlIEF1dGhlbnRpY2F0aW9uOicsIGF1dGhFcnJvcik7CiAgICAgICAgICAgICAgICAgICAgYXV0aCA9IG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINis2LnZhCDYp9mE2YXYqti62YrYsdin2Kog2YXYqtin2K3YqSDYudin2YTZhdmK2KfZiwogICAgICAgICAgICAgICAgd2luZG93LmRiID0gZGI7CiAgICAgICAgICAgICAgICB3aW5kb3cuYXV0aCA9IGF1dGg7CiAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlID0geyBjb2xsZWN0aW9uLCBkb2MsIHNldERvYywgZ2V0RG9jLCBnZXREb2NzLCB1cGRhdGVEb2MsIGRlbGV0ZURvYywgcXVlcnksIHdoZXJlLCBvcmRlckJ5LCBhZGREb2MsIHNlcnZlclRpbWVzdGFtcCB9OwogICAgICAgICAgICAgICAgd2luZG93Lm9uQXV0aFN0YXRlQ2hhbmdlZCA9IG9uQXV0aFN0YXRlQ2hhbmdlZDsKICAgICAgICAgICAgICAgIHdpbmRvdy5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCA9IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkOwogICAgICAgICAgICAgICAgd2luZG93LmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCA9IGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZDsKICAgICAgICAgICAgICAgIHdpbmRvdy5zaWduT3V0ID0gc2lnbk91dDsKICAgICAgICAgICAgICAgIHdpbmRvdy5kZWxldGVVc2VyID0gZGVsZXRlVXNlcjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDYqtmFINiq2YfZitim2KkgRmlyZWJhc2Ug2KjZhtis2KfYrScpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYrNi52YQg2KfZhNiv2KfZhNipINmF2KrYp9it2Kkg2LnYp9mE2YXZitin2YsKICAgICAgICAgICAgICAgIHdpbmRvdy5pbml0aWFsaXplRmlyZWJhc2UgPSBpbml0aWFsaXplRmlyZWJhc2U7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MINiu2LfYoyDZgdmKINiq2YfZitim2KkgRmlyZWJhc2U6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vINiq2YfZitim2KkgRmlyZWJhc2Ug2LnZhtivINiq2K3ZhdmK2YQg2KfZhNi12YHYrdipCiAgICAgICAgaW5pdGlhbGl6ZUZpcmViYXNlKCkudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGaXJlYmFzZSBpbml0aWFsaXphdGlvbiBjb21wbGV0ZWQnKTsKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpcmViYXNlIGluaXRpYWxpemF0aW9uIGZhaWxlZDonLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICA8L3NjcmlwdD4KCiAgICA8c3R5bGU+CiAgICAgICAgKiB7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICB9CgogICAgICAgIGJvZHkgewogICAgICAgICAgICBmb250LWZhbWlseTogJ1NlZ29lIFVJJywgJ0NhaXJvJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICAgICAgICAgIGJhY2tncm91bmQtYXR0YWNobWVudDogZml4ZWQ7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgICAgICAgICBwYWRkaW5nOiA1cHg7CiAgICAgICAgfQoKICAgICAgICAuY29udGFpbmVyIHsKICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDI1cHggODBweCByZ2JhKDAsMCwwLDAuNCksIDAgMCAwIDFweCByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIGFuaW1hdGlvbjogY29udGFpbmVyU2xpZGVJbiAwLjZzIGVhc2Utb3V0OwogICAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMHB4KTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICB9CgogICAgICAgIEBrZXlmcmFtZXMgY29udGFpbmVyU2xpZGVJbiB7CiAgICAgICAgICAgIGZyb20gewogICAgICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KSBzY2FsZSgwLjk4KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0byB7CiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApIHNjYWxlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAuaGVhZGVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDIwcHggcmdiYSgwLDAsMCwwLjE1KTsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXI6OmJlZm9yZSB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogLTUwJTsKICAgICAgICAgICAgbGVmdDogLTUwJTsKICAgICAgICAgICAgd2lkdGg6IDIwMCU7CiAgICAgICAgICAgIGhlaWdodDogMjAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgcmdiYSgyNTUsMjU1LDI1NSwwLjEpIDAlLCB0cmFuc3BhcmVudCA3MCUpOwogICAgICAgICAgICBhbmltYXRpb246IGhlYWRlclNoaW1tZXIgOHMgaW5maW5pdGU7CiAgICAgICAgfQoKICAgICAgICAuaGVhZGVyOjphZnRlciB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIGJvdHRvbTogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgICAgIGhlaWdodDogM3B4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHRyYW5zcGFyZW50IDAlLCByZ2JhKDI1NSwyNTUsMjU1LDAuMykgNTAlLCB0cmFuc3BhcmVudCAxMDAlKTsKICAgICAgICB9CgogICAgICAgIEBrZXlmcmFtZXMgaGVhZGVyU2hpbW1lciB7CiAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0KICAgICAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0KICAgICAgICB9CgogICAgICAgIC5oZWFkZXItY29udGVudCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgcGFkZGluZzogMTVweCAyNXB4OwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIHotaW5kZXg6IDE7CiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICAgICAgZ2FwOiAxNXB4OwogICAgICAgIH0KCiAgICAgICAgLmhlYWRlci1sZWZ0IHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiAyMHB4OwogICAgICAgICAgICBmbGV4OiAxOwogICAgICAgICAgICBtaW4td2lkdGg6IDMwMHB4OwogICAgICAgIH0KCiAgICAgICAgLmhlYWRlci1sb2dvIHsKICAgICAgICAgICAgd2lkdGg6IDUwcHg7CiAgICAgICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMik7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxNXB4IHJnYmEoMCwwLDAsMC4yKTsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjMpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItbG9nbzpob3ZlciB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wNSk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNnB4IDIwcHggcmdiYSgwLDAsMCwwLjMpOwogICAgICAgIH0KCiAgICAgICAgLmhlYWRlci1sb2dvIGltZyB7CiAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsKICAgICAgICAgICAgbWF4LWhlaWdodDogMTAwJTsKICAgICAgICAgICAgb2JqZWN0LWZpdDogY29udGFpbjsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItbG9nby1wbGFjZWhvbGRlciB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMmVtOwogICAgICAgICAgICBvcGFjaXR5OiAwLjg7CiAgICAgICAgfQoKICAgICAgICAuaGVhZGVyLXRpdGxlLXNlY3Rpb24gewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICBnYXA6IDVweDsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXIgaDEgewogICAgICAgICAgICBmb250LXNpemU6IDEuNmVtOwogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwwLDAsMC4yKTsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMjsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItY29tcGFueS1uYW1lIHsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjk1ZW07CiAgICAgICAgICAgIG9wYWNpdHk6IDAuOTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogM3B4OwogICAgICAgICAgICB0ZXh0LXNoYWRvdzogMCAxcHggNXB4IHJnYmEoMCwwLDAsMC4yKTsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItcmlnaHQgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItdXNlci1pbmZvIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kOwogICAgICAgICAgICBnYXA6IDVweDsKICAgICAgICAgICAgcGFkZGluZzogMTJweCAyMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMTUpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4yKTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgfQoKICAgICAgICAuaGVhZGVyLXVzZXItaW5mbzpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4yKTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgICAgIH0KCiAgICAgICAgLmhlYWRlci11c2VyLW5hbWUgewogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBmb250LXNpemU6IDEuMDVlbTsKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMXB4IDNweCByZ2JhKDAsMCwwLDAuMik7CiAgICAgICAgfQoKICAgICAgICAuaGVhZGVyLXVzZXItcm9sZSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07CiAgICAgICAgICAgIG9wYWNpdHk6IDAuODU7CiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplOwogICAgICAgIH0KCiAgICAgICAgLmhlYWRlci1sb2dvdXQtYnRuIHsKICAgICAgICAgICAgcGFkZGluZzogMTJweCAyNHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDIyMCwgNTMsIDY5LCAwLjkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMjIwLCA1MywgNjksIDAuMyk7CiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMHB4KTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjIpOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItbG9nb3V0LWJ0bjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjIwLCA1MywgNjksIDEpOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNnB4IDE4cHggcmdiYSgyMjAsIDUzLCA2OSwgMC40KTsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItbG9nb3V0LWJ0bjphY3RpdmUgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICAgICAgfQoKICAgICAgICAuaGVhZGVyLWxhbmd1YWdlLWJ0biB7CiAgICAgICAgICAgIHBhZGRpbmc6IDEycHggMjBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMik7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDhweDsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItbGFuZ3VhZ2UtYnRuOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI1KTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4yKTsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItbGFuZ3VhZ2UtYnRuOmFjdGl2ZSB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgICAgICB9CgogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkgewogICAgICAgICAgICAuaGVhZGVyLWNvbnRlbnQgewogICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLmhlYWRlci1sZWZ0IHsKICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5oZWFkZXItdGl0bGUtc2VjdGlvbiB7CiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICB9CgogICAgICAgICAgICAuaGVhZGVyIGgxIHsKICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLmhlYWRlci1yaWdodCB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAubmF2IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI2ZmZmZmZiAwJSwgI2Y4ZjlmYSAxMDAlKTsKICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAzcHggc29saWQgI2U5ZWNlZjsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggMTBweCByZ2JhKDAsMCwwLDAuMDUpOwogICAgICAgIH0KCiAgICAgICAgLm5hdi1idG4gewogICAgICAgICAgICBmbGV4OiAxOwogICAgICAgICAgICBtaW4td2lkdGg6IDEyMHB4OwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE4cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgICAgICAgIGNvbG9yOiAjNjY2OwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpOwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgfQoKICAgICAgICAubmF2LWJ0bjo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgYm90dG9tOiAwOwogICAgICAgICAgICBsZWZ0OiA1MCU7CiAgICAgICAgICAgIHdpZHRoOiAwOwogICAgICAgICAgICBoZWlnaHQ6IDRweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICAgICAgfQoKICAgICAgICAubmF2LWJ0bjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNmMGY0ZmYgMCUsICNlOWVjZWYgMTAwJSk7CiAgICAgICAgICAgIGNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICAgICAgfQoKICAgICAgICAubmF2LWJ0bjpob3Zlcjo6YmVmb3JlIHsKICAgICAgICAgICAgd2lkdGg6IDgwJTsKICAgICAgICB9CgogICAgICAgIC5uYXYtYnRuLmFjdGl2ZSB7CiAgICAgICAgICAgIGNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZjBmNGZmIDAlLCAjZmZmZmZmIDEwMCUpOwogICAgICAgIH0KCiAgICAgICAgLm5hdi1idG4uYWN0aXZlOjpiZWZvcmUgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICB9CgogICAgICAgIC5jb250ZW50IHsKICAgICAgICAgICAgcGFkZGluZzogMTVweCAyMHB4OwogICAgICAgICAgICBmbGV4OiAxOwogICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47CiAgICAgICAgfQoKICAgICAgICAuc2VjdGlvbiB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgfQoKICAgICAgICAuc2VjdGlvbi5hY3RpdmUgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWRlSW4gMC4zczsKICAgICAgICB9CgogICAgICAgIEBrZXlmcmFtZXMgZmFkZUluIHsKICAgICAgICAgICAgZnJvbSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHB4KTsgfQogICAgICAgICAgICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQogICAgICAgIH0KCiAgICAgICAgLnN0YXRzIHsKICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7CiAgICAgICAgICAgIGdhcDogMTVweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9CgogICAgICAgIC5zdGF0LWNhcmQgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDMwcHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjMpLCAwIDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwwLjEpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC40cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgfQoKICAgICAgICAuc3RhdC1jYXJkOjpiZWZvcmUgewogICAgICAgICAgICBjb250ZW50OiAnJzsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IC01MCU7CiAgICAgICAgICAgIHJpZ2h0OiAtNTAlOwogICAgICAgICAgICB3aWR0aDogMjAwJTsKICAgICAgICAgICAgaGVpZ2h0OiAyMDAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCByZ2JhKDI1NSwyNTUsMjU1LDAuMikgMCUsIHRyYW5zcGFyZW50IDcwJSk7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjZzOwogICAgICAgIH0KCiAgICAgICAgLnN0YXQtY2FyZDpob3ZlciB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtOHB4KSBzY2FsZSgxLjAyKTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxNXB4IDQwcHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjQpLCAwIDAgMCAxcHggcmdiYSgyNTUsMjU1LDI1NSwwLjIpOwogICAgICAgIH0KCiAgICAgICAgLnN0YXQtY2FyZDpob3Zlcjo6YmVmb3JlIHsKICAgICAgICAgICAgdG9wOiAtMzAlOwogICAgICAgICAgICByaWdodDogLTMwJTsKICAgICAgICB9CgogICAgICAgIC5zdGF0LWNhcmQgaDIgewogICAgICAgICAgICBmb250LXNpemU6IDIuMmVtOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA4MDA7CiAgICAgICAgICAgIHRleHQtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwwLDAsMC4yKTsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgIH0KCiAgICAgICAgLnN0YXQtY2FyZCBwIHsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjk1ZW07CiAgICAgICAgICAgIG9wYWNpdHk6IDAuOTU7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgei1pbmRleDogMTsKICAgICAgICB9CgogICAgICAgIC5idG4gewogICAgICAgICAgICBwYWRkaW5nOiAxNHB4IDI4cHg7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMTUpOwogICAgICAgIH0KCiAgICAgICAgLmJ0bjo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgd2lkdGg6IDA7CiAgICAgICAgICAgIGhlaWdodDogMDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjZzLCBoZWlnaHQgMC42czsKICAgICAgICB9CgogICAgICAgIC5idG46aG92ZXI6OmJlZm9yZSB7CiAgICAgICAgICAgIHdpZHRoOiAzMDBweDsKICAgICAgICAgICAgaGVpZ2h0OiAzMDBweDsKICAgICAgICB9CgogICAgICAgIC5idG4tcHJpbWFyeSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB9CgogICAgICAgIC5idG4tcHJpbWFyeTpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM1NTY4ZDMgMCUsICM2NTNhOGEgMTAwJSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtM3B4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMjBweCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuNCk7CiAgICAgICAgfQoKICAgICAgICAuYnRuLXByaW1hcnk6YWN0aXZlIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1zdWNjZXNzIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzI4YTc0NSAwJSwgIzIwYzk5NyAxMDAlKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1zdWNjZXNzOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzIxODgzOCAwJSwgIzFhYTE3OSAxMDAlKTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDhweCAyMHB4IHJnYmEoNDAsIDE2NywgNjksIDAuNCk7CiAgICAgICAgfQoKICAgICAgICAuYnRuLWRhbmdlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNkYzM1NDUgMCUsICNjODIzMzMgMTAwJSk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB9CgogICAgICAgIC5idG4tZGFuZ2VyOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2M4MjMzMyAwJSwgI2JkMjEzMCAxMDAlKTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDhweCAyMHB4IHJnYmEoMjIwLCA1MywgNjksIDAuNCk7CiAgICAgICAgfQoKICAgICAgICAuYnRuLXNlY29uZGFyeSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2Yzc1N2QgMCUsICM1YTYyNjggMTAwJSk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB9CgogICAgICAgIC5idG4tc2Vjb25kYXJ5OmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzVhNjI2OCAwJSwgIzQ5NTA1NyAxMDAlKTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDhweCAyMHB4IHJnYmEoMTA4LCAxMTcsIDEyNSwgMC40KTsKICAgICAgICB9CgogICAgICAgIC5idG4taW5mbyB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxN2EyYjggMCUsICMxMzg0OTYgMTAwJSk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB9CgogICAgICAgIC5idG4taW5mbzpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxMzg0OTYgMCUsICMxMTdhOGIgMTAwJSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtM3B4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMjBweCByZ2JhKDIzLCAxNjIsIDE4NCwgMC40KTsKICAgICAgICB9CgogICAgICAgIC50YWJsZS1jb250YWluZXIgewogICAgICAgICAgICBvdmVyZmxvdy14OiBhdXRvOwogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgdGFibGUgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTsKICAgICAgICAgICAgYm9yZGVyLXNwYWNpbmc6IDA7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLDAsMCwwLjA4KTsKICAgICAgICB9CgogICAgICAgIHRoLCB0ZCB7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTJweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTllY2VmOwogICAgICAgIH0KCiAgICAgICAgdGggewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDsKICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4OwogICAgICAgICAgICB0ZXh0LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwwLDAsMC4yKTsKICAgICAgICB9CgogICAgICAgIHRoOmZpcnN0LWNoaWxkIHsKICAgICAgICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDEycHg7CiAgICAgICAgfQoKICAgICAgICB0aDpsYXN0LWNoaWxkIHsKICAgICAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMTJweDsKICAgICAgICB9CgogICAgICAgIHRyIHsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsKICAgICAgICB9CgogICAgICAgIHRyOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGxlZnQsICNmMGY0ZmYgMCUsICNmZmZmZmYgMTAwJSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4wMSk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuMSk7CiAgICAgICAgfQoKICAgICAgICB0cjpsYXN0LWNoaWxkIHRkOmZpcnN0LWNoaWxkIHsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDEycHg7CiAgICAgICAgfQoKICAgICAgICB0cjpsYXN0LWNoaWxkIHRkOmxhc3QtY2hpbGQgewogICAgICAgICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAxMnB4OwogICAgICAgIH0KCiAgICAgICAgLmZvcm0tZ3JvdXAgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgICAgIH0KCiAgICAgICAgLmZvcm0tZ3JvdXAgbGFiZWwgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNnB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBjb2xvcjogIzMzMzsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgIH0KCiAgICAgICAgLmZvcm0tZ3JvdXAgaW5wdXQsCiAgICAgICAgLmZvcm0tZ3JvdXAgc2VsZWN0LAogICAgICAgIC5mb3JtLWdyb3VwIHRleHRhcmVhIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTRweDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsMCwwLDAuMDUpOwogICAgICAgIH0KCiAgICAgICAgLmZvcm0tZ3JvdXAgaW5wdXQ6Zm9jdXMsCiAgICAgICAgLmZvcm0tZ3JvdXAgc2VsZWN0OmZvY3VzLAogICAgICAgIC5mb3JtLWdyb3VwIHRleHRhcmVhOmZvY3VzIHsKICAgICAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMCA0cHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjEpLCAwIDRweCAxMnB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4xNSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgICB9CgogICAgICAgIC5mb3JtLWdyb3VwIGlucHV0OmhvdmVyLAogICAgICAgIC5mb3JtLWdyb3VwIHNlbGVjdDpob3ZlciwKICAgICAgICAuZm9ybS1ncm91cCB0ZXh0YXJlYTpob3ZlciB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogI2NiZDVlMDsKICAgICAgICB9CgogICAgICAgIC5oaWRkZW4gewogICAgICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgfQoKICAgICAgICAubW9kYWwgewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHotaW5kZXg6IDEwMDAwOwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgIG92ZXJmbG93OiBhdXRvOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNik7CiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpOwogICAgICAgICAgICBhbmltYXRpb246IG1vZGFsRmFkZUluIDAuM3MgZWFzZS1vdXQ7CiAgICAgICAgfQoKICAgICAgICBAa2V5ZnJhbWVzIG1vZGFsRmFkZUluIHsKICAgICAgICAgICAgZnJvbSB7CiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRvIHsKICAgICAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC5tb2RhbC5hY3RpdmUgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICB9CgogICAgICAgIC5tb2RhbC1jb250ZW50IHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsKICAgICAgICAgICAgbWFyZ2luOiBhdXRvOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIHdpZHRoOiA5MCU7CiAgICAgICAgICAgIG1heC13aWR0aDogOTAwcHg7CiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDkwdmg7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMjVweCA4MHB4IHJnYmEoMCwgMCwgMCwgMC41KSwgMCAwIDAgMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4xKTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBtb2RhbFNsaWRlSW4gMC40cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgIH0KCiAgICAgICAgQGtleWZyYW1lcyBtb2RhbFNsaWRlSW4gewogICAgICAgICAgICBmcm9tIHsKICAgICAgICAgICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTMwcHgpIHNjYWxlKDAuOTUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRvIHsKICAgICAgICAgICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCkgc2NhbGUoMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC5tb2RhbC1oZWFkZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHggMjVweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweCAxNXB4IDAgMDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxNXB4IHJnYmEoMCwwLDAsMC4yKTsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KCiAgICAgICAgLm1vZGFsLWhlYWRlcjo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAtNTAlOwogICAgICAgICAgICByaWdodDogLTUwJTsKICAgICAgICAgICAgd2lkdGg6IDIwMCU7CiAgICAgICAgICAgIGhlaWdodDogMjAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgcmdiYSgyNTUsMjU1LDI1NSwwLjE1KSAwJSwgdHJhbnNwYXJlbnQgNzAlKTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBoZWFkZXJTaGltbWVyIDZzIGluZmluaXRlOwogICAgICAgIH0KCiAgICAgICAgLm1vZGFsLWhlYWRlciBoMyB7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjZlbTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICAgICAgdGV4dC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMik7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgei1pbmRleDogMTsKICAgICAgICB9CgogICAgICAgIC5tb2RhbC1jbG9zZSB7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgZm9udC1zaXplOiAzNnB4OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBsaW5lLWhlaWdodDogMTsKICAgICAgICAgICAgd2lkdGg6IDQwcHg7CiAgICAgICAgICAgIGhlaWdodDogNDBweDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgIH0KCiAgICAgICAgLm1vZGFsLWNsb3NlOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpOwogICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZykgc2NhbGUoMS4xKTsKICAgICAgICB9CgogICAgICAgIC5tb2RhbC1ib2R5IHsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgICAgICB9CgogICAgICAgIC5tb2RhbC1ib2R5Ojotd2Via2l0LXNjcm9sbGJhciB7CiAgICAgICAgICAgIHdpZHRoOiA4cHg7CiAgICAgICAgfQoKICAgICAgICAubW9kYWwtYm9keTo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjFmMWYxOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLm1vZGFsLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICB9CgogICAgICAgIC5tb2RhbC1ib2R5Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM1NTY4ZDMgMCUsICM2NTNhOGEgMTAwJSk7CiAgICAgICAgfQoKICAgICAgICAuYmFkZ2UgewogICAgICAgICAgICBwYWRkaW5nOiA2cHggMTJweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICB9CgogICAgICAgIC5iYWRnZS1zdWNjZXNzIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2Q0ZWRkYTsKICAgICAgICAgICAgY29sb3I6ICMxNTU3MjQ7CiAgICAgICAgfQoKICAgICAgICAuYmFkZ2UtZGFuZ2VyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y4ZDdkYTsKICAgICAgICAgICAgY29sb3I6ICM3MjFjMjQ7CiAgICAgICAgfQoKICAgICAgICAuYmFkZ2Utd2FybmluZyB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmYzY2Q7CiAgICAgICAgICAgIGNvbG9yOiAjODU2NDA0OwogICAgICAgIH0KCiAgICAgICAgLmJhZGdlLWluZm8gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZDFlY2YxOwogICAgICAgICAgICBjb2xvcjogIzBjNTQ2MDsKICAgICAgICB9CgogICAgICAgIC5sb2FkaW5nIHsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBwYWRkaW5nOiA0MHB4OwogICAgICAgICAgICBjb2xvcjogIzY2N2VlYTsKICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICAgIH0KCiAgICAgICAgLmFjdGlvbi1idXR0b25zIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZ2FwOiAxMHB4OwogICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICAgICAgfQoKICAgICAgICAuYWN0aW9uLWJ1dHRvbnMgYnV0dG9uIHsKICAgICAgICAgICAgcGFkZGluZzogMTBweCAxOHB4OwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgfQoKICAgICAgICAvKiDZg9ix2YjYqiDYp9mE2KrZgtin2LHZitixICovCiAgICAgICAgLnJlcG9ydHMtZ3JpZCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDI4MHB4LCAxZnIpKTsKICAgICAgICAgICAgZ2FwOiAyNXB4OwogICAgICAgICAgICBtYXJnaW4tdG9wOiAzMHB4OwogICAgICAgIH0KCiAgICAgICAgLnJlcG9ydC1jYXJkIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2ZmZmZmZiAwJSwgI2Y4ZjlmYSAxMDAlKTsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICAgICAgcGFkZGluZzogMzBweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC40cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLDAsMCwwLjA4KTsKICAgICAgICB9CgogICAgICAgIC5yZXBvcnQtY2FyZDo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICByaWdodDogMDsKICAgICAgICAgICAgaGVpZ2h0OiA1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsKICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZVgoMCk7CiAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjRzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7CiAgICAgICAgfQoKICAgICAgICAucmVwb3J0LWNhcmQ6aG92ZXIgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLThweCkgc2NhbGUoMS4wMik7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzY2N2VlYTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxMnB4IDM1cHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjI1KTsKICAgICAgICB9CgogICAgICAgIC5yZXBvcnQtY2FyZDpob3Zlcjo6YmVmb3JlIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZVgoMSk7CiAgICAgICAgfQoKICAgICAgICAucmVwb3J0LWNhcmQgLmljb24gewogICAgICAgICAgICBmb250LXNpemU6IDMuNWVtOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogdGV4dDsKICAgICAgICAgICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwogICAgICAgIH0KCiAgICAgICAgLnJlcG9ydC1jYXJkOmhvdmVyIC5pY29uIHsKICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpIHJvdGF0ZSg1ZGVnKTsKICAgICAgICB9CgogICAgICAgIC5yZXBvcnQtY2FyZCBoMyB7CiAgICAgICAgICAgIGNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMnB4OwogICAgICAgICAgICBmb250LXNpemU6IDEuNGVtOwogICAgICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgIH0KCiAgICAgICAgLnJlcG9ydC1jYXJkIHAgewogICAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBsaW5lLWhlaWdodDogMS42OwogICAgICAgIH0KCiAgICAgICAgLyog2KrYrdiz2YrZhtin2Kog2KXYttin2YHZitipICovCiAgICAgICAgLmNvbnRlbnQgewogICAgICAgICAgICBwYWRkaW5nOiAxNXB4IDIwcHg7CiAgICAgICAgfQoKICAgICAgICAuc2VjdGlvbiBoMiB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS42ZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICAgICAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0OwogICAgICAgICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIGJhY2tncm91bmQtY2xpcDogdGV4dDsKICAgICAgICB9CgogICAgICAgIC8qINiq2K3Ys9mK2YbYp9iqINmE2YTYqNit2Ksg2YjYp9mE2YHZhNin2KrYsSAqLwogICAgICAgIC5zZWFyY2gtZmlsdGVyLWNvbnRhaW5lciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmOGY5ZmEgMCUsICNmZmZmZmYgMTAwJSk7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLDAsMCwwLjA4KTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U5ZWNlZjsKICAgICAgICB9CgogICAgICAgIC8qINiq2K3Ys9mK2YbYp9iqINmE2YTYo9mK2YLZiNmG2KfYqiAqLwogICAgICAgIC5pY29uLWxhcmdlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAyLjVlbTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgICAgICB9CiAgICAgICAgLyog2YjYp9is2YfYqSDYqtiz2KzZitmEINin2YTYr9iu2YjZhCAqLwogICAgICAgIC5sb2dpbi1jb250YWluZXIgewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTAwdmg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICB6LWluZGV4OiAxMDAwMDsKICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1jb250YWluZXIuaGlkZGVuIHsKICAgICAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogICAgICAgIH0KCiAgICAgICAgLmxvZ2luLWJveCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyNXB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDI1cHggODBweCByZ2JhKDAsMCwwLDAuNCk7CiAgICAgICAgICAgIHBhZGRpbmc6IDUwcHggNDBweDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIG1heC13aWR0aDogNDgwcHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICBhbmltYXRpb246IHNsaWRlSW4gMC41cyBlYXNlLW91dDsKICAgICAgICB9CgogICAgICAgIEBrZXlmcmFtZXMgc2xpZGVJbiB7CiAgICAgICAgICAgIGZyb20gewogICAgICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMzBweCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdG8gewogICAgICAgICAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLmxvZ2luLWJveDo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICByaWdodDogMDsKICAgICAgICAgICAgaGVpZ2h0OiA1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1pY29uIHsKICAgICAgICAgICAgZm9udC1zaXplOiA1ZW07CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICAgICAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0OwogICAgICAgICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIGJhY2tncm91bmQtY2xpcDogdGV4dDsKICAgICAgICAgICAgYW5pbWF0aW9uOiBwdWxzZSAycyBpbmZpbml0ZTsKICAgICAgICB9CgogICAgICAgIEBrZXlmcmFtZXMgcHVsc2UgewogICAgICAgICAgICAwJSwgMTAwJSB7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIDUwJSB7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAubG9naW4tYm94IGgyIHsKICAgICAgICAgICAgY29sb3I6ICM2NjdlZWE7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMi4yZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgfQoKICAgICAgICAubG9naW4tYm94IHAgewogICAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzVweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICAgIH0KCiAgICAgICAgLmxvZ2luLWZvcm0tZ3JvdXAgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNXB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIH0KCiAgICAgICAgLmxvZ2luLWZvcm0tZ3JvdXAgbGFiZWwgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1mb3JtLWdyb3VwIGlucHV0IHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHggMjBweDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1mb3JtLWdyb3VwIGlucHV0OmZvY3VzIHsKICAgICAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMCA0cHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjEpOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICAgICAgfQoKICAgICAgICAubG9naW4tcmVtZW1iZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI1cHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgIH0KCiAgICAgICAgLmxvZ2luLXJlbWVtYmVyIGxhYmVsIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiA4cHg7CiAgICAgICAgICAgIGNvbG9yOiAjNjY2OwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgICAgfQoKICAgICAgICAubG9naW4tcmVtZW1iZXIgaW5wdXRbdHlwZT0iY2hlY2tib3giXSB7CiAgICAgICAgICAgIHdpZHRoOiAyMHB4OwogICAgICAgICAgICBoZWlnaHQ6IDIwcHg7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgYWNjZW50LWNvbG9yOiAjNjY3ZWVhOwogICAgICAgIH0KCiAgICAgICAgLmxvZ2luLWVycm9yIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZDdkYSAwJSwgI2Y1YzZjYiAxMDAlKTsKICAgICAgICAgICAgY29sb3I6ICM3MjFjMjQ7CiAgICAgICAgICAgIHBhZGRpbmc6IDE1cHggMjBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjVweDsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJpZ2h0OiA0cHggc29saWQgI2RjMzU0NTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBzaGFrZSAwLjVzOwogICAgICAgIH0KCiAgICAgICAgQGtleWZyYW1lcyBzaGFrZSB7CiAgICAgICAgICAgIDAlLCAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9CiAgICAgICAgICAgIDI1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTBweCk7IH0KICAgICAgICAgICAgNzUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwcHgpOyB9CiAgICAgICAgfQoKICAgICAgICAubG9naW4tZXJyb3Iuc2hvdyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIH0KCiAgICAgICAgLmxvZ2luLWJ0biB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxNnB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNzAwOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxNXB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC40KTsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KCiAgICAgICAgLmxvZ2luLWJ0bjo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiA1MCU7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgd2lkdGg6IDA7CiAgICAgICAgICAgIGhlaWdodDogMDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjZzLCBoZWlnaHQgMC42czsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1idG46aG92ZXI6OmJlZm9yZSB7CiAgICAgICAgICAgIHdpZHRoOiAzMDBweDsKICAgICAgICAgICAgaGVpZ2h0OiAzMDBweDsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1idG46aG92ZXIgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTNweCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNnB4IDIwcHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjUpOwogICAgICAgIH0KCiAgICAgICAgLmxvZ2luLWJ0bjphY3RpdmUgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7CiAgICAgICAgfQoKICAgICAgICAubG9naW4tYnRuOmRpc2FibGVkIHsKICAgICAgICAgICAgb3BhY2l0eTogMC43OwogICAgICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkOwogICAgICAgICAgICB0cmFuc2Zvcm06IG5vbmU7CiAgICAgICAgfQoKICAgICAgICAubG9naW4tbG9hZGluZyB7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgY29sb3I6ICM2NjdlZWE7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTVweDsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1sb2FkaW5nLnNob3cgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1sb2FkaW5nOjphZnRlciB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcuLi4nOwogICAgICAgICAgICBhbmltYXRpb246IGRvdHMgMS41cyBzdGVwcyg0LCBlbmQpIGluZmluaXRlOwogICAgICAgIH0KCiAgICAgICAgQGtleWZyYW1lcyBkb3RzIHsKICAgICAgICAgICAgMCUsIDIwJSB7IGNvbnRlbnQ6ICcuJzsgfQogICAgICAgICAgICA0MCUgeyBjb250ZW50OiAnLi4nOyB9CiAgICAgICAgICAgIDYwJSwgMTAwJSB7IGNvbnRlbnQ6ICcuLi4nOyB9CiAgICAgICAgfQoKICAgICAgICAubG9naW4tZm9vdGVyIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMzVweDsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDI1cHg7CiAgICAgICAgICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCAjZjBmMGYwOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICBnYXA6IDEycHg7CiAgICAgICAgfQoKICAgICAgICAubG9naW4tZm9vdGVyIGJ1dHRvbiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zczsKICAgICAgICB9CgogICAgICAgIC5sb2dpbi1mb290ZXIgYnV0dG9uOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y4ZjlmYTsKICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICAgIH0KICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgICAgINix2LPZhSDZh9mK2YPZhNmKINmE2YTYtNix2YPYqSAoT3JnYW5pemF0aW9uYWwgQ2hhcnQpIC0g2KrYtdmF2YrZhSDYp9it2KrYsdin2YHZigogICAgICAgICAgID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovCiAgICAgICAgLm9yZy1jaGFydC1jb250YWluZXIgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgb3ZlcmZsb3cteDogYXV0bzsKICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgcGFkZGluZzogMzBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y1ZjdmYSAwJSwgI2MzY2ZlMiAxMDAlKTsKICAgICAgICAgICAgbWluLWhlaWdodDogNjAwcHg7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICB9CgogICAgICAgIC5vcmctY2hhcnQgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBtaW4td2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHBhZGRpbmc6IDUwcHggMzBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyog2KrYrdiz2YrZhiDYp9mE2LnYsdi2INi52YTZiSDYp9mE2LTYp9i02KfYqiDYp9mE2YPYqNmK2LHYqSAqLwogICAgICAgIEBtZWRpYSAobWluLXdpZHRoOiAxMjAwcHgpIHsKICAgICAgICAgICAgLm9yZy1jaGlsZHJlbi13cmFwcGVyIHsKICAgICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMzAwcHgsIDFmcikpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIubGV2ZWwtMy13cmFwcGVyIHsKICAgICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjgwcHgsIDFmcikpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIubGV2ZWwtMi13cmFwcGVyIHsKICAgICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMzIwcHgsIDFmcikpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qINiq2K3Ys9mK2YYg2KfZhNi52LHYtiDYudmE2Ykg2KfZhNi02KfYtNin2Kog2KfZhNmF2KrZiNiz2LfYqSAqLwogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiAxMTk5cHgpIGFuZCAobWluLXdpZHRoOiA3NjhweCkgewogICAgICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIgewogICAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyNTBweCwgMWZyKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyog2KrYrdiz2YrZhiDYp9mE2LnYsdi2INi52YTZiSDYp9mE2LTYp9i02KfYqiDYp9mE2LXYutmK2LHYqSAqLwogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkgewogICAgICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIgewogICAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7CiAgICAgICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC5vcmctbm9kZSB7CiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC5vcmctbGV2ZWwgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA1MHB4OwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qINiq2K3Ys9mK2YYg2LnYsdi2INin2YTZhdiz2KrZiNmK2KfYqiDYp9mE2YXYrtiq2YTZgdipICovCiAgICAgICAgLm9yZy1sZXZlbC5sZXZlbC0wIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNjBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm9yZy1sZXZlbC5sZXZlbC0xIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNTBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm9yZy1sZXZlbC5sZXZlbC0yIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNDBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm9yZy1sZXZlbC5sZXZlbC0zIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICAgICAgICB9CgogICAgICAgIC5vcmctbm9kZSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBib3JkZXI6IDRweCBzb2xpZDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsKICAgICAgICAgICAgcGFkZGluZzogMjVweDsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBtaW4td2lkdGg6IDI4MHB4OwogICAgICAgICAgICBtYXgtd2lkdGg6IDMyMHB4OwogICAgICAgICAgICB3aWR0aDogYXV0bzsKICAgICAgICAgICAgZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDMwcHggcmdiYSgwLCAwLCAwLCAwLjE1KSwgMCAwIDAgMXB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjRzIGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIsIDEuMjc1KTsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgfQoKICAgICAgICAub3JnLW5vZGU6OmJlZm9yZSB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgICAgIGhlaWdodDogNXB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHRyYW5zcGFyZW50LCByZ2JhKDI1NSwyNTUsMjU1LDAuNSksIHRyYW5zcGFyZW50KTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuNnM7CiAgICAgICAgfQoKICAgICAgICAub3JnLW5vZGU6aG92ZXI6OmJlZm9yZSB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTsKICAgICAgICB9CgogICAgICAgIC5vcmctbm9kZTpob3ZlciB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtOHB4KSBzY2FsZSgxLjAyKTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxNXB4IDQwcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDAgMCAxcHggcmdiYSgwLCAwLCAwLCAwLjA1KTsKICAgICAgICB9CgogICAgICAgIC5vcmctbm9kZS5sZXZlbC0wIHsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTQ1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDUwJSwgIzY2N2VlYSAxMDAlKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBmb250LXNpemU6IDEuM2VtOwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDM1cHggcmdiYSgxMDIsIDEyNiwgMjM0LCAwLjQpLCBpbnNldCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4yKTsKICAgICAgICAgICAgbWluLXdpZHRoOiAzNTBweDsKICAgICAgICAgICAgbWF4LXdpZHRoOiA0MDBweDsKICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgICAgfQoKICAgICAgICAub3JnLW5vZGUubGV2ZWwtMDo6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAn8J+RkSc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAtMTVweDsKICAgICAgICAgICAgcmlnaHQ6IC0xNXB4OwogICAgICAgICAgICBmb250LXNpemU6IDJlbTsKICAgICAgICAgICAgb3BhY2l0eTogMC4zOwogICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxNWRlZyk7CiAgICAgICAgfQoKICAgICAgICAub3JnLW5vZGUubGV2ZWwtMSB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzI4YTc0NTsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE0NWRlZywgIzI4YTc0NSAwJSwgIzIwYzk5NyA1MCUsICMyOGE3NDUgMTAwJSk7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMzBweCByZ2JhKDQwLCAxNjcsIDY5LCAwLjMpLCBpbnNldCAwIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4yKTsKICAgICAgICB9CgogICAgICAgIC5vcmctbm9kZS5sZXZlbC0yIHsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAjZmY5ODAwOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTQ1ZGVnLCAjZmY5ODAwIDAlLCAjZmY2YjM1IDUwJSwgI2ZmOTgwMCAxMDAlKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDhweCAzMHB4IHJnYmEoMjU1LCAxNTIsIDAsIDAuMyksIGluc2V0IDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjIpOwogICAgICAgIH0KCiAgICAgICAgLm9yZy1ub2RlLmxldmVsLTMgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICMxN2EyYjg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDVkZWcsICMxN2EyYjggMCUsICM2ZjQyYzEgNTAlLCAjMTdhMmI4IDEwMCUpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDMwcHggcmdiYSgyMywgMTYyLCAxODQsIDAuMyksIGluc2V0IDAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjIpOwogICAgICAgIH0KCiAgICAgICAgLm9yZy1ub2RlLmxldmVsLTQgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICM2Yzc1N2Q7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDVkZWcsICNmZmZmZmYgMCUsICNmOGY5ZmEgMTAwJSk7CiAgICAgICAgICAgIGNvbG9yOiAjMzMzOwogICAgICAgICAgICBib3JkZXItd2lkdGg6IDNweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA2cHggMjVweCByZ2JhKDEwOCwgMTE3LCAxMjUsIDAuMik7CiAgICAgICAgfQoKICAgICAgICAub3JnLW5vZGUtdGl0bGUgewogICAgICAgICAgICBmb250LXNpemU6IDEuMjVlbTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICB0ZXh0LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7CiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjVweDsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMzsKICAgICAgICAgICAgd29yZC1icmVhazogYnJlYWstd29yZDsKICAgICAgICB9CgogICAgICAgIC5vcmctbm9kZS5sZXZlbC00IC5vcmctbm9kZS10aXRsZSB7CiAgICAgICAgICAgIGNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICB0ZXh0LXNoYWRvdzogbm9uZTsKICAgICAgICB9CgogICAgICAgIC5vcmctbm9kZS1zdWJ0aXRsZSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45ZW07CiAgICAgICAgICAgIG9wYWNpdHk6IDAuOTsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7CiAgICAgICAgICAgIHBhZGRpbmc6IDRweCA4cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICAgICAgfQoKICAgICAgICAub3JnLW5vZGUtY291bnQgewogICAgICAgICAgICBmb250LXNpemU6IDAuOWVtOwogICAgICAgICAgICBvcGFjaXR5OiAwLjk7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTJweDsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDEycHg7CiAgICAgICAgICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNCk7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgfQoKICAgICAgICAub3JnLW5vZGUubGV2ZWwtNCAub3JnLW5vZGUtY291bnQgewogICAgICAgICAgICBib3JkZXItdG9wLWNvbG9yOiAjZTllY2VmOwogICAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICB9CgogICAgICAgIC5vcmctbm9kZS1tYW5hZ2VycyB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEycHg7CiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAxMnB4OwogICAgICAgICAgICBib3JkZXItdG9wOiAycHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpOwogICAgICAgIH0KCiAgICAgICAgLm9yZy1ub2RlLW1hbmFnZXJzIGRpdiB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NWVtOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA2cHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDRweCA4cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDsKICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOwogICAgICAgIH0KCiAgICAgICAgLm9yZy1jb25uZWN0b3IgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICAgICAgICAgIHotaW5kZXg6IDA7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuMyk7CiAgICAgICAgfQoKICAgICAgICAub3JnLWNvbm5lY3Rvci52ZXJ0aWNhbCB7CiAgICAgICAgICAgIHdpZHRoOiA0cHg7CiAgICAgICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICAgICAgdG9wOiAtNTBweDsKICAgICAgICAgICAgbGVmdDogNTAlOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgICAgICB9CgogICAgICAgIC5vcmctY29ubmVjdG9yLmhvcml6b250YWwgewogICAgICAgICAgICBoZWlnaHQ6IDRweDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHRvcDogNTAlOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgICAgICB9CgogICAgICAgIC5vcmctY2hpbGRyZW4gewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgbWFyZ2luLXRvcDogNTBweDsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDQwcHg7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiDYqtit2LPZitmGINin2YTZhdiz2KfZgdipINio2YrZhiDYp9mE2YXYs9iq2YjZitin2Kog2YHZiiDYp9mE2LTYrNix2KkgKi8KICAgICAgICAub3JnLW5vZGUubGV2ZWwtMCAub3JnLWNoaWxkcmVuIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogNjBweDsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDUwcHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5vcmctbm9kZS5sZXZlbC0xIC5vcmctY2hpbGRyZW4gewogICAgICAgICAgICBtYXJnaW4tdG9wOiA1MHB4OwogICAgICAgICAgICBwYWRkaW5nLXRvcDogNDBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm9yZy1ub2RlLmxldmVsLTIgLm9yZy1jaGlsZHJlbiB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDQ1cHg7CiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAzNXB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAub3JnLW5vZGUubGV2ZWwtMyAub3JnLWNoaWxkcmVuIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogNDBweDsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDMwcHg7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qINin2YTYqtij2YPYryDZhdmGINij2YYg2KfZhNij2YLYs9in2YUg2KrYuNmH2LEg2YPZgdix2YjYuSDZiNin2LbYrdipICovCiAgICAgICAgLm9yZy1ub2RlLmxldmVsLTAgLm9yZy1jaGlsZHJlbiAub3JnLWNoaWxkcmVuLXdyYXBwZXIsCiAgICAgICAgLm9yZy1ub2RlLmxldmVsLTIgLm9yZy1jaGlsZHJlbiAub3JnLWNoaWxkcmVuLXdyYXBwZXIgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgfQoKICAgICAgICAub3JnLWNoaWxkcmVuOjpiZWZvcmUgewogICAgICAgICAgICBjb250ZW50OiAnJzsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgd2lkdGg6IDRweDsKICAgICAgICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMTAyLCAxMjYsIDIzNCwgMC4zKTsKICAgICAgICB9CgogICAgICAgIC5vcmctY2hpbGRyZW4td3JhcHBlciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsKICAgICAgICAgICAgZ2FwOiAyNXB4OwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyog2KrYrdiz2YrZhiDYudix2LYg2KfZhNij2YLYs9in2YUg2YHZiiDYp9mE2YXYtNin2LHZiti5IC0g2LnYsdi2INij2YHZgtmKINmF2KvZhCDYp9mE2LTYrNix2KkgKi8KICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIubGV2ZWwtMy13cmFwcGVyIHsKICAgICAgICAgICAgZGlzcGxheTogZ3JpZDsKICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyNjBweCwgMWZyKSk7CiAgICAgICAgICAgIGdhcDogMjBweDsKICAgICAgICAgICAganVzdGlmeS1pdGVtczogY2VudGVyOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4IDEwcHg7CiAgICAgICAgICAgIGZsZXgtd3JhcDogbm93cmFwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiDYqtit2LPZitmGINi52LHYtiDYp9mE2KPZgtiz2KfZhSDYudmG2K/ZhdinINiq2YPZiNmGINmC2YTZitmE2KkgKDEtMyDYo9mC2LPYp9mFKSAqLwogICAgICAgIC5vcmctY2hpbGRyZW4td3JhcHBlci5sZXZlbC0zLXdyYXBwZXI6aGFzKC5vcmctbm9kZS13cmFwcGVyOm9ubHktY2hpbGQpLAogICAgICAgIC5vcmctY2hpbGRyZW4td3JhcHBlci5sZXZlbC0zLXdyYXBwZXI6aGFzKC5vcmctbm9kZS13cmFwcGVyOm50aC1jaGlsZCgyKTpsYXN0LWNoaWxkKSwKICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIubGV2ZWwtMy13cmFwcGVyOmhhcygub3JnLW5vZGUtd3JhcHBlcjpudGgtY2hpbGQoMyk6bGFzdC1jaGlsZCkgewogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDI4MHB4LCAxZnIpKTsKICAgICAgICAgICAgbWF4LXdpZHRoOiAxMjAwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiDYqtit2LPZitmGINi52LHYtiDYp9mE2KPZgtiz2KfZhSDYudmG2K/ZhdinINiq2YPZiNmGINmF2KrZiNiz2LfYqSAoNC02INij2YLYs9in2YUpICovCiAgICAgICAgLm9yZy1jaGlsZHJlbi13cmFwcGVyLmxldmVsLTMtd3JhcHBlcjpoYXMoLm9yZy1ub2RlLXdyYXBwZXI6bnRoLWNoaWxkKDQpOmxhc3QtY2hpbGQpLAogICAgICAgIC5vcmctY2hpbGRyZW4td3JhcHBlci5sZXZlbC0zLXdyYXBwZXI6aGFzKC5vcmctbm9kZS13cmFwcGVyOm50aC1jaGlsZCg1KTpsYXN0LWNoaWxkKSwKICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIubGV2ZWwtMy13cmFwcGVyOmhhcygub3JnLW5vZGUtd3JhcHBlcjpudGgtY2hpbGQoNik6bGFzdC1jaGlsZCkgewogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDI1MHB4LCAxZnIpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyog2KrYrdiz2YrZhiDYudix2LYg2KfZhNij2YLYs9in2YUg2LnZhtiv2YXYpyDYqtmD2YjZhiDZg9ir2YrYsdipICg3KyDYo9mC2LPYp9mFKSAqLwogICAgICAgIC5vcmctY2hpbGRyZW4td3JhcHBlci5sZXZlbC0zLXdyYXBwZXI6aGFzKC5vcmctbm9kZS13cmFwcGVyOm50aC1jaGlsZCg3KSkgewogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIyMHB4LCAxZnIpKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyog2KrYrdiz2YrZhiDYudix2LYg2KfZhNi52YLYryDZgdmKIGdyaWQg2YTZhNij2YLYs9in2YUgKi8KICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIubGV2ZWwtMy13cmFwcGVyIC5vcmctbm9kZS13cmFwcGVyIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLm9yZy1jaGlsZHJlbi13cmFwcGVyLmxldmVsLTMtd3JhcHBlciAub3JnLW5vZGUgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiDYqtit2LPZitmGINi52LHYtiDYp9mE2YXYtNin2LHZiti5INmB2Yog2KfZhNmF2YbYp9i32YIgKi8KICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIubGV2ZWwtMi13cmFwcGVyIHsKICAgICAgICAgICAgZ2FwOiAyNXB4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiDYqtit2LPZitmGINi52LHYtiDYp9mE2YXZhtin2LfZgiAqLwogICAgICAgIC5vcmctY2hpbGRyZW4td3JhcHBlci5sZXZlbC0xLXdyYXBwZXIgewogICAgICAgICAgICBnYXA6IDMwcHg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICAgICAgfQoKICAgICAgICAvKiDYrti3INin2KrYtdin2YQg2KPZgdmC2Yog2YXZhiDYp9mE2LnZgtiv2Kkg2KfZhNij2YUg2KXZhNmJINis2YXZiti5INin2YTYo9io2YbYp9ihICovCiAgICAgICAgLm9yZy1jaGlsZHJlbi13cmFwcGVyOjpiZWZvcmUgewogICAgICAgICAgICBjb250ZW50OiAnJzsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IC00MHB4OwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICByaWdodDogMDsKICAgICAgICAgICAgaGVpZ2h0OiAzcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdHJhbnNwYXJlbnQgMCUsICM2NjdlZWEgNSUsICM2NjdlZWEgOTUlLCB0cmFuc3BhcmVudCAxMDAlKTsKICAgICAgICAgICAgei1pbmRleDogMDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgICAgIH0KCiAgICAgICAgLyog2K7YtyDYp9iq2LXYp9mEINix2KPYs9mKINmF2YYg2KfZhNi52YLYr9ipINin2YTYo9mFICovCiAgICAgICAgLm9yZy1jaGlsZHJlbi13cmFwcGVyOjphZnRlciB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogLTQwcHg7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgd2lkdGg6IDNweDsKICAgICAgICAgICAgaGVpZ2h0OiA0MHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICAgICAgICAgIHotaW5kZXg6IDA7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyog2KrYrdiz2YrZhiDYrti32YjYtyDYp9mE2KfYqti12KfZhCDZhNmE2KPZgtiz2KfZhSAo2KfZhNmF2LPYqtmI2YkgMykgKi8KICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIubGV2ZWwtMy13cmFwcGVyOjpiZWZvcmUgewogICAgICAgICAgICB0b3A6IC0zNXB4OwogICAgICAgICAgICBoZWlnaHQ6IDIuNXB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIubGV2ZWwtMy13cmFwcGVyOjphZnRlciB7CiAgICAgICAgICAgIHRvcDogLTM1cHg7CiAgICAgICAgICAgIGhlaWdodDogMzVweDsKICAgICAgICAgICAgd2lkdGg6IDIuNXB4OwogICAgICAgIH0KCiAgICAgICAgLm9yZy1ub2RlIHsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICB6LWluZGV4OiAxOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiB3cmFwcGVyINmE2YTYudmC2K8g2YTYsdiz2YUg2K7Yt9mI2Lcg2KfZhNin2KrYtdin2YQgKi8KICAgICAgICAub3JnLW5vZGUtd3JhcHBlciB7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZmxleDogMCAwIGF1dG87CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qINiu2Lcg2KfYqti12KfZhCDYsdij2LPZiiDZhdmGINin2YTYudmC2K/YqSDYpdmE2Ykg2KPYqNmG2KfYptmH2KcgKi8KICAgICAgICAub3JnLW5vZGUtd3JhcHBlcjo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAtNDBweDsKICAgICAgICAgICAgbGVmdDogNTAlOwogICAgICAgICAgICB3aWR0aDogM3B4OwogICAgICAgICAgICBoZWlnaHQ6IDQwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICAgICAgICAgICAgei1pbmRleDogMDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiDYpdiu2YHYp9ihINin2YTYrti3INin2YTYsdij2LPZiiDZhNmE2LnZgtiv2Kkg2KfZhNis2LDYsdmK2KkgKi8KICAgICAgICAub3JnLWxldmVsOmZpcnN0LWNoaWxkIC5vcmctbm9kZS13cmFwcGVyOjpiZWZvcmUgewogICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiDYrti3INin2KrYtdin2YQg2KPZgdmC2Yog2KjZitmGINin2YTYudmC2K8g2YHZiiDZhtmB2LMg2KfZhNmF2LPYqtmI2YkgKi8KICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXI6OmJlZm9yZSB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogLTQwcHg7CiAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICBoZWlnaHQ6IDNweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCB0cmFuc3BhcmVudCAwJSwgIzY2N2VlYSAxMCUsICM2NjdlZWEgOTAlLCB0cmFuc3BhcmVudCAxMDAlKTsKICAgICAgICAgICAgei1pbmRleDogMDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiDYrti3INin2KrYtdin2YQg2LHYo9iz2Yog2YXZhiDYp9mE2YXYs9iq2YjZiSDYp9mE2KPYudmE2YkgKi8KICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXI6OmFmdGVyIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAtNDBweDsKICAgICAgICAgICAgbGVmdDogNTAlOwogICAgICAgICAgICB3aWR0aDogM3B4OwogICAgICAgICAgICBoZWlnaHQ6IDQwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICAgICAgICAgICAgei1pbmRleDogMDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiDYrti32YjYtyDYp9iq2LXYp9mEINij2YHZgtmK2Kkg2KjZitmGINin2YTYudmC2K8g2KfZhNmF2KrYrNin2YjYsdipICovCiAgICAgICAgLm9yZy1ub2RlLXdyYXBwZXI6bm90KDpmaXJzdC1jaGlsZCk6OmFmdGVyIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgbGVmdDogLTE1cHg7CiAgICAgICAgICAgIHRvcDogLTQwcHg7CiAgICAgICAgICAgIHdpZHRoOiAxNXB4OwogICAgICAgICAgICBoZWlnaHQ6IDNweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICB6LWluZGV4OiAwOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvKiDYrti3INin2KrYtdin2YQg2LHYo9iz2Yog2YHZiiDYp9mE2YXZhtiq2LXZgSAqLwogICAgICAgIC5vcmctbm9kZS13cmFwcGVyOmZpcnN0LWNoaWxkOjphZnRlciB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIGxlZnQ6IDUwJTsKICAgICAgICAgICAgdG9wOiAtNDBweDsKICAgICAgICAgICAgd2lkdGg6IDNweDsKICAgICAgICAgICAgaGVpZ2h0OiA0MHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpOwogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICAgICAgICAgIHotaW5kZXg6IDA7CiAgICAgICAgfQoKICAgICAgICAub3JnLWVtcGxveWVlLWxpc3QgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgxODBweCwgMWZyKSk7CiAgICAgICAgICAgIGdhcDogMTJweDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTVweDsKICAgICAgICB9CgogICAgICAgIC5vcmctZW1wbG95ZWUtY2FyZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yNSk7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40KTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgcGFkZGluZzogMTJweDsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjllbTsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAub3JnLWVtcGxveWVlLWNhcmQ6OmJlZm9yZSB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogLTEwMCU7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdHJhbnNwYXJlbnQsIHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwgdHJhbnNwYXJlbnQpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBsZWZ0IDAuNXM7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC5vcmctZW1wbG95ZWUtY2FyZDpob3Zlcjo6YmVmb3JlIHsKICAgICAgICAgICAgbGVmdDogMTAwJTsKICAgICAgICB9CgogICAgICAgIC5vcmctZW1wbG95ZWUtY2FyZDpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC40KTsKICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgICAgIH0KCiAgICAgICAgLm9yZy1lbXBsb3llZS1jYXJkIHN0cm9uZyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgfQoKICAgICAgICAub3JnLW5vZGUubGV2ZWwtNCAub3JnLWVtcGxveWVlLWNhcmQgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogICAgICAgICAgICBib3JkZXItY29sb3I6ICNlOWVjZWY7CiAgICAgICAgICAgIGNvbG9yOiAjMzMzOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjA4KTsKICAgICAgICB9CgogICAgICAgIC5vcmctbm9kZS5sZXZlbC00IC5vcmctZW1wbG95ZWUtY2FyZDpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmOGY5ZmE7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogIzY2N2VlYTsKICAgICAgICB9CgogICAgICAgIC5vcmctY29udHJvbHMgewogICAgICAgICAgICBwb3NpdGlvbjogc3RpY2t5OwogICAgICAgICAgICB0b3A6IDEwcHg7CiAgICAgICAgICAgIHotaW5kZXg6IDEwMDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2ZmZmZmZiAwJSwgI2Y4ZjlmYSAxMDAlKTsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGdhcDogMTJweDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsKICAgICAgICB9CgogICAgICAgIC5vcmctY29udHJvbHMgYnV0dG9uIHsKICAgICAgICAgICAgcGFkZGluZzogMTBweCAyMHB4OwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7CiAgICAgICAgfQoKICAgICAgICAub3JnLWNvbnRyb2xzIGJ1dHRvbjpob3ZlciB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMTUpOwogICAgICAgIH0KCiAgICAgICAgLm9yZy16b29tLWNvbnRyb2xzIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiAxMnB4OwogICAgICAgICAgICBwYWRkaW5nOiA4cHggMTZweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2Y4ZjlmYTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZTllY2VmOwogICAgICAgIH0KCiAgICAgICAgLm9yZy16b29tLWxldmVsIHsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIG1pbi13aWR0aDogNzBweDsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBjb2xvcjogIzY2N2VlYTsKICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgIH0KCiAgICAgICAgLm9yZy1zdGF0cyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjIwcHgsIDFmcikpOwogICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDQwcHg7CiAgICAgICAgfQoKICAgICAgICAub3JnLXN0YXQtY2FyZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmZmZmZmYgMCUsICNmOGY5ZmEgMTAwJSk7CiAgICAgICAgICAgIHBhZGRpbmc6IDMwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA2cHggMjVweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgfQoKICAgICAgICAub3JnLXN0YXQtY2FyZDo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJyc7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICByaWdodDogMDsKICAgICAgICAgICAgaGVpZ2h0OiA1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzY2N2VlYSwgIzc2NGJhMik7CiAgICAgICAgfQoKICAgICAgICAub3JnLXN0YXQtY2FyZDpob3ZlciB7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNXB4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDM1cHggcmdiYSgwLCAwLCAwLCAwLjE1KTsKICAgICAgICB9CgogICAgICAgIC5vcmctc3RhdC1udW1iZXIgewogICAgICAgICAgICBmb250LXNpemU6IDNlbTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDgwMDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsKICAgICAgICAgICAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHRleHQ7CiAgICAgICAgICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jbGlwOiB0ZXh0OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxOwogICAgICAgIH0KCiAgICAgICAgLm9yZy1zdGF0LWxhYmVsIHsKICAgICAgICAgICAgY29sb3I6ICM2NjY7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtOwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlOwogICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMC41cHg7CiAgICAgICAgfQoKICAgICAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgICAgINiq2LXZhdmK2YUg2KfYrdiq2LHYp9mB2Yog2YTZhNi32KjYp9i52KkKICAgICAgICAgICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqLwogICAgICAgIEBtZWRpYSBwcmludCB7CiAgICAgICAgICAgIEBwYWdlIHsKICAgICAgICAgICAgICAgIHNpemU6IEE0IGxhbmRzY2FwZTsKICAgICAgICAgICAgICAgIG1hcmdpbjogMS41Y207CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJvZHkgewogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGUgIWltcG9ydGFudDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLm9yZy1jb250cm9scyB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5vcmctY2hhcnQtY29udGFpbmVyIHsKICAgICAgICAgICAgICAgIG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICAub3JnLWNoYXJ0IHsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHggMCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKSAhaW1wb3J0YW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICAub3JnLW5vZGUgewogICAgICAgICAgICAgICAgYnJlYWstaW5zaWRlOiBhdm9pZDsKICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstaW5zaWRlOiBhdm9pZDsKICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSkgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJvcmRlci13aWR0aDogMnB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBtYXJnaW46IDEwcHggIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZGRpbmc6IDE1cHggIWltcG9ydGFudDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLm9yZy1ub2RlOmhvdmVyIHsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogbm9uZSAhaW1wb3J0YW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICAub3JnLW5vZGU6OmJlZm9yZSB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5vcmctbm9kZTo6YWZ0ZXIgewogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICAub3JnLWxldmVsIHsKICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHggIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIHBhZ2UtYnJlYWstaW5zaWRlOiBhdm9pZDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLm9yZy1jaGlsZHJlbiB7CiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMTVweCAhaW1wb3J0YW50OwogICAgICAgICAgICB9CgogICAgICAgICAgICAub3JnLWNoaWxkcmVuLXdyYXBwZXIgewogICAgICAgICAgICAgICAgZ2FwOiAyMHB4ICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5vcmctc3RhdHMgewogICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweCAhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgcGFnZS1icmVhay1hZnRlcjogYXZvaWQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5vcmctc3RhdC1jYXJkIHsKICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSkgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlOWVjZWYgIWltcG9ydGFudDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLm9yZy1zdGF0LWNhcmQ6OmJlZm9yZSB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5vcmctZW1wbG95ZWUtY2FyZCB7CiAgICAgICAgICAgICAgICBicmVhay1pbnNpZGU6IGF2b2lkOwogICAgICAgICAgICAgICAgcGFnZS1icmVhay1pbnNpZGU6IGF2b2lkOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvKiDYqtit2LPZitmGINin2YTYo9mE2YjYp9mGINmE2YTYt9io2KfYudipICovCiAgICAgICAgICAgIC5vcmctbm9kZS5sZXZlbC0wIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSkgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIC13ZWJraXQtcHJpbnQtY29sb3ItYWRqdXN0OiBleGFjdDsKICAgICAgICAgICAgICAgIHByaW50LWNvbG9yLWFkanVzdDogZXhhY3Q7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5vcmctbm9kZS5sZXZlbC0xIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDVkZWcsICMyOGE3NDUgMCUsICMyMGM5OTcgMTAwJSkgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIC13ZWJraXQtcHJpbnQtY29sb3ItYWRqdXN0OiBleGFjdDsKICAgICAgICAgICAgICAgIHByaW50LWNvbG9yLWFkanVzdDogZXhhY3Q7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5vcmctbm9kZS5sZXZlbC0yIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDVkZWcsICNmZjk4MDAgMCUsICNmZjZiMzUgMTAwJSkgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIC13ZWJraXQtcHJpbnQtY29sb3ItYWRqdXN0OiBleGFjdDsKICAgICAgICAgICAgICAgIHByaW50LWNvbG9yLWFkanVzdDogZXhhY3Q7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC5vcmctbm9kZS5sZXZlbC0zIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxNDVkZWcsICMxN2EyYjggMCUsICM2ZjQyYzEgMTAwJSkgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIC13ZWJraXQtcHJpbnQtY29sb3ItYWRqdXN0OiBleGFjdDsKICAgICAgICAgICAgICAgIHByaW50LWNvbG9yLWFkanVzdDogZXhhY3Q7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8qINil2LbYp9mB2Kkg2LHYo9izINmI2KrYsNmK2YrZhCDZhNmE2LfYqNin2LnYqSAqLwogICAgICAgICAgICAub3JnLWNoYXJ0OjpiZWZvcmUgewogICAgICAgICAgICAgICAgY29udGVudDogJ9iq2YLYsdmK2LEg2YfZitmD2YQg2KfZhNi02LHZg9ipJzsKICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4OwogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICBjb2xvcjogIzY2N2VlYTsKICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTVweDsKICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjNjY3ZWVhOwogICAgICAgICAgICB9CgogICAgICAgICAgICAub3JnLWNoYXJ0OjphZnRlciB7CiAgICAgICAgICAgICAgICBjb250ZW50OiAn2KrYp9ix2YrYriDYp9mE2KrZgtix2YrYsTogJyBhdHRyKGRhdGEtcmVwb3J0LWRhdGUpOwogICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogMTVweDsKICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTllY2VmOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDwhLS0g2YjYp9is2YfYqSDYqtiz2KzZitmEINin2YTYr9iu2YjZhCAtLT4KICAgIDxkaXYgaWQ9ImxvZ2luU2NyZWVuIiBjbGFzcz0ibG9naW4tY29udGFpbmVyIj4KICAgICAgICA8ZGl2IGNsYXNzPSJsb2dpbi1ib3giPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJsb2dpbi1pY29uIj7wn5SQPC9kaXY+CiAgICAgICAgICAgIDxoMj7Yqtiz2KzZitmEINin2YTYr9iu2YjZhDwvaDI+CiAgICAgICAgICAgIDxwPtmG2LjYp9mFINil2K/Yp9ix2Kkg2KfZhNmF2YjYp9ix2K8g2KfZhNio2LTYsdmK2Kk8L3A+CiAgICAgICAgICAgIAogICAgICAgICAgICA8ZGl2IGlkPSJsb2dpbkVycm9yIiBjbGFzcz0ibG9naW4tZXJyb3IiPjwvZGl2PgogICAgICAgICAgICAKICAgICAgICAgICAgPGZvcm0gaWQ9ImxvZ2luRm9ybSIgb25zdWJtaXQ9ImhhbmRsZUxvZ2luKGV2ZW50KSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsb2dpbi1mb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiBpZD0ibG9naW5FbWFpbCIgcGxhY2Vob2xkZXI9Itij2K/YrtmEINin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZiiIgcmVxdWlyZWQgYXV0b2NvbXBsZXRlPSJlbWFpbCI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibG9naW4tZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtmD2YTZhdipINin2YTZhdix2YjYsTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9ImxvZ2luUGFzc3dvcmQiIHBsYWNlaG9sZGVyPSLYo9iv2K7ZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEiIHJlcXVpcmVkIGF1dG9jb21wbGV0ZT0iY3VycmVudC1wYXNzd29yZCI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibG9naW4tcmVtZW1iZXIiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0icmVtZW1iZXJNZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPtiq2LDZg9ix2YbZijwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0ibG9naW4tYnRuIiBpZD0ibG9naW5CdG4iPgogICAgICAgICAgICAgICAgICAgINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmECiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAKICAgICAgICAgICAgPGRpdiBpZD0ibG9naW5Mb2FkaW5nIiBjbGFzcz0ibG9naW4tbG9hZGluZyI+CiAgICAgICAgICAgICAgICDYrNin2LHZiiDYqtiz2KzZitmEINin2YTYr9iu2YjZhAogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxvZ2luLWZvb3RlciI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgb25jbGljaz0icmVzZXRCcm93c2VyRGF0YSgpIiBzdHlsZT0iY29sb3I6ICNkYzM1NDU7Ij4KICAgICAgICAgICAgICAgICAgICDwn5SEINiq2YfZitim2Kkg2KjZitin2YbYp9iqINin2YTZhdiq2LXZgditCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tINin2YTYqti32KjZitmCINin2YTYsdim2YrYs9mKIC0tPgogICAgPGRpdiBpZD0iYXBwIiBjbGFzcz0iY29udGFpbmVyIGhpZGRlbiI+CiAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVyIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVyLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVyLWxlZnQiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1sb2dvIiBpZD0iY29tcGFueUxvZ29IZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJoZWFkZXItbG9nby1wbGFjZWhvbGRlciI+8J+PojwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci10aXRsZS1zZWN0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGlkPSJoZWFkZXJTeXN0ZW1UaXRsZSI+2YbYuNin2YUg2KXYr9in2LHYqSDYp9mE2YXZiNin2LHYryDYp9mE2KjYtNix2YrYqTwvaDE+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1jb21wYW55LW5hbWUiIGlkPSJjb21wYW55TmFtZUhlYWRlciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1yaWdodCI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVyLXVzZXItaW5mbyIgaWQ9InVzZXJJbmZvIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVyLXVzZXItbmFtZSI+2KzYp9ix2Yog2KfZhNiq2K3ZhdmK2YQuLi48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaGVhZGVyLXVzZXItcm9sZSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iaGVhZGVyLWxhbmd1YWdlLWJ0biIgb25jbGljaz0idG9nZ2xlTGFuZ3VhZ2UoKSIgdGl0bGU9Itiq2KjYr9mK2YQg2KfZhNmE2LrYqSAvIFN3aXRjaCBMYW5ndWFnZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJsYW5ndWFnZUljb24iPvCfjJA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJsYW5ndWFnZVRleHQiPkVOPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImhlYWRlci1sb2dvdXQtYnRuIiBvbmNsaWNrPSJoYW5kbGVMb2dvdXQoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPvCfmqo8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJsb2dvdXRUZXh0Ij7Yqtiz2KzZitmEINin2YTYrtix2YjYrDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0ibmF2Ij4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibmF2LWJ0biBhY3RpdmUiIG9uY2xpY2s9InNob3dTZWN0aW9uKCdkYXNoYm9hcmQnKSI+8J+TiiDZhNmI2K3YqSDYp9mE2KrYrdmD2YU8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibmF2LWJ0biIgb25jbGljaz0ic2hvd1NlY3Rpb24oJ2VtcGxveWVlcycpIj7wn5GlINin2YTZhdmI2LjZgdmK2YY8L2J1dHRvbj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibmF2LWJ0biIgb25jbGljaz0ic2hvd1NlY3Rpb24oJ3Byb2plY3RzJykiPvCfk4Eg2KfZhNmF2LTYp9ix2YrYuTwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJuYXYtYnRuIiBvbmNsaWNrPSJzaG93U2VjdGlvbigncmVnaW9ucycpIj7wn4yNINin2YTZhdmG2KfYt9mCPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im5hdi1idG4iIG9uY2xpY2s9InNob3dTZWN0aW9uKCdkZXBhcnRtZW50cycpIj7wn4+b77iPINin2YTYo9mC2LPYp9mFPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im5hdi1idG4iIG9uY2xpY2s9InNob3dTZWN0aW9uKCdsZWF2ZXMnKSI+8J+ThSDYp9mE2KXYrNin2LLYp9iqPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9Im5hdi1idG4iIG9uY2xpY2s9InNob3dTZWN0aW9uKCdyZXBvcnRzJykiPvCfk4gg2KfZhNiq2YLYp9ix2YrYsTwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJuYXYtYnRuIiBvbmNsaWNrPSJzaG93U2VjdGlvbigndXNlcnMnKSI+8J+RpCDYp9mE2YXYs9iq2K7Yr9mF2YrZhjwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJuYXYtYnRuIiBvbmNsaWNrPSJzaG93U2VjdGlvbignc2V0dGluZ3MnKSI+4pqZ77iPINin2YTYpdi52K/Yp9iv2KfYqjwvYnV0dG9uPgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50Ij4KICAgICAgICAgICAgPCEtLSDZhNmI2K3YqSDYp9mE2KrYrdmD2YUgLS0+CiAgICAgICAgICAgIDxkaXYgaWQ9ImRhc2hib2FyZCIgY2xhc3M9InNlY3Rpb24gYWN0aXZlIj4KICAgICAgICAgICAgICAgIDxoMiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMjBweDsgY29sb3I6ICM2NjdlZWE7Ij7ZhNmI2K3YqSDYp9mE2KrYrdmD2YU8L2gyPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdHMiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0YXQtY2FyZCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBpZD0idG90YWxFbXBsb3llZXMiPjA8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICA8cD7Ypdis2YXYp9mE2Yog2KfZhNmF2YjYuNmB2YrZhjwvcD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWNhcmQiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9InRvdGFsUHJvamVjdHMiPjA8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICA8cD7Ypdis2YXYp9mE2Yog2KfZhNmF2LTYp9ix2YrYuTwvcD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzdGF0LWNhcmQiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDIgaWQ9ImFjdGl2ZVByb2plY3RzIj4wPC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgPHA+2KfZhNmF2LTYp9ix2YrYuSDYp9mE2YbYtNi32Kk8L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RhdC1jYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGlkPSJhY3RpdmVFbXBsb3llZXMiPjA8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICA8cD7Yp9mE2YXZiNi42YHZitmGINin2YTZhti02LfZitmGPC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPCEtLSDYp9mE2YXZiNi42YHZitmGIC0tPgogICAgICAgICAgICA8ZGl2IGlkPSJlbXBsb3llZXMiIGNsYXNzPSJzZWN0aW9uIj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMjBweDsgZmxleC13cmFwOiB3cmFwOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICA8aDIgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICM2NjdlZWE7Ij7Ypdiv2KfYsdipINin2YTZhdmI2LjZgdmK2YY8L2gyPgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9InNob3dBZGRFbXBsb3llZUZvcm0oKSI+KyDYpdi22KfZgdipINmF2YjYuNmBINis2K/ZitivPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgb25jbGljaz0ic2hvd0J1bGtBZGRFbXBsb3llZXNGb3JtKCkiPisg2KXYttin2YHYqSDZhdmI2LjZgdmK2YYg2YXYqti52K/Yr9mK2YY8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDwhLS0g2KfZhNio2K3YqyDZiNin2YTZgdmE2KrYsdipIC0tPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2Y4ZjlmYTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgc3R5bGU9Im1hcmdpbjogMDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYqNit2Ks6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZW1wbG95ZWVTZWFyY2giIHBsYWNlaG9sZGVyPSLYp9io2K3YqyDYqNin2YTYp9iz2YXYjCDYp9mE2LHZgtmFINin2YTZiNi42YrZgdmKLi4uIiBvbmtleXVwPSJmaWx0ZXJFbXBsb3llZXMoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luOiAwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNit2KfZhNipOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJlbXBsb3llZVN0YXR1c0ZpbHRlciIgb25jaGFuZ2U9ImZpbHRlckVtcGxveWVlcygpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtin2YTZg9mEPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYWN0aXZlIj7Zhti02Lc8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJpbmFjdGl2ZSI+2LrZitixINmG2LTYtzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im9uLWxlYXZlIj7ZgdmKINil2KzYp9iy2Kk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAxNXB4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9ImVtcGxveWVlc0NvdW50IiBzdHlsZT0iY29sb3I6ICM2NjY7Ij7Ypdis2YXYp9mE2Yog2KfZhNmF2YjYuNmB2YrZhjogMDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImNsZWFyRW1wbG95ZWVGaWx0ZXJzKCkiIHN0eWxlPSJwYWRkaW5nOiA4cHggMTVweDsgZm9udC1zaXplOiAxNHB4OyI+2YXYs9itINin2YTZgdmE2KfYqtixPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8IS0tINis2K/ZiNmEINin2YTZhdmI2LjZgdmK2YYgLS0+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgIDx0YWJsZSBpZD0iZW1wbG95ZWVzVGFibGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYtdmI2LHYqTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYsdmC2YUg2KfZhNmI2LjZitmB2Yo8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2KfYs9mFPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmF2LPZhdmJINin2YTZiNi42YrZgdmKPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmC2LPZhTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZijwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZh9in2KrZgTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYudmG2YjYp9mGPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KrYp9ix2YrYriDYp9mE2KrYudmK2YrZhjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYrdin2YTYqTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZhdmI2LjZgSDYp9mE2KjYr9mK2YQ8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2KXYrNix2KfYodin2Ko8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5IGlkPSJlbXBsb3llZXNUYWJsZUJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBjb2xzcGFuPSIxMiIgY2xhc3M9ImxvYWRpbmciPtis2KfYsdmKINin2YTYqtit2YXZitmELi4uPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8IS0tINin2YTZhdi02KfYsdmK2LkgLS0+CiAgICAgICAgICAgIDxkaXYgaWQ9InByb2plY3RzIiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDIwcHg7IGZsZXgtd3JhcDogd3JhcDsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGgyIHN0eWxlPSJtYXJnaW46IDA7IGNvbG9yOiAjNjY3ZWVhOyI+2KXYr9in2LHYqSDYp9mE2YXYtNin2LHZiti5PC9oMj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9InNob3dBZGRQcm9qZWN0Rm9ybSgpIj4rINil2LbYp9mB2Kkg2YXYtNix2YjYuSDYrNiv2YrYrzwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPCEtLSDYp9mE2KjYrdirINmI2KfZhNmB2YTYqtix2KkgLS0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZjhmOWZhOyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7IGdhcDogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luOiAwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNio2K3Yqzo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9qZWN0U2VhcmNoIiBwbGFjZWhvbGRlcj0i2KfYqNit2Ksg2KjYp9mE2KfYs9mF2Iwg2KfZhNix2YXYsi4uLiIgb25rZXl1cD0iZmlsdGVyUHJvamVjdHMoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luOiAwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNit2KfZhNipOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJwcm9qZWN0U3RhdHVzRmlsdGVyIiBvbmNoYW5nZT0iZmlsdGVyUHJvamVjdHMoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9mE2YPZhDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImFjdGl2ZSI+2YbYtNi3PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iY29tcGxldGVkIj7ZhdmD2KrZhdmEPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ib24taG9sZCI+2YXYqtmI2YLZgTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDE1cHg7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0icHJvamVjdHNDb3VudCIgc3R5bGU9ImNvbG9yOiAjNjY2OyI+2KXYrNmF2KfZhNmKINin2YTZhdi02KfYsdmK2Lk6IDA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJjbGVhclByb2plY3RGaWx0ZXJzKCkiIHN0eWxlPSJwYWRkaW5nOiA4cHggMTVweDsgZm9udC1zaXplOiAxNHB4OyI+2YXYs9itINin2YTZgdmE2KfYqtixPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8IS0tINis2K/ZiNmEINin2YTZhdi02KfYsdmK2LkgLS0+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgIDx0YWJsZSBpZD0icHJvamVjdHNUYWJsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2LHZhdiyINin2YTZhdi02LHZiNi5PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfYs9mFINin2YTZhdi02LHZiNi5PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmF2YbYt9mC2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yqtin2LHZitiuINin2YTYqNiv2KE8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yqtin2LHZitiuINin2YTYp9mG2KrZh9in2KE8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2K3Yp9mE2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2KXYrNix2KfYodin2Ko8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5IGlkPSJwcm9qZWN0c1RhYmxlQm9keSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIGNvbHNwYW49IjciIGNsYXNzPSJsb2FkaW5nIj7YrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPCEtLSDYp9mE2YXZhtin2LfZgiAtLT4KICAgICAgICAgICAgPGRpdiBpZD0icmVnaW9ucyIgY2xhc3M9InNlY3Rpb24iPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAyMHB4OyBmbGV4LXdyYXA6IHdyYXA7IGdhcDogMTVweDsiPgogICAgICAgICAgICAgICAgICAgIDxoMiBzdHlsZT0ibWFyZ2luOiAwOyBjb2xvcjogIzY2N2VlYTsiPtil2K/Yp9ix2Kkg2KfZhNmF2YbYp9i32YI8L2gyPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0ic2hvd0FkZFJlZ2lvbkZvcm0oKSI+KyDYpdi22KfZgdipINmF2YbYt9mC2Kkg2KzYr9mK2K/YqTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPCEtLSDYp9mE2KjYrdirIC0tPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VhcmNoLWZpbHRlci1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIHN0eWxlPSJtYXJnaW46IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYqNit2Ks6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJyZWdpb25TZWFyY2giIHBsYWNlaG9sZGVyPSLYp9io2K3YqyDYqNin2YTYp9iz2YUuLi4iIG9ua2V5dXA9ImZpbHRlclJlZ2lvbnMoKSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTVweDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJyZWdpb25zQ291bnQiIHN0eWxlPSJjb2xvcjogIzY2NjsiPtil2KzZhdin2YTZiiDYp9mE2YXZhtin2LfZgjogMDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImNsZWFyUmVnaW9uRmlsdGVycygpIiBzdHlsZT0icGFkZGluZzogOHB4IDE1cHg7IGZvbnQtc2l6ZTogMTRweDsiPtmF2LPYrSDYp9mE2YHZhNin2KrYsTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPCEtLSDYrNiv2YjZhCDYp9mE2YXZhtin2LfZgiAtLT4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGlkPSJyZWdpb25zVGFibGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2LPZhSDYp9mE2YXZhti32YLYqTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZiNi12YE8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yudiv2K8g2KfZhNmF2LTYp9ix2YrYuTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYpdis2LHYp9ih2KfYqjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHkgaWQ9InJlZ2lvbnNUYWJsZUJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBjb2xzcGFuPSI0IiBjbGFzcz0ibG9hZGluZyI+2KzYp9ix2Yog2KfZhNiq2K3ZhdmK2YQuLi48L3RkPjwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDwhLS0g2KfZhNij2YLYs9in2YUgLS0+CiAgICAgICAgICAgIDxkaXYgaWQ9ImRlcGFydG1lbnRzIiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDIwcHg7IGZsZXgtd3JhcDogd3JhcDsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGgyIHN0eWxlPSJtYXJnaW46IDA7IGNvbG9yOiAjNjY3ZWVhOyI+2KXYr9in2LHYqSDYp9mE2KPZgtiz2KfZhTwvaDI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJzaG93QWRkRGVwYXJ0bWVudEZvcm0oKSI+KyDYpdi22KfZgdipINmC2LPZhSDYrNiv2YrYrzwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPCEtLSDYp9mE2KjYrdirIC0tPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VhcmNoLWZpbHRlci1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIHN0eWxlPSJtYXJnaW46IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYqNit2Ks6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJkZXBhcnRtZW50U2VhcmNoIiBwbGFjZWhvbGRlcj0i2KfYqNit2Ksg2KjYp9mE2KfYs9mFLi4uIiBvbmtleXVwPSJmaWx0ZXJEZXBhcnRtZW50cygpIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAxNXB4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9ImRlcGFydG1lbnRzQ291bnQiIHN0eWxlPSJjb2xvcjogIzY2NjsiPtil2KzZhdin2YTZiiDYp9mE2KPZgtiz2KfZhTogMDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImNsZWFyRGVwYXJ0bWVudEZpbHRlcnMoKSIgc3R5bGU9InBhZGRpbmc6IDhweCAxNXB4OyBmb250LXNpemU6IDE0cHg7Ij7Zhdiz2K0g2KfZhNmB2YTYp9iq2LE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDwhLS0g2KzYr9mI2YQg2KfZhNij2YLYs9in2YUgLS0+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgIDx0YWJsZSBpZD0iZGVwYXJ0bWVudHNUYWJsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfYs9mFINin2YTZgtiz2YU8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YXYtNix2YjYuS/Yp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YjYtdmBPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2LnYr9ivINin2YTZhdmI2LjZgdmK2YY8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2KXYrNix2KfYodin2Ko8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5IGlkPSJkZXBhcnRtZW50c1RhYmxlQm9keSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIGNvbHNwYW49IjUiIGNsYXNzPSJsb2FkaW5nIj7YrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLjwvdGQ+PC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPCEtLSDYp9mE2KXYrNin2LLYp9iqIC0tPgogICAgICAgICAgICA8ZGl2IGlkPSJsZWF2ZXMiIGNsYXNzPSJzZWN0aW9uIj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMjBweDsgZmxleC13cmFwOiB3cmFwOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICA8aDIgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICM2NjdlZWE7Ij7Ypdiv2KfYsdipINin2YTYpdis2KfYstin2Ko8L2gyPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0ic2hvd0FkZExlYXZlRm9ybSgpIj4rINil2LbYp9mB2Kkg2KXYrNin2LLYqSDYrNiv2YrYr9ipPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8IS0tINin2YTYqNit2Ksg2YjYp9mE2YHZhNiq2LHYqSAtLT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNmOGY5ZmE7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IG1hcmdpbi1ib3R0b206IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIHN0eWxlPSJtYXJnaW46IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2KjYrdirOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImxlYXZlU2VhcmNoIiBwbGFjZWhvbGRlcj0i2KfYqNit2Ksg2KjYp9iz2YUg2KfZhNmF2YjYuNmBLi4uIiBvbmtleXVwPSJmaWx0ZXJMZWF2ZXMoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luOiAwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2YbZiNi5INin2YTYpdis2KfYstipOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJsZWF2ZVR5cGVGaWx0ZXIiIG9uY2hhbmdlPSJmaWx0ZXJMZWF2ZXMoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7YrNmF2YrYuSDYp9mE2KPZhtmI2KfYuTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im1vbnRobHkiPtil2KzYp9iy2Kkg2LTZh9ix2YrYqTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImhvdXJseSI+2KXYrNin2LLYqSDYstmF2YbZitipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0idW5wYWlkIj7Ypdis2KfYstipINio2K/ZiNmGINix2KfYqtioPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIHN0eWxlPSJtYXJnaW46IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2K3Yp9mE2Kk6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImxlYXZlU3RhdHVzRmlsdGVyIiBvbmNoYW5nZT0iZmlsdGVyTGVhdmVzKCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KzZhdmK2Lkg2KfZhNit2KfZhNin2Ko8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJwZW5kaW5nIj7ZgtmK2K8g2KfZhNin2YbYqti42KfYsTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImFwcHJvdmVkIj7ZhdmI2KfZgdmCINi52YTZitmH2Kc8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJyZWplY3RlZCI+2YXYsdmB2YjYttipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iY2FuY2VsbGVkIj7ZhdmE2LrYp9ipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTVweDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJsZWF2ZXNDb3VudCIgc3R5bGU9ImNvbG9yOiAjNjY2OyI+2KXYrNmF2KfZhNmKINin2YTYpdis2KfYstin2Ko6IDA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJjbGVhckxlYXZlRmlsdGVycygpIiBzdHlsZT0icGFkZGluZzogOHB4IDE1cHg7IGZvbnQtc2l6ZTogMTRweDsiPtmF2LPYrSDYp9mE2YHZhNin2KrYsTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPCEtLSDYrNiv2YjZhCDYp9mE2KXYrNin2LLYp9iqIC0tPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFibGUtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICA8dGFibGUgaWQ9ImxlYXZlc1RhYmxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9iz2YUg2KfZhNmF2YjYuNmBPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2YbZiNi5INin2YTYpdis2KfYstipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KrYp9ix2YrYriDYp9mE2KjYr9ihPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmF2K/YqTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYrdin2YTYqTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYrti12YUgPHNwYW4gaWQ9ImRlZHVjdGlvbkxvY2tJY29uIiBzdHlsZT0iY29sb3I6ICNkYzM1NDU7IGN1cnNvcjogcG9pbnRlcjsiIG9uY2xpY2s9InRvZ2dsZURlZHVjdGlvblZpZXcoKSIgdGl0bGU9Itin2YbZgtixINmE2KXYuNmH2KfYsSDYp9mE2K7YtdmI2YXYp9iqIj7wn5SSPC9zcGFuPjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtmF2YTYp9it2LjYp9iqPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNil2KzYsdin2KHYp9iqPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keSBpZD0ibGVhdmVzVGFibGVCb2R5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgY29sc3Bhbj0iOSIgY2xhc3M9ImxvYWRpbmciPtis2KfYsdmKINin2YTYqtit2YXZitmELi4uPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8IS0tINin2YTZhdiz2KrYrtiv2YXZitmGIC0tPgogICAgICAgICAgICA8ZGl2IGlkPSJ1c2VycyIgY2xhc3M9InNlY3Rpb24iPgogICAgICAgICAgICAgICAgPGRpdiBpZD0idXNlcnNTZWN0aW9uTG9ja2VkIiBzdHlsZT0iZGlzcGxheTogbm9uZTsgdGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA2MHB4IDIwcHg7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmZmYzY2QgMCUsICNmZmVhYTcgMTAwJSk7IGJvcmRlci1yYWRpdXM6IDE1cHg7IGJvcmRlcjogM3B4IHNvbGlkICNmZmMxMDc7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDVlbTsgbWFyZ2luLWJvdHRvbTogMjBweDsiPvCflJI8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8aDIgc3R5bGU9ImNvbG9yOiAjODU2NDA0OyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+2YfYsNinINin2YTZgtiz2YUg2YXYrdmF2Yog2KjZg9mE2YXYqSDZhdix2YjYsTwvaDI+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjODU2NDA0OyBmb250LXNpemU6IDEuMWVtOyBtYXJnaW4tYm90dG9tOiAzMHB4OyI+2YrYrNioINil2K/Yrtin2YQg2YPZhNmF2Kkg2KfZhNmF2LHZiNixINmE2YTZiNi12YjZhCDYpdmE2Ykg2YLYs9mFINil2K/Yp9ix2Kkg2KfZhNmF2LPYqtiu2K/ZhdmK2YY8L3A+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi13YXJuaW5nIiBvbmNsaWNrPSJ1bmxvY2tVc2Vyc1NlY3Rpb24oKSIgc3R5bGU9InBhZGRpbmc6IDE1cHggNDBweDsgZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsiPgogICAgICAgICAgICAgICAgICAgICAgICDwn5STINil2K/Yrtin2YQg2YPZhNmF2Kkg2KfZhNmF2LHZiNixCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgPGRpdiBpZD0idXNlcnNTZWN0aW9uQ29udGVudCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDIwcHg7IGZsZXgtd3JhcDogd3JhcDsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBzdHlsZT0ibWFyZ2luOiAwOyBjb2xvcjogIzY2N2VlYTsiPtil2K/Yp9ix2Kkg2KfZhNmF2LPYqtiu2K/ZhdmK2YY8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImxvY2tVc2Vyc1NlY3Rpb24oKSIgc3R5bGU9Im1hcmdpbi1sZWZ0OiAxMHB4OyBwYWRkaW5nOiAxMHB4IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5SSINmC2YHZhCDYp9mE2YLYs9mFCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0ic2hvd0FkZFVzZXJGb3JtKCkiPisg2KXYttin2YHYqSDZhdiz2KrYrtiv2YUg2KzYr9mK2K88L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDwhLS0g2KfZhNio2K3YqyDZiNin2YTZgdmE2KrYsdipIC0tPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2Y4ZjlmYTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjAwcHgsIDFmcikpOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgc3R5bGU9Im1hcmdpbjogMDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYqNit2Ks6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0idXNlclNlYXJjaCIgcGxhY2Vob2xkZXI9Itin2KjYrdirINio2KfZhNin2LPZhdiMINin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZii4uLiIgb25rZXl1cD0iZmlsdGVyVXNlcnMoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luOiAwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNi12YTYp9it2YrYqTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0idXNlclJvbGVGaWx0ZXIiIG9uY2hhbmdlPSJmaWx0ZXJVc2VycygpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtis2YXZiti5INin2YTYtdmE2KfYrdmK2KfYqjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImFkbWluIj7Zhdiv2YrYsSDYp9mE2YbYuNin2YU8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJociI+2YXZiNin2LHYryDYqNi02LHZitipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ibWFuYWdlciI+2YXYr9mK2LE8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJlbXBsb3llZSI+2YXZiNi42YE8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgc3R5bGU9Im1hcmdpbjogMDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYrdin2YTYqTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0idXNlclN0YXR1c0ZpbHRlciIgb25jaGFuZ2U9ImZpbHRlclVzZXJzKCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KzZhdmK2Lkg2KfZhNit2KfZhNin2Ko8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhY3RpdmUiPtmG2LTYtzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImluYWN0aXZlIj7YutmK2LEg2YbYtNi3PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMTVweDsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ1c2Vyc0NvdW50IiBzdHlsZT0iY29sb3I6ICM2NjY7Ij7Ypdis2YXYp9mE2Yog2KfZhNmF2LPYqtiu2K/ZhdmK2YY6IDA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJjbGVhclVzZXJGaWx0ZXJzKCkiIHN0eWxlPSJwYWRkaW5nOiA4cHggMTVweDsgZm9udC1zaXplOiAxNHB4OyI+2YXYs9itINin2YTZgdmE2KfYqtixPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8IS0tINis2K/ZiNmEINin2YTZhdiz2KrYrtiv2YXZitmGIC0tPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFibGUtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICA8dGFibGUgaWQ9InVzZXJzVGFibGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYp9iz2YU8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2Yo8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2LXZhNin2K3ZitipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNit2KfZhNipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KrYp9ix2YrYriDYp9mE2KXZhti02KfYoTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYpdis2LHYp9ih2KfYqjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHkgaWQ9InVzZXJzVGFibGVCb2R5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgY29sc3Bhbj0iNiIgY2xhc3M9ImxvYWRpbmciPtis2KfYsdmKINin2YTYqtit2YXZitmELi4uPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDwhLS0g2KfZhNiq2YLYp9ix2YrYsSAtLT4KICAgICAgICAgICAgPGRpdiBpZD0icmVwb3J0cyIgY2xhc3M9InNlY3Rpb24iPgogICAgICAgICAgICAgICAgPGgyIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyBjb2xvcjogIzY2N2VlYTsiPvCfk4gg2KfZhNiq2YLYp9ix2YrYsTwvaDI+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDwhLS0g2KPZhtmI2KfYuSDYp9mE2KrZgtin2LHZitixIC0tPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVwb3J0cy1ncmlkIj4KICAgICAgICAgICAgICAgICAgICA8IS0tINiq2YLYsdmK2LEg2K3YsdmD2Kkg2KXYrNin2LLYp9iqINin2YTZhdmI2LjZgSAtLT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXBvcnQtY2FyZCIgb25jbGljaz0ic2hvd0VtcGxveWVlTGVhdmVIaXN0b3J5UmVwb3J0TW9kYWwoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaWNvbiI+8J+TizwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPtiq2YLYsdmK2LEg2KXYrNin2LLYp9iqINin2YTZhdmI2LjZgTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD7Yrdix2YPYqSDYqtin2LHZitiu2YrYqSDZhNmE2KXYrNin2LLYp9iqINmI2KfZhNix2LXZitivPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8IS0tINiq2YLYsdmK2LEg2KfZhNmF2LTYsdmI2Lkg2YjYp9mE2YXZiNi42YHZitmGIC0tPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJlcG9ydC1jYXJkIiBvbmNsaWNrPSJzaG93UHJvamVjdEVtcGxveWVlc1JlcG9ydE1vZGFsKCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb24iPvCfkaXwn5OBPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+2KrZgtix2YrYsSDYp9mE2YXYtNix2YjYuTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD7Yp9mE2YXZiNi42YHZitmGINmB2Yog2KfZhNmF2LTYsdmI2Lk8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDwhLS0g2KrZgtix2YrYsSDYrdix2YPYqSDZhdi02KfYsdmK2Lkg2KfZhNmF2YjYuNmBIC0tPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJlcG9ydC1jYXJkIiBvbmNsaWNrPSJzaG93RW1wbG95ZWVQcm9qZWN0c0hpc3RvcnlSZXBvcnRNb2RhbCgpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIj7wn5OB8J+TizwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPtiq2YLYsdmK2LEg2YXYtNin2LHZiti5INin2YTZhdmI2LjZgTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD7Yrdix2YPYqSDYqtin2LHZitiu2YrYqSDZhNmE2YXYtNin2LHZiti5PC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8IS0tINiq2YLYsdmK2LEg2YfZitmD2YQg2KfZhNi02LHZg9ipIC0tPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJlcG9ydC1jYXJkIiBvbmNsaWNrPSJnZW5lcmF0ZUNvbXBhbnlTdHJ1Y3R1cmVSZXBvcnQoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaWNvbiI+8J+PojwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPtiq2YLYsdmK2LEg2YfZitmD2YQg2KfZhNi02LHZg9ipPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPtin2YTZhdmG2KfYt9mCINmI2KfZhNmF2LTYp9ix2YrYuSDZiNin2YTZhdmI2LjZgdmK2YY8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDwhLS0g2KrZgtix2YrYsSDYp9mE2YXZiNi42YHZitmGIC0tPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJlcG9ydC1jYXJkIiBvbmNsaWNrPSJzaG93RW1wbG95ZWVSZXBvcnRNb2RhbCgpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIj7wn5GlPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+2KrZgtix2YrYsSDYp9mE2YXZiNi42YHZitmGPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPtil2K3Ytdin2KbZitin2Kog2YjYqtmB2KfYtdmK2YQg2KfZhNmF2YjYuNmB2YrZhjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPCEtLSDYqtmC2LHZitixINin2YTYqtmC2YrZitmF2KfYqiDYp9mE2LPZhtmI2YrYqSAtLT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXBvcnQtY2FyZCIgb25jbGljaz0iZ2VuZXJhdGVFdmFsdWF0aW9uc1JlcG9ydCgpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIj7irZA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz7YqtmC2LHZitixINin2YTYqtmC2YrZitmF2KfYqiDYp9mE2LPZhtmI2YrYqTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD7YqtmC2YrZitmF2KfYqiDYp9mE2YXZiNi42YHZitmGINin2YTYs9mG2YjZitipPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8IS0tINiq2YLYsdmK2LEg2KfZhNil2KzYp9iy2KfYqiAtLT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXBvcnQtY2FyZCIgb25jbGljaz0iZ2VuZXJhdGVMZWF2ZVJlcG9ydCgpIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIj7wn5OFPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+2KrZgtix2YrYsSDYp9mE2KXYrNin2LLYp9iqPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPtil2K3Ytdin2KbZitin2Kog2YjYqtmB2KfYtdmK2YQg2KfZhNil2KzYp9iy2KfYqjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPCEtLSDYqtmC2LHZitixINin2YTYrti12YjZhdin2KogLS0+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVwb3J0LWNhcmQiIG9uY2xpY2s9ImdlbmVyYXRlRGVkdWN0aW9uUmVwb3J0KCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imljb24iPvCflJI8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz7YqtmC2LHZitixINin2YTYrti12YjZhdin2Ko8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+2KrZgdin2LXZitmEINin2YTYrti12YjZhdin2Kog2KfZhNmF2KfZhNmK2Kk8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDwhLS0g2KrZgtix2YrYsSDYp9mE2YXYtNin2LHZiti5IC0tPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJlcG9ydC1jYXJkIiBvbmNsaWNrPSJnZW5lcmF0ZVByb2plY3RSZXBvcnQoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaWNvbiI+8J+TgTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPtiq2YLYsdmK2LEg2KfZhNmF2LTYp9ix2YrYuTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD7Ypdit2LXYp9im2YrYp9iqINmI2KrZgdin2LXZitmEINin2YTZhdi02KfYsdmK2Lk8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDwhLS0g2KrZgtix2YrYsSDYpdit2LXYp9im2Yog2LnYp9mFIC0tPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJlcG9ydC1jYXJkIiBvbmNsaWNrPSJnZW5lcmF0ZVN0YXRpc3RpY3NSZXBvcnQoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaWNvbiI+8J+TijwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPtiq2YLYsdmK2LEg2KXYrdi12KfYptmKINi52KfZhTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD7Ypdit2LXYp9im2YrYp9iqINi02KfZhdmE2Kkg2YTZhNmG2LjYp9mFPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICA8IS0tINmF2YbYt9mC2Kkg2LnYsdi2INin2YTYqtmC2LHZitixIC0tPgogICAgICAgICAgICAgICAgPGRpdiBpZD0icmVwb3J0Q29udGVudCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZjhmOWZhOyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGlkPSJyZXBvcnRUaXRsZSIgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICM2NjdlZWE7Ij48L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWluZm8iIG9uY2xpY2s9InByaW50UmVwb3J0KCkiIHN0eWxlPSJtYXJnaW4tbGVmdDogMTBweDsiPvCflqjvuI8g2LfYqNin2LnYqTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgb25jbGljaz0iZXhwb3J0UmVwb3J0VG9QREYoKSIgc3R5bGU9Im1hcmdpbi1sZWZ0OiAxMHB4OyI+8J+ThCDYqti12K/ZitixIFBERjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZXhwb3J0UmVwb3J0VG9FeGNlbCgpIj7wn5OKINiq2LXYr9mK2LEgRXhjZWw8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iY2xvc2VSZXBvcnQoKSI+4pyVINil2LrZhNin2YI8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0icmVwb3J0Qm9keSIgc3R5bGU9ImJhY2tncm91bmQ6IHdoaXRlOyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2YXYrdiq2YjZiSDYp9mE2KrZgtix2YrYsSDYs9mK2KrZhSDYpdi22KfZgdiq2Ycg2YfZhtinIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDwhLS0g2KfZhNil2LnYr9in2K/Yp9iqIC0tPgogICAgICAgICAgICA8ZGl2IGlkPSJzZXR0aW5ncyIgY2xhc3M9InNlY3Rpb24iPgogICAgICAgICAgICAgICAgPGgyIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyBjb2xvcjogIzY2N2VlYTsiPtin2YTYpdi52K/Yp9iv2KfYqjwvaDI+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDwhLS0g2KXYudiv2KfYr9in2Kog2YLYp9i52K/YqSDYp9mE2KjZitin2YbYp9iqIC0tPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2Y4ZjlmYTsgcGFkZGluZzogMzBweDsgYm9yZGVyLXJhZGl1czogMTBweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICM2NjdlZWE7Ij7Ypdi52K/Yp9iv2KfYqiDZgtin2LnYr9ipINin2YTYqNmK2KfZhtin2KogRmlyZWJhc2U8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9InRvZ2dsZURhdGFiYXNlU2V0dGluZ3NFZGl0KCkiIGlkPSJkYkVkaXRCdG4iPvCflJMg2KrYudiv2YrZhCDYp9mE2KXYudiv2KfYr9in2Ko8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZmZmM2NkOyBib3JkZXI6IDJweCBzb2xpZCAjZmZjMTA3OyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDE1cHg7IG1hcmdpbi1ib3R0b206IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICM4NTY0MDQ7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+UkiDYpdi52K/Yp9iv2KfYqiDZgtin2LnYr9ipINin2YTYqNmK2KfZhtin2Kog2YXYrdmF2YrYqSDYqNmD2YTZhdipINmF2LHZiNixLiDZitis2Kgg2KXYr9iu2KfZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YTZhNiq2LnYr9mK2YQuCiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGF0YWJhc2VTZXR0aW5nc0Zvcm0iPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5BUEkgS2V5OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImRiQXBpS2V5IiByZWFkb25seSBzdHlsZT0iYmFja2dyb3VuZDogI2U5ZWNlZjsiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+QXV0aCBEb21haW46PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZGJBdXRoRG9tYWluIiByZWFkb25seSBzdHlsZT0iYmFja2dyb3VuZDogI2U5ZWNlZjsiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+UHJvamVjdCBJRDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJkYlByb2plY3RJZCIgcmVhZG9ubHkgc3R5bGU9ImJhY2tncm91bmQ6ICNlOWVjZWY7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlN0b3JhZ2UgQnVja2V0OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImRiU3RvcmFnZUJ1Y2tldCIgcmVhZG9ubHkgc3R5bGU9ImJhY2tncm91bmQ6ICNlOWVjZWY7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk1lc3NhZ2luZyBTZW5kZXIgSUQ6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZGJNZXNzYWdpbmdTZW5kZXJJZCIgcmVhZG9ubHkgc3R5bGU9ImJhY2tncm91bmQ6ICNlOWVjZWY7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkFwcCBJRDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJkYkFwcElkIiByZWFkb25seSBzdHlsZT0iYmFja2dyb3VuZDogI2U5ZWNlZjsiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImRiU2F2ZUJ1dHRvbnMiIHN0eWxlPSJkaXNwbGF5OiBub25lOyBtYXJnaW4tdG9wOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIG9uY2xpY2s9InNhdmVEYXRhYmFzZVNldHRpbmdzKCkiPvCfkr4g2K3Zgdi4INin2YTYpdi52K/Yp9iv2KfYqjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImNhbmNlbERhdGFiYXNlU2V0dGluZ3NFZGl0KCkiPuKdjCDYpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPCEtLSDZhdi52YTZiNmF2KfYqiDYp9mE2LTYsdmD2KkgLS0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZjhmOWZhOyBwYWRkaW5nOiAzMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyBjb2xvcjogIzY2N2VlYTsiPtmF2LnZhNmI2YXYp9iqINin2YTYtNix2YPYqTwvaDM+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9iz2YUg2KfZhNi02LHZg9ipOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJjb21wYW55TmFtZSIgcGxhY2Vob2xkZXI9Itin2LPZhSDYp9mE2LTYsdmD2Kkg2KPZiCDYp9mE2YXYpNiz2LPYqSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7YtNi52KfYsSDYp9mE2LTYsdmD2KkgKExvZ28pOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGdhcDogMjBweDsgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6IDE7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImNvbXBhbnlMb2dvRmlsZSIgYWNjZXB0PSJpbWFnZS8qIiBvbmNoYW5nZT0iaGFuZGxlQ29tcGFueUxvZ29VcGxvYWQoZXZlbnQpIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyBtYXJnaW4tdG9wOiA1cHg7Ij7Yp9mE2LXZiti6INin2YTZhdiv2LnZiNmF2Kk6IEpQRywgUE5HLCBHSUYgKNin2YTYrdis2YUg2KfZhNij2YLYtdmJOiAyTUIpPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjb21wYW55TG9nb1ByZXZpZXciIHN0eWxlPSJ3aWR0aDogMTUwcHg7IGhlaWdodDogMTUwcHg7IGJvcmRlcjogMnB4IGRhc2hlZCAjZGRkOyBib3JkZXItcmFkaXVzOiA4cHg7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBiYWNrZ3JvdW5kOiB3aGl0ZTsgb3ZlcmZsb3c6IGhpZGRlbjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjogIzk5OTsiPtmF2LnYp9mK2YbYqSDYp9mE2LTYudin2LE8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9InJlbW92ZUNvbXBhbnlMb2dvKCkiIGlkPSJyZW1vdmVMb2dvQnRuIiBzdHlsZT0iZGlzcGxheTogbm9uZTsgbWFyZ2luLXRvcDogMTBweDsiPvCfl5HvuI8g2K3YsNmBINin2YTYtNi52KfYsTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNi52YbZiNin2YY6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJjb21wYW55QWRkcmVzcyIgcm93cz0iMiIgcGxhY2Vob2xkZXI9Iti52YbZiNin2YYg2KfZhNi02LHZg9ipINin2YTZg9in2YXZhCI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDI1MHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtix2YLZhSDYp9mE2YfYp9iq2YE6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZWwiIGlkPSJjb21wYW55UGhvbmUiIHBsYWNlaG9sZGVyPSIrOTY2WFhYWFhYWFhYIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtix2YLZhSDYp9mE2YHYp9mD2LM6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZWwiIGlkPSJjb21wYW55RmF4IiBwbGFjZWhvbGRlcj0iKzk2NlhYWFhYWFhYWCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjUwcHgsIDFmcikpOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZW1haWwiIGlkPSJjb21wYW55RW1haWwiIHBsYWNlaG9sZGVyPSJpbmZvQGNvbXBhbnkuY29tIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTZhdmI2YLYuSDYp9mE2KXZhNmD2KrYsdmI2YbZijo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InVybCIgaWQ9ImNvbXBhbnlXZWJzaXRlIiBwbGFjZWhvbGRlcj0iaHR0cHM6Ly93d3cuY29tcGFueS5jb20iPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYs9is2YQg2KfZhNiq2KzYp9ix2Yo6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJjb21wYW55Q29tbWVyY2lhbFJlZ2lzdGVyIiBwbGFjZWhvbGRlcj0i2LHZgtmFINin2YTYs9is2YQg2KfZhNiq2KzYp9ix2YoiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNmI2LXZgTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9ImNvbXBhbnlEZXNjcmlwdGlvbiIgcm93cz0iMyIgcGxhY2Vob2xkZXI9ItmI2LXZgSDZhdiu2KrYtdixINi52YYg2KfZhNi02LHZg9ipIj48L3RleHRhcmVhPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBvbmNsaWNrPSJzYXZlQ29tcGFueUluZm8oKSI+8J+SviDYrdmB2Lgg2YXYudmE2YjZhdin2Kog2KfZhNi02LHZg9ipPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5IiBvbmNsaWNrPSJsb2FkQ29tcGFueUluZm8oKSIgc3R5bGU9Im1hcmdpbi1yaWdodDogMTBweDsiPvCflIQg2KXYudin2K/YqSDYqtit2YXZitmEPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8IS0tINiz2KzZhCDYp9mE2KrYudiv2YrZhNin2KogLS0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZjhmOWZhOyBwYWRkaW5nOiAzMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0ibWFyZ2luOiAwOyBjb2xvcjogIzY2N2VlYTsiPvCfk4sg2LPYrNmEINin2YTYqti52K/ZitmE2KfYqiAoQXVkaXQgTG9nKTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0ibG9hZEF1ZGl0TG9ncygxMDApOyBkaXNwbGF5QXVkaXRMb2dzKCk7Ij7wn5SEINiq2K3Yr9mK2Ksg2KfZhNiz2KzZhDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNlN2YzZmY7IGJvcmRlci1yaWdodDogNHB4IHNvbGlkICM2NjdlZWE7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luOiAwOyBjb2xvcjogIzBjNTQ2MDsgZm9udC1zaXplOiAxNHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OdINmH2LDYpyDYp9mE2LPYrNmEINmK2K3YqtmI2Yog2LnZhNmJINis2YXZiti5INin2YTYqti52K/ZitmE2KfYqiDYp9mE2KrZiiDYqtmF2Kog2LnZhNmJINin2YTYqNmK2KfZhtin2KogKNil2LbYp9mB2KnYjCDYqti52K/ZitmE2Iwg2K3YsNmBKQogICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBpZD0iYXVkaXRMb2dzVGFibGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYqtin2LHZitiuINmI2KfZhNmI2YLYqjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7ZhtmI2Lkg2KfZhNiz2KzZhDwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2KXYrNix2KfYoTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YXYs9iq2K7Yr9mFPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYqtmB2KfYtdmK2YQ8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5IGlkPSJhdWRpdExvZ3NUYWJsZUJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQgY29sc3Bhbj0iNSIgY2xhc3M9ImxvYWRpbmciPtis2KfYsdmKINin2YTYqtit2YXZitmELi4uPC90ZD48L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0g2YbYp9mB2LDYqSDYpdi22KfZgdipL9iq2LnYr9mK2YQg2YXZiNi42YEgLS0+CiAgICA8ZGl2IGlkPSJlbXBsb3llZU1vZGFsIiBjbGFzcz0ibW9kYWwiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6IDEyMDBweDsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGgzIGlkPSJlbXBsb3llZUZvcm1UaXRsZSI+2KXYttin2YHYqSDZhdmI2LjZgSDYrNiv2YrYrzwvaDM+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9kYWwtY2xvc2UiIG9uY2xpY2s9ImhpZGVBZGRFbXBsb3llZUZvcm0oKSI+JnRpbWVzOzwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPCEtLSDYtdmI2LHYqSDYp9mE2YXZiNi42YEgLS0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJwb3NpdGlvbjogcmVsYXRpdmU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGlkPSJlbXBsb3llZVBob3RvUHJldmlldyIgc3JjPSJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE1MCcgaGVpZ2h0PScxNTAnJTNFJTNDcmVjdCBmaWxsPSclMjNlOWVjZWYnIHdpZHRoPScxNTAnIGhlaWdodD0nMTUwJy8lM0UlM0N0ZXh0IHg9JzUwJTI1JyB5PSc1MCUyNScgdGV4dC1hbmNob3I9J21pZGRsZScgZHk9Jy4zZW0nIGZpbGw9JyUyMzY2NicgZm9udC1zaXplPScxNCclM0XYtdmI2LHYqSDYp9mE2YXZiNi42YElM0MvdGV4dCUzRSUzQy9zdmclM0UiIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPSJ3aWR0aDogMTUwcHg7IGhlaWdodDogMTUwcHg7IGJvcmRlci1yYWRpdXM6IDUwJTsgb2JqZWN0LWZpdDogY292ZXI7IGJvcmRlcjogM3B4IHNvbGlkICM2NjdlZWE7IGN1cnNvcjogcG9pbnRlcjsiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlUGhvdG9JbnB1dCcpLmNsaWNrKCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImVtcGxveWVlUGhvdG9JbnB1dCIgYWNjZXB0PSJpbWFnZS8qIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiIG9uY2hhbmdlPSJwcmV2aWV3RW1wbG95ZWVQaG90byhldmVudCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlUGhvdG9JbnB1dCcpLmNsaWNrKCkiIHN0eWxlPSJwYWRkaW5nOiA4cHggMjBweDsgZm9udC1zaXplOiAxNHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TtyDYp9iu2KrYsSDYtdmI2LHYqQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJyZW1vdmVFbXBsb3llZVBob3RvKCkiIHN0eWxlPSJwYWRkaW5nOiA4cHggMjBweDsgZm9udC1zaXplOiAxNHB4OyBtYXJnaW4tcmlnaHQ6IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5eR77iPINit2LDZgSDYp9mE2LXZiNix2KkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDwhLS0g2LHZhdiyINin2YTZhdmI2LjZgSAo2KrZhNmC2KfYptmKKSAtLT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNlN2YzZmY7IGJvcmRlci1yaWdodDogNHB4IHNvbGlkICM2NjdlZWE7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT0iZGlzcGxheTogYmxvY2s7IG1hcmdpbi1ib3R0b206IDhweDsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6ICMzMzM7Ij7Yp9mE2LHZgtmFINin2YTZiNi42YrZgdmKOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM2NjdlZWE7IiBpZD0iZW1wTnVtYmVyRGlzcGxheSI+RU1QLTAwMTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyBtYXJnaW4tdG9wOiA1cHg7IG1hcmdpbi1ib3R0b206IDA7Ij7Ys9mK2KrZhSDYqtmI2YTZitivINin2YTYsdmC2YUg2KfZhNmI2LjZitmB2Yog2KrZhNmC2KfYptmK2KfZizwvcD4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDwhLS0g2KfZhNit2YLZiNmEINin2YTYo9iz2KfYs9mK2KkgLS0+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDMwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2KfYs9mFINin2YTZg9in2YXZhDogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZW1wTmFtZSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2KfYs9mFINio2KfZhNil2YbYrNmE2YrYstmK2Kk6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJlbXBOYW1lRW4iPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJlbWFpbCIgaWQ9ImVtcEVtYWlsIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtix2YLZhSDYp9mE2YfYp9iq2YE6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJlbXBQaG9uZSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2LnZhtmI2KfZhjo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVtcEFkZHJlc3MiIHBsYWNlaG9sZGVyPSLZhdir2KfZhDog2KjYutiv2KfYr9iMINin2YTZg9ix2KfYr9ipIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtiq2KfYsdmK2K4g2KfZhNiq2LnZitmK2YY6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJlbXBIaXJlRGF0ZSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yqtin2LHZitiuINin2YTYpdiv2LHYp9isINmB2Yog2KfZhNmG2LjYp9mFOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJkYXRlIiBpZD0iZW1wU3lzdGVtRW50cnlEYXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDVweDsiPtiq2KfYsdmK2K4g2KXYr9ix2KfYrCDYp9mE2YXZiNi42YEg2YHZiiDYp9mE2YbYuNin2YUgKNmE2K3Ys9in2Kgg2KfZhNil2KzYp9iy2KfYqiDYp9mE2KrYsdin2YPZhdmK2KkpPC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNmF2LPZhdmJINin2YTZiNi42YrZgdmKOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZW1wUG9zaXRpb24iPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNiq2K3YtdmK2YQg2KfZhNiv2LHYp9iz2Yo6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iZW1wRWR1Y2F0aW9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2KfZhNiq2K3YtdmK2YQg2KfZhNiv2LHYp9iz2Yo8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImVsZW1lbnRhcnkiPtin2KjYqtiv2KfYptmKPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJtaWRkbGUiPtmF2KrZiNiz2Lc8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImhpZ2hfc2Nob29sIj7Yq9in2YbZiNmKPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJkaXBsb21hIj7Yr9io2YTZiNmFPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJiYWNoZWxvciI+2KjZg9in2YTZiNix2YrZiNizPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJtYXN0ZXIiPtmF2KfYrNiz2KrZitixPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJwaGQiPtiv2YPYqtmI2LHYp9mHPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJvdGhlciI+2KPYrtix2Yk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2KfYrtiq2LXYp9i1OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZW1wU3BlY2lhbGl6YXRpb24iIHBsYWNlaG9sZGVyPSLZhdir2KfZhDog2YfZhtiv2LPYqSDYqNix2YXYrNmK2KfYqtiMINmF2K3Yp9iz2KjYqdiMINil2K/Yp9ix2Kkg2KPYudmF2KfZhCI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2K3Yp9mE2Kk6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iZW1wU3RhdHVzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImFjdGl2ZSI+2YbYtNi3PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJpbmFjdGl2ZSI+2LrZitixINmG2LTYtzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ib24tbGVhdmUiPtmB2Yog2KXYrNin2LLYqTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0idGVybWluYXRlZCI+2YXZhtiq2YfZiiDYp9mE2K7Yr9mF2Kk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7YsdmF2LIg2KfZhNix2KfYqtioOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZW1wU2FsYXJ5Q29kZSIgcGxhY2Vob2xkZXI9ItmF2KvYp9mEOiBTQUwtMDAxIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTZhdmI2LjZgSDYp9mE2KjYr9mK2YQgKNmB2Yog2K3Yp9mE2Kkg2KfZhNil2KzYp9iy2KkpOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImVtcFJlcGxhY2VtZW50Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2YTYpyDZitmI2KzYrzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTZgtiz2YU6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iZW1wRGVwYXJ0bWVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPi0tINin2K7YqtixINin2YTZgtiz2YUgLS08L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyBtYXJnaW4tdG9wOiA1cHg7Ij7Yp9mE2YLYs9mFINin2YTYsNmKINmK2YbYqtmF2Yog2KXZhNmK2Ycg2KfZhNmF2YjYuNmBINmB2Yog2KfZhNmF2LTYsdmI2Lkg2KPZiCDYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2Kk8L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7ZhdmD2KfZhiDYp9mE2LnZhdmEOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImVtcFdvcmtMb2NhdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPi0tINin2K7YqtixINmF2YPYp9mGINin2YTYudmF2YQgLS08L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyBtYXJnaW4tdG9wOiA1cHg7Ij7Yp9mE2YXZhti32YLYqSDYo9mIINin2YTZhdmD2KfZhiDYp9mE2LDZiiDZiti52YXZhCDZgdmK2Ycg2KfZhNmF2YjYuNmBPC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNil2KzYp9iy2KfYqiDYp9mE2LTZh9ix2YrYqSAo2KjYp9mE2KPZitin2YUpOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJlbXBNb250aGx5TGVhdmVEYXlzIiBtaW49IjAiIHN0ZXA9IjAuNSIgcGxhY2Vob2xkZXI9ItmF2KvYp9mEOiAyLjUiIHZhbHVlPSIyLjUiPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMTJweDsgbWFyZ2luLXRvcDogNXB4OyI+2LnYr9ivINij2YrYp9mFINin2YTYpdis2KfYstipINin2YTYtNmH2LHZitipINin2YTZhdiq2KfYrdipPC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNil2KzYp9iy2KfYqiDYp9mE2LLZhdmG2YrYqSAo2KjYp9mE2LPYp9i52KfYqik6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9ImVtcEhvdXJseUxlYXZlSG91cnMiIG1pbj0iMCIgc3RlcD0iMC41IiBwbGFjZWhvbGRlcj0i2YXYq9in2YQ6IDgiIHZhbHVlPSI4Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDVweDsiPti52K/YryDYs9in2LnYp9iqINin2YTYpdis2KfYstipINin2YTYstmF2YbZitipINin2YTZhdiq2KfYrdipPC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNix2LXZitivINin2YTYqtix2KfZg9mF2Yog2KfZhNin2KjYqtiv2KfYptmKICjYqNin2YTYo9mK2KfZhSk6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9ImVtcEluaXRpYWxMZWF2ZUJhbGFuY2UiIHN0ZXA9IjAuNSIgcGxhY2Vob2xkZXI9ItmF2KvYp9mEOiA1INij2YggLTIiIHZhbHVlPSIwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDVweDsiPtix2LXZitivINil2KzYp9iy2KfYqiDYp9io2KrYr9in2KbZiiAo2YrZhdmD2YYg2KPZhiDZitmD2YjZhiDYs9in2YTYqNin2YspPC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPCEtLSDZhdi52YTZiNmF2KfYqiDYp9mE2LHYp9iq2KggKNmF2K3ZhdmK2KkpIC0tPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMzBweDsgcGFkZGluZy10b3A6IDIwcHg7IGJvcmRlci10b3A6IDJweCBzb2xpZCAjZTllY2VmOyI+CiAgICAgICAgICAgICAgICAgICAgPGg0IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxNXB4OyBjb2xvcjogIzY2N2VlYTsiPtmF2LnZhNmI2YXYp9iqINin2YTYsdin2KrYqCAo2YXYrdmF2YrYqSk8L2g0PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNmZmYzY2Q7IGJvcmRlcjogMnB4IHNvbGlkICNmZmMxMDc7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogMTVweDsgbWFyZ2luLWJvdHRvbTogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luOiAwOyBjb2xvcjogIzg1NjQwNDsgZm9udC1zaXplOiAxNHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5SSINmH2LDZhyDYp9mE2YXYudmE2YjZhdin2Kog2YXYrdmF2YrYqSDYqNmD2YTZhdipINmF2LHZiNixLiDZitis2Kgg2KXYr9iu2KfZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YTYudix2LYg2KPZiCDYqti52K/ZitmEINin2YTYsdin2KrYqC4KICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMzAwcHgsIDFmcikpOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNix2KfYqtioINin2YTYp9io2KrYr9in2KbZijo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyBhbGlnbi1pdGVtczogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0iZW1wSW5pdGlhbFNhbGFyeSIgcGxhY2Vob2xkZXI9IioqKioiIHJlYWRvbmx5IHN0eWxlPSJmbGV4OiAxOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iZW1wSW5pdGlhbFNhbGFyeUN1cnJlbmN5IiBzdHlsZT0id2lkdGg6IDEwMHB4OyBwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGJvcmRlci1yYWRpdXM6IDVweDsgYmFja2dyb3VuZDogI2Y4ZjlmYTsiIGRpc2FibGVkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJJUUQiPklRRDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJVU0QiPlVTRDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJzaG93U2FsYXJ5RmllbGQoJ2luaXRpYWwnKSIgc3R5bGU9InBhZGRpbmc6IDhweCAxNXB4OyBmb250LXNpemU6IDE0cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+UkyDYudix2LYv2KrYudiv2YrZhAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2LHYp9iq2Kgg2KfZhNit2KfZhNmKOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJlbXBDdXJyZW50U2FsYXJ5IiBwbGFjZWhvbGRlcj0iKioqKiIgcmVhZG9ubHkgc3R5bGU9ImZsZXg6IDE7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJlbXBDdXJyZW50U2FsYXJ5Q3VycmVuY3kiIHN0eWxlPSJ3aWR0aDogMTAwcHg7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNXB4OyBiYWNrZ3JvdW5kOiAjZjhmOWZhOyIgZGlzYWJsZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IklRRCI+SVFEPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IlVTRCI+VVNEPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9InNob3dTYWxhcnlGaWVsZCgnY3VycmVudCcpIiBzdHlsZT0icGFkZGluZzogOHB4IDE1cHg7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5STINi52LHYti/Yqti52K/ZitmECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8IS0tINis2YfYp9iqINin2YTYp9iq2LXYp9mEIC0tPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMzBweDsgcGFkZGluZy10b3A6IDIwcHg7IGJvcmRlci10b3A6IDJweCBzb2xpZCAjZTllY2VmOyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT0ibWFyZ2luOiAwOyBjb2xvcjogIzY2N2VlYTsiPtis2YfYp9iqINin2YTYp9iq2LXYp9mEICjYp9mE2KPZgtin2LHYqCk8L2g0PgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iYWRkQ29udGFjdCgpIiBzdHlsZT0icGFkZGluZzogOHB4IDIwcHg7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAg4p6VINil2LbYp9mB2Kkg2KzZh9ipINin2KrYtdin2YQKICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZW1wbG95ZWVDb250YWN0c0xpc3QiIHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzMDBweCwgMWZyKSk7IGdhcDogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tINiz2YrYqtmFINi52LHYtiDYrNmH2KfYqiDYp9mE2KfYqti12KfZhCDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8IS0tINiz2KzZhCDYp9mE2YXYtNin2LHZiti5IC0tPgogICAgICAgICAgICAgICAgPGRpdiBpZD0iZW1wbG95ZWVQcm9qZWN0c0hpc3RvcnkiIHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyBwYWRkaW5nLXRvcDogMjBweDsgYm9yZGVyLXRvcDogMnB4IHNvbGlkICNlOWVjZWY7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGg0IHN0eWxlPSJtYXJnaW46IDA7IGNvbG9yOiAjNjY3ZWVhOyI+2LPYrNmEINin2YTZhdi02KfYsdmK2Lk8L2g0PgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0ic2hvd0FkZFByb2plY3RUb0hpc3RvcnlGb3JtKCkiIHN0eWxlPSJwYWRkaW5nOiA4cHggMjBweDsgZm9udC1zaXplOiAxNHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICDinpUg2KXYttin2YHYqSDZhdi02LHZiNi5CiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InByb2plY3RzSGlzdG9yeUxpc3QiIHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgyNTBweCwgMWZyKSk7IGdhcDogMTVweDsgbWFyZ2luLWJvdHRvbTogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tINiz2YrYqtmFINi52LHYtiDYp9mE2YXYtNin2LHZiti5INmH2YbYpyAtLT4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDwhLS0g2LPYrNmEINin2YTYudmC2YjYqNin2KogLS0+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJlbXBsb3llZVBlbmFsdGllcyIgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7IHBhZGRpbmctdG9wOiAyMHB4OyBib3JkZXItdG9wOiAycHggc29saWQgI2U5ZWNlZjsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICNkYzM1NDU7Ij7Ys9is2YQg2KfZhNi52YLZiNio2KfYqjwvaDQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9InNob3dBZGRQZW5hbHR5Rm9ybSgpIiBzdHlsZT0icGFkZGluZzogOHB4IDIwcHg7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAg4p6VINil2LbYp9mB2Kkg2LnZgtmI2KjYqQogICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwZW5hbHRpZXNMaXN0IiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzAwcHgsIDFmcikpOyBnYXA6IDE1cHg7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSDYs9mK2KrZhSDYudix2LYg2KfZhNi52YLZiNio2KfYqiDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8IS0tINiz2KzZhCDYp9mE2YXZg9in2YHYotiqIC0tPgogICAgICAgICAgICAgICAgPGRpdiBpZD0iZW1wbG95ZWVSZXdhcmRzIiBzdHlsZT0ibWFyZ2luLXRvcDogMzBweDsgcGFkZGluZy10b3A6IDIwcHg7IGJvcmRlci10b3A6IDJweCBzb2xpZCAjZTllY2VmOyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT0ibWFyZ2luOiAwOyBjb2xvcjogIzI4YTc0NTsiPtiz2KzZhCDYp9mE2YXZg9in2YHYotiqPC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIG9uY2xpY2s9InNob3dBZGRSZXdhcmRGb3JtKCkiIHN0eWxlPSJwYWRkaW5nOiA4cHggMjBweDsgZm9udC1zaXplOiAxNHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICDinpUg2KXYttin2YHYqSDZhdmD2KfZgdij2KkKICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0icmV3YXJkc0xpc3QiIHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzMDBweCwgMWZyKSk7IGdhcDogMTVweDsgbWFyZ2luLWJvdHRvbTogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tINiz2YrYqtmFINi52LHYtiDYp9mE2YXZg9in2YHYotiqINmH2YbYpyAtLT4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDwhLS0g2LPYrNmEINin2YTYqtmC2YrZitmFINin2YTYs9mG2YjZiiAo2YXYrdmF2YopIC0tPgogICAgICAgICAgICAgICAgPGRpdiBpZD0iZW1wbG95ZWVBbm51YWxFdmFsdWF0aW9ucyIgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7IHBhZGRpbmctdG9wOiAyMHB4OyBib3JkZXItdG9wOiAycHggc29saWQgI2U5ZWNlZjsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICNmZjk4MDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKtkCDYs9is2YQg2KfZhNiq2YLZitmK2YUg2KfZhNiz2YbZiNmKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0iZXZhbHVhdGlvbkxvY2tJY29uIiBzdHlsZT0iY29sb3I6ICNkYzM1NDU7IGN1cnNvcjogcG9pbnRlcjsgbWFyZ2luLXJpZ2h0OiAxMHB4OyBmb250LXNpemU6IDAuOGVtOyIgb25jbGljaz0idG9nZ2xlRXZhbHVhdGlvblZpZXcoKSIgdGl0bGU9Itin2YbZgtixINmE2KXYuNmH2KfYsSDYp9mE2KrZgtmK2YrZhdin2KoiPvCflJI8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1pbmZvIiBpZD0iYWRkRXZhbHVhdGlvbkJ0biIgb25jbGljaz0ic2hvd0FkZEV2YWx1YXRpb25Gb3JtKCkiIHN0eWxlPSJwYWRkaW5nOiA4cHggMjBweDsgZm9udC1zaXplOiAxNHB4OyBkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICDinpUg2KXYttin2YHYqSDYqtmC2YrZitmFINiz2YbZiNmKCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImV2YWx1YXRpb25zTGlzdCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDM1MHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2LnYsdi2INin2YTYqtmC2YrZitmF2KfYqiDYp9mE2LPZhtmI2YrYqSDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZXZhbHVhdGlvbnNMb2NrZWRNZXNzYWdlIiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyBiYWNrZ3JvdW5kOiAjZmZmM2NkOyBib3JkZXI6IDJweCBzb2xpZCAjZmZjMTA3OyBib3JkZXItcmFkaXVzOiAxMHB4OyBjb2xvcjogIzg1NjQwNDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDNlbTsgbWFyZ2luLWJvdHRvbTogMTVweDsiPvCflJI8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjJlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij7Zh9iw2Kcg2KfZhNmC2LPZhSDZhdit2YXZiiDYqNmD2YTZhdipINmF2LHZiNixPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7Ij7Yp9mG2YLYsSDYudmE2Ykg2KPZitmC2YjZhtipINin2YTZgtmB2YQg2YTYpdiv2K7Yp9mEINmD2YTZhdipINin2YTZhdix2YjYsTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4td2FybmluZyIgb25jbGljaz0idG9nZ2xlRXZhbHVhdGlvblZpZXcoKSIgc3R5bGU9InBhZGRpbmc6IDEwcHggMjVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+UkyDYpdiv2K7Yp9mEINmD2YTZhdipINin2YTZhdix2YjYsQogICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDwhLS0g2KfZhNmF2LPYqtmG2K/Yp9iqIC0tPgogICAgICAgICAgICAgICAgPGRpdiBpZD0iZW1wbG95ZWVEb2N1bWVudHMiIHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyBwYWRkaW5nLXRvcDogMjBweDsgYm9yZGVyLXRvcDogMnB4IHNvbGlkICNlOWVjZWY7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGg0IHN0eWxlPSJtYXJnaW46IDA7IGNvbG9yOiAjNjY3ZWVhOyI+2KfZhNmF2LPYqtmG2K/Yp9iqINin2YTZhdix2YHZgtipPC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZURvY3VtZW50SW5wdXQnKS5jbGljaygpIiBzdHlsZT0icGFkZGluZzogOHB4IDIwcHg7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TjiDYpdix2YHYp9mCINmF2LPYqtmG2K8KICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0iZW1wbG95ZWVEb2N1bWVudElucHV0IiBtdWx0aXBsZSBhY2NlcHQ9Ii5wZGYsLmRvYywuZG9jeCwuanBnLC5qcGVnLC5wbmciIHN0eWxlPSJkaXNwbGF5OiBub25lOyIgb25jaGFuZ2U9ImhhbmRsZURvY3VtZW50VXBsb2FkKGV2ZW50KSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZW1wbG95ZWVEb2N1bWVudHNMaXN0IiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMjAwcHgsIDFmcikpOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSDYs9mK2KrZhSDYudix2LYg2KfZhNmF2LPYqtmG2K/Yp9iqINmH2YbYpyAtLT4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJoaWRlQWRkRW1wbG95ZWVGb3JtKCkiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIGlkPSJlbXBsb3llZVN1Ym1pdEJ0biIgb25jbGljaz0iYWRkRW1wbG95ZWUoKSI+2KXYttin2YHYqTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSDZhtin2YHYsNipINil2LbYp9mB2Kkg2YXZiNi42YHZitmGINmF2KrYudiv2K/ZitmGIC0tPgogICAgPGRpdiBpZD0iYnVsa0FkZEVtcGxveWVlc01vZGFsIiBjbGFzcz0ibW9kYWwiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6IDE0MDBweDsgbWF4LWhlaWdodDogOTB2aDsgb3ZlcmZsb3cteTogYXV0bzsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGgzIGlkPSJidWxrQWRkRW1wbG95ZWVzRm9ybVRpdGxlIiBkYXRhLXRyYW5zbGF0ZT0iYnVsa0FkZEVtcGxveWVlcyI+2KXYttin2YHYqSDZhdmI2LjZgdmK2YYg2YXYqti52K/Yr9mK2YY8L2gzPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJoaWRlQnVsa0FkZEVtcGxveWVlc0Zvcm0oKSI+JnRpbWVzOzwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2U3ZjNmZjsgYm9yZGVyLXJpZ2h0OiA0cHggc29saWQgIzY2N2VlYTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9Im1hcmdpbjogMDsgY29sb3I6ICMwYzU0NjA7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICDwn5KhINmK2YXZg9mG2YMg2KXYttin2YHYqSDYudiv2Kkg2YXZiNi42YHZitmGINiv2YHYudipINmI2KfYrdiv2KkuINiz2YrYqtmFINiq2YjZhNmK2K8g2KPYsdmC2KfZhSDYp9mE2YXZiNi42YHZitmGINiq2YTZgtin2KbZitin2YsuINin2YTYrdmC2YjZhCDYp9mE2YXZhdmK2LLYqSDYqNmAIDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj4g2KXZhNiy2KfZhdmK2KkuCiAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMjBweDsgZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1pbmZvIiBvbmNsaWNrPSJzaG93UGFzdGVGcm9tRXhjZWxEaWFsb2coKSI+8J+TiyDZhNi12YIg2YXZhiBFeGNlbDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iYWRkQnVsa0VtcGxveWVlUm93KCkiPisg2KXYttin2YHYqSDYtdmBPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImNsZWFyQnVsa0VtcGxveWVlc0Zvcm0oKSI+8J+Xke+4jyDZhdiz2K0g2KfZhNmD2YQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im92ZXJmbG93LXg6IGF1dG87Ij4KICAgICAgICAgICAgICAgICAgICA8dGFibGUgaWQ9ImJ1bGtFbXBsb3llZXNUYWJsZSIgc3R5bGU9IndpZHRoOiAxMDAlOyBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBiYWNrZ3JvdW5kOiB3aGl0ZTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgc3R5bGU9ImJhY2tncm91bmQ6ICM2NjdlZWE7IGNvbG9yOiB3aGl0ZTsgcG9zaXRpb246IHN0aWNreTsgdG9wOiAwOyB6LWluZGV4OiAxMDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0icGFkZGluZzogMTJweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgdGV4dC1hbGlnbjogY2VudGVyOyBtaW4td2lkdGg6IDUwcHg7Ij4jPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9InBhZGRpbmc6IDEycHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHRleHQtYWxpZ246IGNlbnRlcjsgbWluLXdpZHRoOiAxMjBweDsiPtin2YTYp9iz2YUg2KfZhNmD2KfZhdmEIDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0icGFkZGluZzogMTJweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgdGV4dC1hbGlnbjogY2VudGVyOyBtaW4td2lkdGg6IDEyMHB4OyI+2KfZhNin2LPZhSDYqNin2YTYpdmG2KzZhNmK2LLZitipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9InBhZGRpbmc6IDEycHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHRleHQtYWxpZ246IGNlbnRlcjsgbWluLXdpZHRoOiAxNTBweDsiPtin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZijwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1pbi13aWR0aDogMTIwcHg7Ij7YsdmC2YUg2KfZhNmH2KfYqtmBPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9InBhZGRpbmc6IDEycHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHRleHQtYWxpZ246IGNlbnRlcjsgbWluLXdpZHRoOiAxNTBweDsiPtin2YTYudmG2YjYp9mGPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9InBhZGRpbmc6IDEycHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHRleHQtYWxpZ246IGNlbnRlcjsgbWluLXdpZHRoOiAxMjBweDsiPtiq2KfYsdmK2K4g2KfZhNiq2LnZitmK2YY8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0icGFkZGluZzogMTJweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgdGV4dC1hbGlnbjogY2VudGVyOyBtaW4td2lkdGg6IDEyMHB4OyI+2KrYp9ix2YrYriDYp9mE2KXYr9ix2KfYrDwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1pbi13aWR0aDogMTIwcHg7Ij7Yp9mE2YXYs9mF2Ykg2KfZhNmI2LjZitmB2Yo8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0icGFkZGluZzogMTJweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgdGV4dC1hbGlnbjogY2VudGVyOyBtaW4td2lkdGg6IDEyMHB4OyI+2KfZhNiq2K3YtdmK2YQg2KfZhNiv2LHYp9iz2Yo8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0icGFkZGluZzogMTJweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgdGV4dC1hbGlnbjogY2VudGVyOyBtaW4td2lkdGg6IDEyMHB4OyI+2KfZhNin2K7Yqti12KfYtTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1pbi13aWR0aDogMTAwcHg7Ij7Yp9mE2K3Yp9mE2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0icGFkZGluZzogMTJweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgdGV4dC1hbGlnbjogY2VudGVyOyBtaW4td2lkdGg6IDEyMHB4OyI+2LHZhdiyINin2YTYsdin2KrYqDwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1pbi13aWR0aDogMTUwcHg7Ij7Yp9mE2YLYs9mFPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9InBhZGRpbmc6IDEycHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHRleHQtYWxpZ246IGNlbnRlcjsgbWluLXdpZHRoOiAxMDBweDsiPtil2KzYp9iy2Kkg2LTZh9ix2YrYqTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1pbi13aWR0aDogMTAwcHg7Ij7Ypdis2KfYstipINiy2YXZhtmK2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBzdHlsZT0icGFkZGluZzogMTJweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgdGV4dC1hbGlnbjogY2VudGVyOyBtaW4td2lkdGg6IDEyMHB4OyI+2KfZhNix2LXZitivINin2YTYp9io2KrYr9in2KbZijwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1pbi13aWR0aDogODBweDsiPtil2KzYsdin2KHYp9iqPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keSBpZD0iYnVsa0VtcGxveWVlc1RhYmxlQm9keSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tINiz2YrYqtmFINil2LbYp9mB2Kkg2KfZhNi12YHZiNmBINmH2YbYpyDYr9mK2YbYp9mF2YrZg9mK2KfZiyAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPti52K/YryDYp9mE2YXZiNi42YHZitmGOjwvc3Ryb25nPiA8c3BhbiBpZD0iYnVsa0VtcGxveWVlc0NvdW50Ij4wPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iaGlkZUJ1bGtBZGRFbXBsb3llZXNGb3JtKCkiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgb25jbGljaz0ic2F2ZUJ1bGtFbXBsb3llZXMoKSI+8J+SviDYrdmB2Lgg2KzZhdmK2Lkg2KfZhNmF2YjYuNmB2YrZhjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0g2YbYp9mB2LDYqSDZhNi12YIg2YXZhiBFeGNlbCAtLT4KICAgIDxkaXYgaWQ9InBhc3RlRnJvbUV4Y2VsTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9InotaW5kZXg6IDEwMDA0OyI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogODAwcHg7Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDxoMz7ZhNi12YIg2YXZhiBFeGNlbDwvaDM+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9kYWwtY2xvc2UiIG9uY2xpY2s9ImhpZGVQYXN0ZUZyb21FeGNlbERpYWxvZygpIj4mdGltZXM7PC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZTdmM2ZmOyBib3JkZXItcmlnaHQ6IDRweCBzb2xpZCAjNjY3ZWVhOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IG1hcmdpbi1ib3R0b206IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luOiAwOyBjb2xvcjogIzBjNTQ2MDsgZm9udC1zaXplOiAxNHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIPCfk4sg2KfZhNi12YIg2KfZhNio2YrYp9mG2KfYqiDZhdmGIEV4Y2VsINmH2YbYpy4g2YrYrNioINij2YYg2KrZg9mI2YYg2KfZhNio2YrYp9mG2KfYqiDZgdmKINmG2YHYsyDYqtix2KrZitioINin2YTYo9i52YXYr9ipOjxicj4KICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2KfYs9mFINin2YTZg9in2YXZhCB8INin2YTYp9iz2YUg2KjYp9mE2KXZhtis2YTZitiy2YrYqSB8INin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZiiB8INix2YLZhSDYp9mE2YfYp9iq2YEgfCDYp9mE2LnZhtmI2KfZhiB8INiq2KfYsdmK2K4g2KfZhNiq2LnZitmK2YYgfCDYqtin2LHZitiuINin2YTYpdiv2LHYp9isIHwg2KfZhNmF2LPZhdmJINin2YTZiNi42YrZgdmKIHwg2KfZhNiq2K3YtdmK2YQg2KfZhNiv2LHYp9iz2YogfCDYp9mE2KfYrtiq2LXYp9i1IHwg2KfZhNit2KfZhNipIHwg2LHZhdiyINin2YTYsdin2KrYqCB8INin2YTZgtiz2YUgfCDYpdis2KfYstipINi02YfYsdmK2KkgfCDYpdis2KfYstipINiy2YXZhtmK2KkgfCDYp9mE2LHYtdmK2K8g2KfZhNin2KjYqtiv2KfYptmKPC9zdHJvbmc+PGJyPgogICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+2YXZhNin2K3YuNipOiDZitmF2YPZhtmDINmG2LPYriDYp9mE2LXZgSDYp9mE2KPZiNmEICjYp9mE2LnZhtin2YjZitmGKSDZhdmGIEV4Y2Vs2Iwg2LPZitiq2YUg2KrYrti32YrZhyDYqtmE2YLYp9im2YrYp9mLPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2LXZgiDYp9mE2KjZitin2YbYp9iqINmH2YbYpzo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0iZXhjZWxQYXN0ZURhdGEiIHJvd3M9IjEwIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7IGJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7IGJvcmRlci1yYWRpdXM6IDhweDsgZm9udC1zaXplOiAxNHB4OyBmb250LWZhbWlseTogbW9ub3NwYWNlOyIgcGxhY2Vob2xkZXI9Itin2YTYtdmCINin2YTYqNmK2KfZhtin2Kog2YXZhiBFeGNlbCDZh9mG2KcuLi4iPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJoaWRlUGFzdGVGcm9tRXhjZWxEaWFsb2coKSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgb25jbGljaz0icHJvY2Vzc0V4Y2VsUGFzdGUoKSI+4pyFINmF2LnYp9mE2KzYqSDYp9mE2KjZitin2YbYp9iqPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tINmG2KfZgdiw2Kkg2KXZhtmH2KfYoSDYp9mE2YXYtNix2YjYuSAtLT4KICAgIDxkaXYgaWQ9ImVuZFByb2plY3RNb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iei1pbmRleDogMTAwMDM7Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiA1MDBweDsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGgzPtil2YbZh9in2KEg2KfZhNmF2LTYsdmI2Lk8L2gzPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJoaWRlRW5kUHJvamVjdE1vZGFsKCkiPiZ0aW1lczs8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImVuZFByb2plY3RJbmZvIiBzdHlsZT0iYmFja2dyb3VuZDogI2Y4ZjlmYTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPCEtLSDYs9mK2KrZhSDYudix2LYg2YXYudmE2YjZhdin2Kog2KfZhNmF2LTYsdmI2Lkg2YfZhtinIC0tPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZGF0ZSIgaWQ9ImVuZFByb2plY3REYXRlIiByZXF1aXJlZCBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7IGJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7IGJvcmRlci1yYWRpdXM6IDhweDsgZm9udC1zaXplOiAxNnB4OyI+CiAgICAgICAgICAgICAgICAgICAgPHNtYWxsIHN0eWxlPSJjb2xvcjogIzY2NjsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi10b3A6IDVweDsiPtiz2YrYqtmFINin2LPYqtiu2K/Yp9mFINiq2KfYsdmK2K4g2KfZhNmK2YjZhSDYpdiw2Kcg2YTZhSDZitiq2YUg2KrYrdiv2YrYryDYqtin2LHZitiuPC9zbWFsbD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImhpZGVFbmRQcm9qZWN0TW9kYWwoKSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgb25jbGljaz0iY29uZmlybUVuZFByb2plY3QoKSI+2KXZhtmH2KfYoSDYp9mE2YXYtNix2YjYuTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSDZhtin2YHYsNipINil2LbYp9mB2Kkv2KrYudiv2YrZhCDZhdiz2KrYrtiv2YUgLS0+CiAgICA8ZGl2IGlkPSJ1c2VyTW9kYWwiIGNsYXNzPSJtb2RhbCI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8aDMgaWQ9InVzZXJGb3JtVGl0bGUiPtil2LbYp9mB2Kkg2YXYs9iq2K7Yr9mFINis2K/ZitivPC9oMz4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtb2RhbC1jbG9zZSIgb25jbGljaz0iaGlkZUFkZFVzZXJGb3JtKCkiPiZ0aW1lczs8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMzAwcHgsIDFmcikpOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYp9iz2YUg2KfZhNmD2KfZhdmEOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJ1c2VyTmFtZSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2Yo6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZW1haWwiIGlkPSJ1c2VyRW1haWwiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJ1c2VyUGFzc3dvcmRHcm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Zg9mE2YXYqSDYp9mE2YXYsdmI2LE6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJ1c2VyUGFzc3dvcmQiIG1pbmxlbmd0aD0iNiIgcGxhY2Vob2xkZXI9IjYg2KPYrdix2YEg2LnZhNmJINin2YTYo9mC2YQiPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMTJweDsgbWFyZ2luLXRvcDogNXB4OyI+2YrYrNioINij2YYg2KrZg9mI2YYgNiDYo9it2LHZgSDYudmE2Ykg2KfZhNij2YLZhDwvcD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBpZD0idXNlclBhc3N3b3JkQ29uZmlybUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtiq2KPZg9mK2K8g2YPZhNmF2Kkg2KfZhNmF2LHZiNixOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0idXNlclBhc3N3b3JkQ29uZmlybSIgbWlubGVuZ3RoPSI2Ij4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYtdmE2KfYrdmK2Kk6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJ1c2VyUm9sZSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJlbXBsb3llZSI+2YXZiNi42YE8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im1hbmFnZXIiPtmF2K/ZitixPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJociI+2YXZiNin2LHYryDYqNi02LHZitipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhZG1pbiI+2YXYr9mK2LEg2KfZhNmG2LjYp9mFPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMTJweDsgbWFyZ2luLXRvcDogNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtmF2K/ZitixINin2YTZhti42KfZhTo8L3N0cm9uZz4g2KzZhdmK2Lkg2KfZhNi12YTYp9it2YrYp9iqPGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7ZhdmI2KfYsdivINio2LTYsdmK2Kk6PC9zdHJvbmc+INil2K/Yp9ix2Kkg2KfZhNmF2YjYuNmB2YrZhiDZiNin2YTYpdis2KfYstin2Ko8YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtmF2K/ZitixOjwvc3Ryb25nPiDYudix2LYg2KfZhNiq2YLYp9ix2YrYsSDZiNin2YTYpdi02LHYp9mBPGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7ZhdmI2LjZgTo8L3N0cm9uZz4g2LnYsdi2INio2YrYp9mG2KfYqtmHINmB2YLYtwogICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2K3Yp9mE2Kk6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJ1c2VyU3RhdHVzIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImFjdGl2ZSI+2YbYtNi3PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJpbmFjdGl2ZSI+2LrZitixINmG2LTYtzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJoaWRlQWRkVXNlckZvcm0oKSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9InVzZXJTdWJtaXRCdG4iIG9uY2xpY2s9ImFkZFVzZXIoKSI+2KXYttin2YHYqTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSDZhtin2YHYsNipINil2LbYp9mB2Kkv2KrYudiv2YrZhCDZhdi02LHZiNi5IC0tPgogICAgPGRpdiBpZD0icHJvamVjdE1vZGFsIiBjbGFzcz0ibW9kYWwiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGgzIGlkPSJwcm9qZWN0Rm9ybVRpdGxlIj7Ypdi22KfZgdipINmF2LTYsdmI2Lkg2KzYr9mK2K88L2gzPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJoaWRlQWRkUHJvamVjdEZvcm0oKSI+JnRpbWVzOzwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2U3ZjNmZjsgYm9yZGVyLXJpZ2h0OiA0cHggc29saWQgIzY2N2VlYTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPSJkaXNwbGF5OiBibG9jazsgbWFyZ2luLWJvdHRvbTogOHB4OyBmb250LXdlaWdodDogNjAwOyBjb2xvcjogIzMzMzsiPtix2YXYsiDYp9mE2YXYtNix2YjYuTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNjY3ZWVhOyIgaWQ9InByb2plY3RDb2RlIj5QUkotMDAxPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDVweDsgbWFyZ2luLWJvdHRvbTogMDsiPtiz2YrYqtmFINiq2YjZhNmK2K8g2LHZhdiyINin2YTZhdi02LHZiNi5INiq2YTZgtin2KbZitin2Ys8L3A+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDMwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9iz2YUg2KfZhNmF2LTYsdmI2LkgKNi52LHYqNmKKTogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icHJvamVjdE5hbWUiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfYs9mFINin2YTZhdi02LHZiNi5ICjYpdmG2KzZhNmK2LLZiik6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9qZWN0TmFtZUVuIiBwbGFjZWhvbGRlcj0iUHJvamVjdCBOYW1lIChFbmdsaXNoKSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yqtin2LHZitiuINin2YTYqNiv2KE6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJwcm9qZWN0U3RhcnREYXRlIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtiq2KfYsdmK2K4g2KfZhNin2YbYqtmH2KfYoTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZGF0ZSIgaWQ9InByb2plY3RFbmREYXRlIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTZhdmG2LfZgtipOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9InByb2plY3RSZWdpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj4tLSDYp9iu2KrYsSDYp9mE2YXZhti32YLYqSAtLTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYrdin2YTYqTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJwcm9qZWN0U3RhdHVzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImFjdGl2ZSI+2YbYtNi3PC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJjb21wbGV0ZWQiPtmF2YPYqtmF2YQ8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im9uLWhvbGQiPtmF2KrZiNmC2YE8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2YjYtdmBOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJwcm9qZWN0RGVzY3JpcHRpb24iIHJvd3M9IjQiIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTJweDsgYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsgYm9yZGVyLXJhZGl1czogOHB4OyBmb250LXNpemU6IDE2cHg7IGZvbnQtZmFtaWx5OiBpbmhlcml0OyI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQ6ICNmZmYzY2Q7IGJvcmRlci1yaWdodDogNHB4IHNvbGlkICNmZmMxMDc7IGJvcmRlci1yYWRpdXM6IDhweDsiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgY3Vyc29yOiBwb2ludGVyOyBmb250LXdlaWdodDogNjAwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InByb2plY3RJc0dlbmVyYWxNYW5hZ2VtZW50IiBvbmNoYW5nZT0idG9nZ2xlR2VuZXJhbE1hbmFnZW1lbnRGaWVsZHMoKSIgc3R5bGU9Im1hcmdpbi1sZWZ0OiAxMHB4OyB3aWR0aDogMjBweDsgaGVpZ2h0OiAyMHB4OyBjdXJzb3I6IHBvaW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+2YfYsNinINin2YTZhdi02LHZiNi5INmH2Ygg2KfZhNil2K/Yp9ix2Kkg2KfZhNi52KfZhdipPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDhweDsgbWFyZ2luLWJvdHRvbTogMDsiPti52YbYryDYqtit2K/ZitivINmH2LDYpyDYp9mE2K7Zitin2LHYjCDYs9mK2KrZhSDYp9i52KrYqNin2LEg2YfYsNinINin2YTZhdi02LHZiNi5INmD2KXYr9in2LHYqSDYudin2YXYqSDZgdmKINiq2YLYsdmK2LEg2YfZitmD2YQg2KfZhNi02LHZg9ipPC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgPGRpdiBpZD0iZ2VuZXJhbE1hbmFnZW1lbnRGaWVsZHMiIHN0eWxlPSJkaXNwbGF5OiBub25lOyBtYXJnaW4tdG9wOiAyMHB4OyBwYWRkaW5nOiAyMHB4OyBiYWNrZ3JvdW5kOiAjZTdmM2ZmOyBib3JkZXItcmlnaHQ6IDRweCBzb2xpZCAjNjY3ZWVhOyBib3JkZXItcmFkaXVzOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+2YXYudmE2YjZhdin2Kog2KfZhNil2K/Yp9ix2Kkg2KfZhNi52KfZhdipPC9oND4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDMwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2LPZhSDYp9mE2YXYr9mK2LEg2KfZhNi52KfZhTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9qZWN0R2VuZXJhbE1hbmFnZXIiIHBsYWNlaG9sZGVyPSLYp9iz2YUg2KfZhNmF2K/ZitixINin2YTYudin2YUiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfYs9mFINin2YTZhdiv2YrYsSDYp9mE2KrZhtmB2YrYsNmKOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InByb2plY3RFeGVjdXRpdmVNYW5hZ2VyIiBwbGFjZWhvbGRlcj0i2KfYs9mFINin2YTZhdiv2YrYsSDYp9mE2KrZhtmB2YrYsNmKIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyBkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Ij4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iaGlkZUFkZFByb2plY3RGb3JtKCkiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIGlkPSJwcm9qZWN0U3VibWl0QnRuIiBvbmNsaWNrPSJhZGRQcm9qZWN0KCkiPtil2LbYp9mB2Kk8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0g2YbYp9mB2LDYqSDYpdi22KfZgdipINmF2LTYsdmI2Lkg2YTZhNiz2KzZhCAtLT4KICAgIDxkaXYgaWQ9ImFkZFByb2plY3RUb0hpc3RvcnlNb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iei1pbmRleDogMTAwMDE7Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiA1MDBweDsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGgzPtil2LbYp9mB2Kkg2YXYtNix2YjYuSDZhNmE2LPYrNmEPC9oMz4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtb2RhbC1jbG9zZSIgb25jbGljaz0iaGlkZUFkZFByb2plY3RUb0hpc3RvcnlGb3JtKCkiPiZ0aW1lczs8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2YXYtNix2YjYuTogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iaGlzdG9yeVByb2plY3RTZWxlY3QiIHJlcXVpcmVkIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTJweDsgYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsgYm9yZGVyLXJhZGl1czogOHB4OyBmb250LXNpemU6IDE2cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2YXYtNix2YjYuTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KrYp9ix2YrYriDYp9mE2KjYr9ihOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZGF0ZSIgaWQ9Imhpc3RvcnlQcm9qZWN0U3RhcnREYXRlIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJoaXN0b3J5UHJvamVjdElzQ3VycmVudCIgY2hlY2tlZCBvbmNoYW5nZT0idG9nZ2xlUHJvamVjdEVuZERhdGUoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgINin2YTZhdi02LHZiNi5INin2YTYrdin2YTZigogICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9Imhpc3RvcnlQcm9qZWN0RW5kRGF0ZUdyb3VwIiBjbGFzcz0iZm9ybS1ncm91cCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJoaXN0b3J5UHJvamVjdEVuZERhdGUiPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAyMHB4OyBkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Ij4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iaGlkZUFkZFByb2plY3RUb0hpc3RvcnlGb3JtKCkiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIG9uY2xpY2s9ImFkZFByb2plY3RUb0hpc3RvcnkoKSI+2KXYttin2YHYqTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSDZhtin2YHYsNipINil2LbYp9mB2Kkv2KrYudiv2YrZhCDYpdis2KfYstipIC0tPgogICAgPGRpdiBpZD0ibGVhdmVNb2RhbCIgY2xhc3M9Im1vZGFsIj4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDxoMyBpZD0ibGVhdmVGb3JtVGl0bGUiPtil2LbYp9mB2Kkg2KXYrNin2LLYqSDYrNiv2YrYr9ipPC9oMz4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtb2RhbC1jbG9zZSIgb25jbGljaz0iaGlkZUFkZExlYXZlRm9ybSgpIj4mdGltZXM7PC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDMwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2YXZiNi42YE6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImxlYXZlRW1wbG95ZWVJZCIgbGlzdD0ibGVhdmVFbXBsb3llZUxpc3QiIHBsYWNlaG9sZGVyPSLYp9io2K3YqyDYudmGINin2YTZhdmI2LjZgSDYqNin2YTYp9iz2YUg2KPZiCDYsdmC2YUg2KfZhNmF2YjYuNmBLi4uIiByZXF1aXJlZCBhdXRvY29tcGxldGU9Im9mZiIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmOyBib3JkZXItcmFkaXVzOiA4cHg7IGZvbnQtc2l6ZTogMTZweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGF0YWxpc3QgaWQ9ImxlYXZlRW1wbG95ZWVMaXN0Ij48L2RhdGFsaXN0PgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBpZD0ibGVhdmVFbXBsb3llZUlkSGlkZGVuIiB2YWx1ZT0iIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtmG2YjYuSDYp9mE2KXYrNin2LLYqTogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImxlYXZlVHlwZSIgcmVxdWlyZWQgb25jaGFuZ2U9ImhhbmRsZUxlYXZlVHlwZUNoYW5nZSgpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2YbZiNi5INin2YTYpdis2KfYstipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJtb250aGx5Ij7Ypdis2KfYstipINi02YfYsdmK2Kk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImhvdXJseSI+2KXYrNin2LLYqSDYstmF2YbZitipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJ1bnBhaWQiPtil2KzYp9iy2Kkg2KjYr9mI2YYg2LHYp9iq2Kg8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IndvcmstbWlzc2lvbiI+2YXZh9mF2Kkg2LnZhdmEPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJsZWF2ZVJlZ2lvbkdyb3VwIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNmF2YbYt9mC2Kk6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJsZWF2ZVJlZ2lvbklkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+LS0g2KfYrtiq2LEg2KfZhNmF2YbYt9mC2KkgLS08L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyBtYXJnaW4tdG9wOiA1cHg7Ij7Yp9mE2YXZhti32YLYqSDYp9mE2KrZiiDYs9iq2KrZhSDZgdmK2YfYpyDYp9mE2YXZh9mF2Kk8L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgaWQ9ImxlYXZlTWlzc2lvblR5cGVHcm91cCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtmG2YjYuSDYp9mE2YXZh9mF2Kk6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJsZWF2ZU1pc3Npb25UeXBlIiBvbmNoYW5nZT0iaGFuZGxlTWlzc2lvblR5cGVDaGFuZ2UoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPi0tINin2K7YqtixINmG2YjYuSDYp9mE2YXZh9mF2KkgLS08L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImZ1bGwtZGF5Ij7ZitmI2YUg2YPYp9mF2YQ8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImhvdXJseSI+2LLZhdmG2YrYqSAo2LPYp9i52KfYqik8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyBtYXJnaW4tdG9wOiA1cHg7Ij7Yp9iu2KrYsSDZhdinINil2LDYpyDZg9in2YbYqiDYp9mE2YXZh9mF2Kkg2YTZitmI2YUg2YPYp9mF2YQg2KPZiCDYrNiy2KEg2YXZhiDYp9mE2YrZiNmFPC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJsZWF2ZU1pc3Npb25Ib3Vyc0dyb3VwIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2LfYsdmK2YLYqSDYp9mE2KXYr9iu2KfZhDo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJsZWF2ZU1pc3Npb25Ib3Vyc0lucHV0TWV0aG9kIiBvbmNoYW5nZT0iaGFuZGxlTWlzc2lvbkhvdXJzTWV0aG9kQ2hhbmdlKCkiIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTJweDsgYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsgYm9yZGVyLXJhZGl1czogOHB4OyBmb250LXNpemU6IDE2cHg7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im1hbnVhbCI+2KXYr9iu2KfZhCDZitiv2YjZiiAo2LnYr9ivINin2YTYs9in2LnYp9iqKTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0idGltZS1yYW5nZSI+2YXZhiDYs9in2LnYqSDYpdmE2Ykg2LPYp9i52Kk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImxlYXZlTWlzc2lvbkhvdXJzTWFudWFsR3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPti52K/YryDYp9mE2LPYp9i52KfYqjo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgaWQ9ImxlYXZlTWlzc2lvbkhvdXJzIiBtaW49IjAuNSIgc3RlcD0iMC41IiBwbGFjZWhvbGRlcj0i2YXYq9in2YQ6IDQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDVweDsiPti52K/YryDYs9in2LnYp9iqINin2YTZhdmH2YXYqTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImxlYXZlTWlzc2lvbkhvdXJzVGltZVJhbmdlR3JvdXAiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7IGdhcDogMTBweDsgbWFyZ2luLWJvdHRvbTogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7ZhdmGOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0aW1lIiBpZD0ibGVhdmVNaXNzaW9uU3RhcnRUaW1lIiBvbmNoYW5nZT0iY2FsY3VsYXRlTWlzc2lvbkhvdXJzRnJvbVRpbWUoKSIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmOyBib3JkZXItcmFkaXVzOiA4cHg7IGZvbnQtc2l6ZTogMTZweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7YpdmE2Yk6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRpbWUiIGlkPSJsZWF2ZU1pc3Npb25FbmRUaW1lIiBvbmNoYW5nZT0iY2FsY3VsYXRlTWlzc2lvbkhvdXJzRnJvbVRpbWUoKSIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmOyBib3JkZXItcmFkaXVzOiA4cHg7IGZvbnQtc2l6ZTogMTZweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZTdmM2ZmOyBwYWRkaW5nOiAxMHB4OyBib3JkZXItcmFkaXVzOiA4cHg7IG1hcmdpbi10b3A6IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPti52K/YryDYp9mE2LPYp9i52KfYqiDYp9mE2YXYrdiz2YjYqNipOjwvc3Ryb25nPiA8c3BhbiBpZD0ibGVhdmVNaXNzaW9uQ2FsY3VsYXRlZEhvdXJzIiBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IGZvbnQtd2VpZ2h0OiBib2xkOyI+MDwvc3Bhbj4g2LPYp9i52KkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8IS0tINi52LHYtiDYp9mE2KXYrNin2LLYp9iqINin2YTZhdiq2KjZgtmK2KkgLS0+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibGVhdmVCYWxhbmNlSW5mbyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IGdyaWQtY29sdW1uOiAxIC8gLTE7IGJhY2tncm91bmQ6ICNlN2YzZmY7IGJvcmRlci1yaWdodDogNHB4IHNvbGlkICM2NjdlZWE7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luLXRvcDogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9Im1hcmdpbjogMCAwIDEwcHggMDsgY29sb3I6ICM2NjdlZWE7Ij7Yp9mE2KXYrNin2LLYp9iqINin2YTZhdiq2KjZgtmK2Kk6PC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7IGdhcDogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtin2YTYpdis2KfYstin2Kog2KfZhNi02YfYsdmK2Kk6PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9Im1vbnRobHlMZWF2ZUJhbGFuY2UiIHN0eWxlPSJjb2xvcjogIzI4YTc0NTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc2l6ZTogMThweDsiPi08L3NwYW4+INmK2YjZhQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2KfZhNil2KzYp9iy2KfYqiDYp9mE2LLZhdmG2YrYqTo8L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0iaG91cmx5TGVhdmVCYWxhbmNlIiBzdHlsZT0iY29sb3I6ICMyOGE3NDU7IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6IDE4cHg7Ij4tPC9zcGFuPiDYs9in2LnYqQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KrYp9ix2YrYriDYp9mE2KjYr9ihOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJsZWF2ZVN0YXJ0RGF0ZSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yqtin2LHZitiuINin2YTYp9mG2KrZh9in2KE6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJsZWF2ZUVuZERhdGUiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJsZWF2ZUhvdXJzR3JvdXAiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yt9ix2YrZgtipINin2YTYpdiv2K7Yp9mEOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImxlYXZlSG91cnNJbnB1dE1ldGhvZCIgb25jaGFuZ2U9ImhhbmRsZUxlYXZlSG91cnNNZXRob2RDaGFuZ2UoKSIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmOyBib3JkZXItcmFkaXVzOiA4cHg7IGZvbnQtc2l6ZTogMTZweDsgbWFyZ2luLWJvdHRvbTogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ibWFudWFsIj7Ypdiv2K7Yp9mEINmK2K/ZiNmKICjYudiv2K8g2KfZhNiz2KfYudin2KopPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJ0aW1lLXJhbmdlIj7ZhdmGINiz2KfYudipINil2YTZiSDYs9in2LnYqTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibGVhdmVIb3Vyc01hbnVhbEdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yudiv2K8g2KfZhNiz2KfYudin2Ko6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJsZWF2ZUhvdXJzIiBtaW49IjAuNSIgc3RlcD0iMC41IiBwbGFjZWhvbGRlcj0i2YXYq9in2YQ6IDQiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibGVhdmVIb3Vyc1RpbWVSYW5nZUdyb3VwIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyOyBnYXA6IDEwcHg7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2YXZhjo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGltZSIgaWQ9ImxlYXZlU3RhcnRUaW1lIiBvbmNoYW5nZT0iY2FsY3VsYXRlTGVhdmVIb3Vyc0Zyb21UaW1lKCkiIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTJweDsgYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsgYm9yZGVyLXJhZGl1czogOHB4OyBmb250LXNpemU6IDE2cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KXZhNmJOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0aW1lIiBpZD0ibGVhdmVFbmRUaW1lIiBvbmNoYW5nZT0iY2FsY3VsYXRlTGVhdmVIb3Vyc0Zyb21UaW1lKCkiIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTJweDsgYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsgYm9yZGVyLXJhZGl1czogOHB4OyBmb250LXNpemU6IDE2cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2U3ZjNmZjsgcGFkZGluZzogMTBweDsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW4tdG9wOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yudiv2K8g2KfZhNiz2KfYudin2Kog2KfZhNmF2K3Ys9mI2KjYqTo8L3N0cm9uZz4gPHNwYW4gaWQ9ImxlYXZlQ2FsY3VsYXRlZEhvdXJzIiBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IGZvbnQtd2VpZ2h0OiBib2xkOyI+MDwvc3Bhbj4g2LPYp9i52KkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYrdin2YTYqTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJsZWF2ZVN0YXR1cyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJwZW5kaW5nIj7ZgtmK2K8g2KfZhNin2YbYqti42KfYsTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYXBwcm92ZWQiPtmF2YjYp9mB2YIg2LnZhNmK2YfYpzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0icmVqZWN0ZWQiPtmF2LHZgdmI2LbYqTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iY2FuY2VsbGVkIj7ZhdmE2LrYp9ipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJsZWF2ZURlZHVjdGlvbkdyb3VwIiBzdHlsZT0iZGlzcGxheTogbm9uZTsgZ3JpZC1jb2x1bW46IDEgLyAtMTsgYmFja2dyb3VuZDogI2ZmZjNjZDsgYm9yZGVyOiAycHggc29saWQgI2ZmYzEwNzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxMHB4OyBjdXJzb3I6IHBvaW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImxlYXZlQ2FsY3VsYXRlRGVkdWN0aW9uIiBjaGVja2VkIHN0eWxlPSJ3aWR0aDogMjBweDsgaGVpZ2h0OiAyMHB4OyBjdXJzb3I6IHBvaW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM4NTY0MDQ7Ij7Yp9it2KrYs9in2Kgg2K7YtdmFINmF2KfZhNmKINmE2YTYpdis2KfYstipINio2K/ZiNmGINix2KfYqtioPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6ICM4NTY0MDQ7IGZvbnQtc2l6ZTogMTNweDsgbWFyZ2luLXRvcDogOHB4OyBtYXJnaW4tcmlnaHQ6IDMwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgINi52YbYryDYqtmB2LnZitmEINmH2LDYpyDYp9mE2K7Zitin2LHYjCDYs9mK2KrZhSDYp9it2KrYs9in2Kgg2K7YtdmFINmF2KfZhNmKINmF2YYg2LHYp9iq2Kgg2KfZhNmF2YjYuNmBINio2YbYp9ih2Ysg2LnZhNmJINmF2K/YqSDYp9mE2KXYrNin2LLYqSDZiNin2YTYsdin2KrYqCDYp9mE2K3Yp9mE2YouCiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0iZ3JpZC1jb2x1bW46IDEgLyAtMTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNmF2YTYp9it2LjYp9iqOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0ibGVhdmVOb3RlcyIgcm93cz0iMyIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmOyBib3JkZXItcmFkaXVzOiA4cHg7IGZvbnQtc2l6ZTogMTZweDsiPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyBkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7Ij4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iaGlkZUFkZExlYXZlRm9ybSgpIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBpZD0ibGVhdmVTdWJtaXRCdG4iIG9uY2xpY2s9ImFkZExlYXZlKCkiPtil2LbYp9mB2Kk8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0g2YbYp9mB2LDYqSDYpdi22KfZgdipINi52YLZiNio2KkgLS0+CiAgICA8ZGl2IGlkPSJhZGRQZW5hbHR5TW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9InotaW5kZXg6IDEwMDAyOyI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogNTAwcHg7Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDxoMz7Ypdi22KfZgdipINi52YLZiNio2Kk8L2gzPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJoaWRlQWRkUGVuYWx0eUZvcm0oKSI+JnRpbWVzOzwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtmG2YjYuSDYp9mE2LnZgtmI2KjYqTogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0icGVuYWx0eVR5cGUiIHJlcXVpcmVkIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTJweDsgYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsgYm9yZGVyLXJhZGl1czogOHB4OyBmb250LXNpemU6IDE2cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDZhtmI2Lkg2KfZhNi52YLZiNio2Kk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0id2FybmluZyI+2KXZhtiw2KfYsTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJyZXByaW1hbmQiPtiq2YjYqNmK2K48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iZGVkdWN0aW9uIj7Yrti12YUg2YXYp9mE2Yo8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ic3VzcGVuc2lvbiI+2KrYudmE2YrZgjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJ0ZXJtaW5hdGlvbiI+2KXZhtmH2KfYoSDYrtiv2YXYqTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJvdGhlciI+2KPYrtix2Yk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYqtin2LHZitiuOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZGF0ZSIgaWQ9InBlbmFsdHlEYXRlIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYs9io2Kgv2KfZhNmI2LXZgTogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJwZW5hbHR5UmVhc29uIiByb3dzPSIzIiByZXF1aXJlZCBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7IGJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7IGJvcmRlci1yYWRpdXM6IDhweDsgZm9udC1zaXplOiAxNnB4OyI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTZhdio2YTYuiAo2YHZiiDYrdin2YTYqSDYp9mE2K7YtdmFINin2YTZhdin2YTZiik6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0icGVuYWx0eUFtb3VudCIgbWluPSIwIiBzdGVwPSIwLjAxIiBwbGFjZWhvbGRlcj0iMC4wMCI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD7ZhdmE2KfYrdi42KfYqiDYpdi22KfZgdmK2Kk6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9InBlbmFsdHlOb3RlcyIgcm93cz0iMiIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmOyBib3JkZXItcmFkaXVzOiA4cHg7IGZvbnQtc2l6ZTogMTZweDsiPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJoaWRlQWRkUGVuYWx0eUZvcm0oKSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgb25jbGljaz0iYWRkUGVuYWx0eSgpIj7Ypdi22KfZgdipPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tINmG2KfZgdiw2Kkg2KXYttin2YHYqSDZhdmD2KfZgdij2KkgLS0+CiAgICA8IS0tINmG2KfZgdiw2Kkg2KXYttin2YHYqS/Yqti52K/ZitmEINin2YTYqtmC2YrZitmFINin2YTYs9mG2YjZiiAtLT4KICAgIDxkaXYgaWQ9ImFkZEV2YWx1YXRpb25Nb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iei1pbmRleDogMTAwMDI7Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiA2MDBweDsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGgzIGlkPSJldmFsdWF0aW9uRm9ybVRpdGxlIj7Ypdi22KfZgdipINiq2YLZitmK2YUg2LPZhtmI2Yo8L2gzPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJoaWRlQWRkRXZhbHVhdGlvbkZvcm0oKSI+JnRpbWVzOzwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYs9mG2Kk6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJldmFsdWF0aW9uWWVhciIgbWluPSIyMDAwIiBtYXg9IjIxMDAiIHJlcXVpcmVkIHBsYWNlaG9sZGVyPSLZhdir2KfZhDogMjAyNCI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2KrZgtmK2YrZhSAo2YXZhiA1KTogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iZXZhbHVhdGlvblJhdGluZyIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+LS0g2KfYrtiq2LEg2KfZhNiq2YLZitmK2YUgLS08L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMSI+MSAtINi22LnZitmBINis2K/Yp9mLPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjIiPjIgLSDYtti52YrZgTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIzIj4zIC0g2YXZgtio2YjZhDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSI0Ij40IC0g2KzZitivPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjUiPjUgLSDZhdmF2KrYp9iyPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD7ZiNi12YEg2KfZhNiq2YLZitmK2YU6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0iZXZhbHVhdGlvbkRlc2NyaXB0aW9uIiByb3dzPSI1IiByZXF1aXJlZCBwbGFjZWhvbGRlcj0i2YjYtdmBINmF2YHYtdmEINmE2YTYqtmC2YrZitmFLi4uIj48L3RleHRhcmVhPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2YXZhNin2K3YuNin2Kog2KXYttin2YHZitipOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJldmFsdWF0aW9uTm90ZXMiIHJvd3M9IjMiIHBsYWNlaG9sZGVyPSLZhdmE2KfYrdi42KfYqiDYpdi22KfZgdmK2KkgKNin2K7YqtmK2KfYsdmKKS4uLiI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOyI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImhpZGVBZGRFdmFsdWF0aW9uRm9ybSgpIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBpZD0iZXZhbHVhdGlvblN1Ym1pdEJ0biIgb25jbGljaz0iYWRkRXZhbHVhdGlvbigpIj7Ypdi22KfZgdipPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGlkPSJhZGRSZXdhcmRNb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iei1pbmRleDogMTAwMDI7Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiA1MDBweDsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGgzPtil2LbYp9mB2Kkg2YXZg9in2YHYo9ipPC9oMz4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtb2RhbC1jbG9zZSIgb25jbGljaz0iaGlkZUFkZFJld2FyZEZvcm0oKSI+JnRpbWVzOzwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtmG2YjYuSDYp9mE2YXZg9in2YHYo9ipOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJyZXdhcmRUeXBlIiByZXF1aXJlZCBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7IGJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7IGJvcmRlci1yYWRpdXM6IDhweDsgZm9udC1zaXplOiAxNnB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2YbZiNi5INin2YTZhdmD2KfZgdij2Kk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYm9udXMiPtmF2YPYp9mB2KPYqSDZhdin2YTZitipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InJlY29nbml0aW9uIj7YtNmD2LEg2YjYqtmC2K/ZitixPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InByb21vdGlvbiI+2KrYsdmC2YrYqTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJnaWZ0Ij7Zh9iv2YrYqTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJjZXJ0aWZpY2F0ZSI+2LTZh9in2K/YqSDYqtmC2K/ZitixPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im90aGVyIj7Yo9iu2LHZiTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNiq2KfYsdmK2K46IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJkYXRlIiBpZD0icmV3YXJkRGF0ZSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2LPYqNioL9in2YTZiNi12YE6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0icmV3YXJkUmVhc29uIiByb3dzPSIzIiByZXF1aXJlZCBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7IGJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7IGJvcmRlci1yYWRpdXM6IDhweDsgZm9udC1zaXplOiAxNnB4OyI+PC90ZXh0YXJlYT4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTZhdio2YTYuiAo2YHZiiDYrdin2YTYqSDYp9mE2YXZg9in2YHYo9ipINin2YTZhdin2YTZitipKTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJyZXdhcmRBbW91bnQiIG1pbj0iMCIgc3RlcD0iMC4wMSIgcGxhY2Vob2xkZXI9IjAuMDAiPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2YXZhNin2K3YuNin2Kog2KXYttin2YHZitipOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJyZXdhcmROb3RlcyIgcm93cz0iMiIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMnB4OyBib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmOyBib3JkZXItcmFkaXVzOiA4cHg7IGZvbnQtc2l6ZTogMTZweDsiPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJoaWRlQWRkUmV3YXJkRm9ybSgpIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBvbmNsaWNrPSJhZGRSZXdhcmQoKSI+2KXYttin2YHYqTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSDZhtin2YHYsNipINil2LbYp9mB2Kkv2KrYudiv2YrZhCDZhdmG2LfZgtipIC0tPgogICAgPGRpdiBpZD0icmVnaW9uTW9kYWwiIGNsYXNzPSJtb2RhbCI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8aDMgaWQ9InJlZ2lvbkZvcm1UaXRsZSI+2KXYttin2YHYqSDZhdmG2LfZgtipINis2K/Zitiv2Kk8L2gzPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJoaWRlQWRkUmVnaW9uRm9ybSgpIj4mdGltZXM7PC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDMwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9iz2YUg2KfZhNmF2YbYt9mC2KkgKNi52LHYqNmKKTogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icmVnaW9uTmFtZSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9iz2YUg2KfZhNmF2YbYt9mC2KkgKNil2YbYrNmE2YrYstmKKTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InJlZ2lvbk5hbWVFbiIgcGxhY2Vob2xkZXI9IlJlZ2lvbiBOYW1lIChFbmdsaXNoKSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIHN0eWxlPSJtYXJnaW4tdG9wOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTZiNi12YE6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9InJlZ2lvbkRlc2NyaXB0aW9uIiByb3dzPSI0IiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7IGJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7IGJvcmRlci1yYWRpdXM6IDhweDsgZm9udC1zaXplOiAxNnB4OyBmb250LWZhbWlseTogaW5oZXJpdDsiPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJoaWRlQWRkUmVnaW9uRm9ybSgpIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBpZD0icmVnaW9uU3VibWl0QnRuIiBvbmNsaWNrPSJhZGRSZWdpb24oKSI+2KXYttin2YHYqTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSDZhtin2YHYsNipINil2LbYp9mB2Kkv2KrYudiv2YrZhCDZgtiz2YUgLS0+CiAgICA8ZGl2IGlkPSJkZXBhcnRtZW50TW9kYWwiIGNsYXNzPSJtb2RhbCI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8aDMgaWQ9ImRlcGFydG1lbnRGb3JtVGl0bGUiPtil2LbYp9mB2Kkg2YLYs9mFINis2K/ZitivPC9oMz4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtb2RhbC1jbG9zZSIgb25jbGljaz0iaGlkZUFkZERlcGFydG1lbnRGb3JtKCkiPiZ0aW1lczs8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMzAwcHgsIDFmcikpOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2LPZhSDYp9mE2YLYs9mFICjYudix2KjZiik6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImRlcGFydG1lbnROYW1lIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2LPZhSDYp9mE2YLYs9mFICjYpdmG2KzZhNmK2LLZiik6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJkZXBhcnRtZW50TmFtZUVuIiBwbGFjZWhvbGRlcj0iRGVwYXJ0bWVudCBOYW1lIChFbmdsaXNoKSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2YXYtNix2YjYuS/Yp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2Kk6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImRlcGFydG1lbnRQcm9qZWN0SWQiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPi0tINin2K7YqtixINin2YTZhdi02LHZiNi5IC0tPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImdlbmVyYWxfbWFuYWdlbWVudCI+2KfZhNil2K/Yp9ix2Kkg2KfZhNi52KfZhdipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDVweDsiPtin2K7YqtixINin2YTZhdi02LHZiNi5INin2YTYsNmKINmK2YbYqtmF2Yog2KXZhNmK2Ycg2KfZhNmC2LPZhSDYo9mIINin2K7YqtixICLYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2KkiPC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfZhNmI2LXZgTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0iZGVwYXJ0bWVudERlc2NyaXB0aW9uIiByb3dzPSI0IiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7IGJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7IGJvcmRlci1yYWRpdXM6IDhweDsgZm9udC1zaXplOiAxNnB4OyBmb250LWZhbWlseTogaW5oZXJpdDsiPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJoaWRlQWRkRGVwYXJ0bWVudEZvcm0oKSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9ImRlcGFydG1lbnRTdWJtaXRCdG4iIG9uY2xpY2s9ImFkZERlcGFydG1lbnQoKSI+2KXYttin2YHYqTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBGb290ZXIgLSDYrdmC2YjZgiDYp9mE2YbYtNixIC0tPgogICAgPGZvb3RlciBpZD0iYXBwRm9vdGVyIiBzdHlsZT0iYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAzMHB4IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogNTBweDsgYm9yZGVyLXRvcDogM3B4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4yKTsiPgogICAgICAgIDxkaXYgc3R5bGU9Im1heC13aWR0aDogMTIwMHB4OyBtYXJnaW46IDAgYXV0bzsiPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEuMmVtOyBmb250LXdlaWdodDogYm9sZDsgbWFyZ2luLWJvdHRvbTogMTBweDsiIGRhdGEtdHJhbnNsYXRlPSJjb3B5cmlnaHQiPgogICAgICAgICAgICAgICAg2YfYsNinINin2YTYqNix2YbYp9mF2Kwg2YXZhiDYqti12YXZitmFINmIINil2YbYtNin2KEgUm9zZW1hcnkg2YTZhNit2YTZiNmEINin2YTYqNix2YXYrNmKCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDAuOWVtOyBvcGFjaXR5OiAwLjk7IiBkYXRhLXRyYW5zbGF0ZT0iY29weXJpZ2h0RW4iPgogICAgICAgICAgICAgICAgVGhpcyBzb2Z0d2FyZSBpcyBkZXNpZ25lZCBhbmQgZGV2ZWxvcGVkIGJ5IFJvc2VtYXJ5IGZvciBzb2Z0d2FyZSBzb2x1dGlvbnMKICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDE1cHg7IGZvbnQtc2l6ZTogMC44NWVtOyBvcGFjaXR5OiAwLjg7Ij4KICAgICAgICAgICAgICAgIMKpIDIwMjQgUm9zZW1hcnkgLSDYrNmF2YrYuSDYp9mE2K3ZgtmI2YIg2YXYrdmB2YjYuNipIHwgQWxsIFJpZ2h0cyBSZXNlcnZlZAogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZm9vdGVyPgoKICAgIDxzY3JpcHQ+CiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICAvLyDYp9mE2YXYqti62YrYsdin2Kog2KfZhNi52KfZhdipCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICBjb25zdCBTQUxBUllfUEFTU1dPUkQgPSAnMTQ3NTk2Myc7CiAgICAgICAgY29uc3QgTEVBVkVfRURJVF9QQVNTV09SRCA9ICcxNDc1OTYzJzsgLy8g2YPZhNmF2Kkg2YXYsdmI2LEg2KrYudiv2YrZhCDYp9mE2KXYrNin2LLYp9iqINin2YTZhdmI2KfZgdmCINi52YTZitmH2KcKICAgICAgICBjb25zdCBERURVQ1RJT05fVklFV19QQVNTV09SRCA9ICcxNDc1OTYzJzsgLy8g2YPZhNmF2Kkg2YXYsdmI2LEg2LnYsdi2INin2YTYrti12YjZhdin2KoKICAgICAgICBjb25zdCBFVkFMVUFUSU9OX1BBU1NXT1JEID0gJzE0NzU5NjMnOyAvLyDZg9mE2YXYqSDZhdix2YjYsSDYp9mE2KrZgtmK2YrZhdin2Kog2KfZhNiz2YbZiNmK2KkKICAgICAgICBjb25zdCBVU0VSU19TRUNUSU9OX1BBU1NXT1JEID0gJzE0NzU5NjMnOyAvLyDZg9mE2YXYqSDZhdix2YjYsSDZgtiz2YUg2KfZhNmF2LPYqtiu2K/ZhdmK2YYKICAgICAgICB3aW5kb3cuZGVkdWN0aW9uVmlld1VubG9ja2VkID0gZmFsc2U7IC8vINit2KfZhNipINmB2KrYrSDYudix2LYg2KfZhNiu2LXZiNmF2KfYqgogICAgICAgIHdpbmRvdy5ldmFsdWF0aW9uVmlld1VubG9ja2VkID0gZmFsc2U7IC8vINit2KfZhNipINmB2KrYrSDYudix2LYg2KfZhNiq2YLZitmK2YXYp9iqCiAgICAgICAgd2luZG93LnVzZXJzU2VjdGlvblVubG9ja2VkID0gZmFsc2U7IC8vINit2KfZhNipINmB2KrYrSDZgtiz2YUg2KfZhNmF2LPYqtiu2K/ZhdmK2YYKICAgICAgICBsZXQgY3VycmVudFVzZXIgPSBudWxsOwogICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgbGV0IGlzTWFudWFsTG9nb3V0ID0gZmFsc2U7IC8vINi52YTYp9mF2Kkg2YTYqtiq2KjYuSDYqtiz2KzZitmEINin2YTYrtix2YjYrCDYp9mE2YrYr9mI2YoKICAgICAgICAvLyDYp9iz2KrYudin2K/YqSDYrdin2YTYqSDYqtiz2KzZitmEINin2YTYrtix2YjYrCDZhdmGIHNlc3Npb25TdG9yYWdlCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3Qgc2F2ZWRMb2dvdXRTdGF0ZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2hybV9tYW51YWxfbG9nb3V0Jyk7CiAgICAgICAgICAgIGlmIChzYXZlZExvZ291dFN0YXRlID09PSAndHJ1ZScpIHsKICAgICAgICAgICAgICAgIGlzTWFudWFsTG9nb3V0ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1FXSDYp9iz2KrYudin2K/YqSBpc01hbnVhbExvZ291dCDZhdmGIHNlc3Npb25TdG9yYWdlOicsIGlzTWFudWFsTG9nb3V0KTsKICAgICAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctRV0g2YTYpyDYqtmI2KzYryDYrdin2YTYqSDYqtiz2KzZitmEINiu2LHZiNisINmF2K3ZgdmI2LjYqSDZgdmKIHNlc3Npb25TdG9yYWdlJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1FXSDYrti32KMg2YHZiiDZgtix2KfYodipIHNlc3Npb25TdG9yYWdlOicsIGUpOwogICAgICAgIH0KICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgbGV0IGVtcGxveWVlc0RhdGEgPSBbXTsKICAgICAgICBsZXQgbGVhdmVzRGF0YSA9IFtdOwogICAgICAgIGxldCBhdWRpdExvZ3MgPSBbXTsgLy8g2LPYrNmEINin2YTYqti52K/ZitmE2KfYqgogICAgICAgIAogICAgICAgIC8vINmG2LjYp9mFINin2YTYqtix2KzZhdipCiAgICAgICAgbGV0IGN1cnJlbnRMYW5ndWFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdocm1fbGFuZ3VhZ2UnKSB8fCAnYXInOwogICAgICAgIAogICAgICAgIGNvbnN0IHRyYW5zbGF0aW9ucyA9IHsKICAgICAgICAgICAgYXI6IHsKICAgICAgICAgICAgICAgIC8vIEhlYWRlcgogICAgICAgICAgICAgICAgc3lzdGVtVGl0bGU6ICfZhti42KfZhSDYpdiv2KfYsdipINin2YTZhdmI2KfYsdivINin2YTYqNi02LHZitipJywKICAgICAgICAgICAgICAgIGxvZ291dDogJ9iq2LPYrNmK2YQg2KfZhNiu2LHZiNisJywKICAgICAgICAgICAgICAgIGxvYWRpbmc6ICfYrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLicsCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIE5hdmlnYXRpb24KICAgICAgICAgICAgICAgIGRhc2hib2FyZDogJ9mE2YjYrdipINin2YTYqtit2YPZhScsCiAgICAgICAgICAgICAgICBlbXBsb3llZXM6ICfYp9mE2YXZiNi42YHZitmGJywKICAgICAgICAgICAgICAgIHByb2plY3RzOiAn2KfZhNmF2LTYp9ix2YrYuScsCiAgICAgICAgICAgICAgICByZWdpb25zOiAn2KfZhNmF2YbYp9i32YInLAogICAgICAgICAgICAgICAgZGVwYXJ0bWVudHM6ICfYp9mE2KPZgtiz2KfZhScsCiAgICAgICAgICAgICAgICBsZWF2ZXM6ICfYp9mE2KXYrNin2LLYp9iqJywKICAgICAgICAgICAgICAgIHJlcG9ydHM6ICfYp9mE2KrZgtin2LHZitixJywKICAgICAgICAgICAgICAgIHVzZXJzOiAn2KfZhNmF2LPYqtiu2K/ZhdmK2YYnLAogICAgICAgICAgICAgICAgc2V0dGluZ3M6ICfYp9mE2KXYudiv2KfYr9in2KonLAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBEYXNoYm9hcmQKICAgICAgICAgICAgICAgIHRvdGFsRW1wbG95ZWVzOiAn2KXYrNmF2KfZhNmKINin2YTZhdmI2LjZgdmK2YYnLAogICAgICAgICAgICAgICAgYWN0aXZlRW1wbG95ZWVzOiAn2KfZhNmF2YjYuNmB2YrZhiDYp9mE2YbYtNi32YrZhicsCiAgICAgICAgICAgICAgICB0b3RhbFByb2plY3RzOiAn2KXYrNmF2KfZhNmKINin2YTZhdi02KfYsdmK2LknLAogICAgICAgICAgICAgICAgYWN0aXZlUHJvamVjdHM6ICfYp9mE2YXYtNin2LHZiti5INin2YTZhti02LfYqScsCiAgICAgICAgICAgICAgICBwZW5kaW5nTGVhdmVzOiAn2KfZhNil2KzYp9iy2KfYqiDYp9mE2YXYudmE2YLYqScsCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIENvbW1vbgogICAgICAgICAgICAgICAgYWRkOiAn2KXYttin2YHYqScsCiAgICAgICAgICAgICAgICBlZGl0OiAn2KrYudiv2YrZhCcsCiAgICAgICAgICAgICAgICBkZWxldGU6ICfYrdiw2YEnLAogICAgICAgICAgICAgICAgc2F2ZTogJ9it2YHYuCcsCiAgICAgICAgICAgICAgICBjYW5jZWw6ICfYpdmE2LrYp9ihJywKICAgICAgICAgICAgICAgIHNlYXJjaDogJ9in2YTYqNit2KsnLAogICAgICAgICAgICAgICAgZmlsdGVyOiAn2YHZhNiq2LHYqScsCiAgICAgICAgICAgICAgICBjbGVhckZpbHRlcnM6ICfZhdiz2K0g2KfZhNmB2YTYp9iq2LEnLAogICAgICAgICAgICAgICAgYWN0aW9uczogJ9in2YTYpdis2LHYp9ih2KfYqicsCiAgICAgICAgICAgICAgICBzdGF0dXM6ICfYp9mE2K3Yp9mE2KknLAogICAgICAgICAgICAgICAgbmFtZTogJ9in2YTYp9iz2YUnLAogICAgICAgICAgICAgICAgZGF0ZTogJ9in2YTYqtin2LHZitiuJywKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn2KfZhNmI2LXZgScsCiAgICAgICAgICAgICAgICBub3RlczogJ9mF2YTYp9it2LjYp9iqJywKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gUm9sZXMKICAgICAgICAgICAgICAgIGFkbWluOiAn2YXYr9mK2LEg2KfZhNmG2LjYp9mFJywKICAgICAgICAgICAgICAgIGhyOiAn2YXZiNin2LHYryDYqNi02LHZitipJywKICAgICAgICAgICAgICAgIG1hbmFnZXI6ICfZhdiv2YrYsScsCiAgICAgICAgICAgICAgICBlbXBsb3llZTogJ9mF2YjYuNmBJywKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gTW9kYWxzCiAgICAgICAgICAgICAgICBhZGRFbXBsb3llZTogJ9il2LbYp9mB2Kkg2YXZiNi42YEg2KzYr9mK2K8nLAogICAgICAgICAgICAgICAgZWRpdEVtcGxveWVlOiAn2KrYudiv2YrZhCDYp9mE2YXZiNi42YEnLAogICAgICAgICAgICAgICAgYnVsa0FkZEVtcGxveWVlczogJ9il2LbYp9mB2Kkg2YXZiNi42YHZitmGINmF2KrYudiv2K/ZitmGJywKICAgICAgICAgICAgICAgIGFkZFByb2plY3Q6ICfYpdi22KfZgdipINmF2LTYsdmI2Lkg2KzYr9mK2K8nLAogICAgICAgICAgICAgICAgZWRpdFByb2plY3Q6ICfYqti52K/ZitmEINin2YTZhdi02LHZiNi5JywKICAgICAgICAgICAgICAgIGFkZFJlZ2lvbjogJ9il2LbYp9mB2Kkg2YXZhti32YLYqSDYrNiv2YrYr9ipJywKICAgICAgICAgICAgICAgIGVkaXRSZWdpb246ICfYqti52K/ZitmEINin2YTZhdmG2LfZgtipJywKICAgICAgICAgICAgICAgIGFkZERlcGFydG1lbnQ6ICfYpdi22KfZgdipINmC2LPZhSDYrNiv2YrYrycsCiAgICAgICAgICAgICAgICBlZGl0RGVwYXJ0bWVudDogJ9iq2LnYr9mK2YQg2KfZhNmC2LPZhScsCiAgICAgICAgICAgICAgICBhZGRMZWF2ZTogJ9il2LbYp9mB2Kkg2KXYrNin2LLYqSDYrNiv2YrYr9ipJywKICAgICAgICAgICAgICAgIGVkaXRMZWF2ZTogJ9iq2LnYr9mK2YQg2KfZhNil2KzYp9iy2KknLAogICAgICAgICAgICAgICAgYWRkVXNlcjogJ9il2LbYp9mB2Kkg2YXYs9iq2K7Yr9mFINis2K/ZitivJywKICAgICAgICAgICAgICAgIGVkaXRVc2VyOiAn2KrYudiv2YrZhCDYp9mE2YXYs9iq2K7Yr9mFJywKICAgICAgICAgICAgICAgIGFkZEV2YWx1YXRpb246ICfYpdi22KfZgdipINiq2YLZitmK2YUg2LPZhtmI2YonLAogICAgICAgICAgICAgICAgZWRpdEV2YWx1YXRpb246ICfYqti52K/ZitmEINin2YTYqtmC2YrZitmFJywKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQnV0dG9ucwogICAgICAgICAgICAgICAgYWRkQnRuOiAn2KXYttin2YHYqScsCiAgICAgICAgICAgICAgICBlZGl0QnRuOiAn2KrYudiv2YrZhCcsCiAgICAgICAgICAgICAgICBkZWxldGVCdG46ICfYrdiw2YEnLAogICAgICAgICAgICAgICAgc2F2ZUJ0bjogJ9it2YHYuCcsCiAgICAgICAgICAgICAgICBzYXZlQ2hhbmdlczogJ9it2YHYuCDYp9mE2KrYudiv2YrZhNin2KonLAogICAgICAgICAgICAgICAgY2FuY2VsQnRuOiAn2KXZhNi62KfYoScsCiAgICAgICAgICAgICAgICBjbG9zZUJ0bjogJ9il2LrZhNin2YInLAogICAgICAgICAgICAgICAgdmlld0J0bjogJ9i52LHYticsCiAgICAgICAgICAgICAgICBsb2NrU2VjdGlvbjogJ9mC2YHZhCDYp9mE2YLYs9mFJywKICAgICAgICAgICAgICAgIHVubG9ja1NlY3Rpb246ICfYpdiv2K7Yp9mEINmD2YTZhdipINin2YTZhdix2YjYsScsCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFNlY3Rpb25zCiAgICAgICAgICAgICAgICB1c2Vyc1NlY3Rpb25Mb2NrZWQ6ICfZh9iw2Kcg2KfZhNmC2LPZhSDZhdit2YXZiiDYqNmD2YTZhdipINmF2LHZiNixJywKICAgICAgICAgICAgICAgIHVzZXJzU2VjdGlvbkxvY2tlZERlc2M6ICfZitis2Kgg2KXYr9iu2KfZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YTZhNmI2LXZiNmEINil2YTZiSDZgtiz2YUg2KXYr9in2LHYqSDYp9mE2YXYs9iq2K7Yr9mF2YrZhicsCiAgICAgICAgICAgICAgICBjb3B5cmlnaHQ6ICfZh9iw2Kcg2KfZhNio2LHZhtin2YXYrCDZhdmGINiq2LXZhdmK2YUg2Ygg2KXZhti02KfYoSBSb3NlbWFyeSDZhNmE2K3ZhNmI2YQg2KfZhNio2LHZhdis2YonLAogICAgICAgICAgICAgICAgY29weXJpZ2h0RW46ICdUaGlzIHNvZnR3YXJlIGlzIGRlc2lnbmVkIGFuZCBkZXZlbG9wZWQgYnkgUm9zZW1hcnkgZm9yIHNvZnR3YXJlIHNvbHV0aW9ucycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZW46IHsKICAgICAgICAgICAgICAgIC8vIEhlYWRlcgogICAgICAgICAgICAgICAgc3lzdGVtVGl0bGU6ICdIdW1hbiBSZXNvdXJjZXMgTWFuYWdlbWVudCBTeXN0ZW0nLAogICAgICAgICAgICAgICAgbG9nb3V0OiAnTG9nb3V0JywKICAgICAgICAgICAgICAgIGxvYWRpbmc6ICdMb2FkaW5nLi4uJywKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gTmF2aWdhdGlvbgogICAgICAgICAgICAgICAgZGFzaGJvYXJkOiAnRGFzaGJvYXJkJywKICAgICAgICAgICAgICAgIGVtcGxveWVlczogJ0VtcGxveWVlcycsCiAgICAgICAgICAgICAgICBwcm9qZWN0czogJ1Byb2plY3RzJywKICAgICAgICAgICAgICAgIHJlZ2lvbnM6ICdSZWdpb25zJywKICAgICAgICAgICAgICAgIGRlcGFydG1lbnRzOiAnRGVwYXJ0bWVudHMnLAogICAgICAgICAgICAgICAgbGVhdmVzOiAnTGVhdmVzJywKICAgICAgICAgICAgICAgIHJlcG9ydHM6ICdSZXBvcnRzJywKICAgICAgICAgICAgICAgIHVzZXJzOiAnVXNlcnMnLAogICAgICAgICAgICAgICAgc2V0dGluZ3M6ICdTZXR0aW5ncycsCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIERhc2hib2FyZAogICAgICAgICAgICAgICAgdG90YWxFbXBsb3llZXM6ICdUb3RhbCBFbXBsb3llZXMnLAogICAgICAgICAgICAgICAgYWN0aXZlRW1wbG95ZWVzOiAnQWN0aXZlIEVtcGxveWVlcycsCiAgICAgICAgICAgICAgICB0b3RhbFByb2plY3RzOiAnVG90YWwgUHJvamVjdHMnLAogICAgICAgICAgICAgICAgYWN0aXZlUHJvamVjdHM6ICdBY3RpdmUgUHJvamVjdHMnLAogICAgICAgICAgICAgICAgcGVuZGluZ0xlYXZlczogJ1BlbmRpbmcgTGVhdmVzJywKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQ29tbW9uCiAgICAgICAgICAgICAgICBhZGQ6ICdBZGQnLAogICAgICAgICAgICAgICAgZWRpdDogJ0VkaXQnLAogICAgICAgICAgICAgICAgZGVsZXRlOiAnRGVsZXRlJywKICAgICAgICAgICAgICAgIHNhdmU6ICdTYXZlJywKICAgICAgICAgICAgICAgIGNhbmNlbDogJ0NhbmNlbCcsCiAgICAgICAgICAgICAgICBzZWFyY2g6ICdTZWFyY2gnLAogICAgICAgICAgICAgICAgZmlsdGVyOiAnRmlsdGVyJywKICAgICAgICAgICAgICAgIGNsZWFyRmlsdGVyczogJ0NsZWFyIEZpbHRlcnMnLAogICAgICAgICAgICAgICAgYWN0aW9uczogJ0FjdGlvbnMnLAogICAgICAgICAgICAgICAgc3RhdHVzOiAnU3RhdHVzJywKICAgICAgICAgICAgICAgIG5hbWU6ICdOYW1lJywKICAgICAgICAgICAgICAgIGRhdGU6ICdEYXRlJywKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24nLAogICAgICAgICAgICAgICAgbm90ZXM6ICdOb3RlcycsCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFJvbGVzCiAgICAgICAgICAgICAgICBhZG1pbjogJ1N5c3RlbSBBZG1pbmlzdHJhdG9yJywKICAgICAgICAgICAgICAgIGhyOiAnSHVtYW4gUmVzb3VyY2VzJywKICAgICAgICAgICAgICAgIG1hbmFnZXI6ICdNYW5hZ2VyJywKICAgICAgICAgICAgICAgIGVtcGxveWVlOiAnRW1wbG95ZWUnLAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBNb2RhbHMKICAgICAgICAgICAgICAgIGFkZEVtcGxveWVlOiAnQWRkIE5ldyBFbXBsb3llZScsCiAgICAgICAgICAgICAgICBlZGl0RW1wbG95ZWU6ICdFZGl0IEVtcGxveWVlJywKICAgICAgICAgICAgICAgIGJ1bGtBZGRFbXBsb3llZXM6ICdCdWxrIEFkZCBFbXBsb3llZXMnLAogICAgICAgICAgICAgICAgYWRkUHJvamVjdDogJ0FkZCBOZXcgUHJvamVjdCcsCiAgICAgICAgICAgICAgICBlZGl0UHJvamVjdDogJ0VkaXQgUHJvamVjdCcsCiAgICAgICAgICAgICAgICBhZGRSZWdpb246ICdBZGQgTmV3IFJlZ2lvbicsCiAgICAgICAgICAgICAgICBlZGl0UmVnaW9uOiAnRWRpdCBSZWdpb24nLAogICAgICAgICAgICAgICAgYWRkRGVwYXJ0bWVudDogJ0FkZCBOZXcgRGVwYXJ0bWVudCcsCiAgICAgICAgICAgICAgICBlZGl0RGVwYXJ0bWVudDogJ0VkaXQgRGVwYXJ0bWVudCcsCiAgICAgICAgICAgICAgICBhZGRMZWF2ZTogJ0FkZCBOZXcgTGVhdmUnLAogICAgICAgICAgICAgICAgZWRpdExlYXZlOiAnRWRpdCBMZWF2ZScsCiAgICAgICAgICAgICAgICBhZGRVc2VyOiAnQWRkIE5ldyBVc2VyJywKICAgICAgICAgICAgICAgIGVkaXRVc2VyOiAnRWRpdCBVc2VyJywKICAgICAgICAgICAgICAgIGFkZEV2YWx1YXRpb246ICdBZGQgQW5udWFsIEV2YWx1YXRpb24nLAogICAgICAgICAgICAgICAgZWRpdEV2YWx1YXRpb246ICdFZGl0IEV2YWx1YXRpb24nLAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBCdXR0b25zCiAgICAgICAgICAgICAgICBhZGRCdG46ICdBZGQnLAogICAgICAgICAgICAgICAgZWRpdEJ0bjogJ0VkaXQnLAogICAgICAgICAgICAgICAgZGVsZXRlQnRuOiAnRGVsZXRlJywKICAgICAgICAgICAgICAgIHNhdmVCdG46ICdTYXZlJywKICAgICAgICAgICAgICAgIHNhdmVDaGFuZ2VzOiAnU2F2ZSBDaGFuZ2VzJywKICAgICAgICAgICAgICAgIGNhbmNlbEJ0bjogJ0NhbmNlbCcsCiAgICAgICAgICAgICAgICBjbG9zZUJ0bjogJ0Nsb3NlJywKICAgICAgICAgICAgICAgIHZpZXdCdG46ICdWaWV3JywKICAgICAgICAgICAgICAgIGxvY2tTZWN0aW9uOiAnTG9jayBTZWN0aW9uJywKICAgICAgICAgICAgICAgIHVubG9ja1NlY3Rpb246ICdFbnRlciBQYXNzd29yZCcsCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFNlY3Rpb25zCiAgICAgICAgICAgICAgICB1c2Vyc1NlY3Rpb25Mb2NrZWQ6ICdUaGlzIHNlY3Rpb24gaXMgcGFzc3dvcmQgcHJvdGVjdGVkJywKICAgICAgICAgICAgICAgIHVzZXJzU2VjdGlvbkxvY2tlZERlc2M6ICdQYXNzd29yZCByZXF1aXJlZCB0byBhY2Nlc3MgdXNlciBtYW5hZ2VtZW50IHNlY3Rpb24nLAogICAgICAgICAgICAgICAgY29weXJpZ2h0OiAnVGhpcyBzb2Z0d2FyZSBpcyBkZXNpZ25lZCBhbmQgZGV2ZWxvcGVkIGJ5IFJvc2VtYXJ5IGZvciBzb2Z0d2FyZSBzb2x1dGlvbnMnLAogICAgICAgICAgICAgICAgY29weXJpZ2h0RW46ICdUaGlzIHNvZnR3YXJlIGlzIGRlc2lnbmVkIGFuZCBkZXZlbG9wZWQgYnkgUm9zZW1hcnkgZm9yIHNvZnR3YXJlIHNvbHV0aW9ucycKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgLy8g2K/Yp9mE2Kkg2KfZhNit2LXZiNmEINi52YTZiSDYp9mE2KrYsdis2YXYqQogICAgICAgIGZ1bmN0aW9uIHQoa2V5KSB7CiAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbnNbY3VycmVudExhbmd1YWdlXVtrZXldIHx8IGtleTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2K/Yp9mE2Kkg2KrYqNiv2YrZhCDYp9mE2YTYutipCiAgICAgICAgZnVuY3Rpb24gc3dpdGNoTGFuZ3VhZ2UobGFuZykgewogICAgICAgICAgICBjdXJyZW50TGFuZ3VhZ2UgPSBsYW5nOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaHJtX2xhbmd1YWdlJywgbGFuZyk7CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nID0gbGFuZzsKICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRpciA9IGxhbmcgPT09ICdhcicgPyAncnRsJyA6ICdsdHInOwogICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9ucygpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDYr9in2YTYqSDYqti32KjZitmCINin2YTYqtix2KzZhdipCiAgICAgICAgZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbnMoKSB7CiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2KfZhNi52YbZiNin2YYg2KfZhNix2KbZitiz2YoKICAgICAgICAgICAgY29uc3QgaGVhZGVyVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhZGVyU3lzdGVtVGl0bGUnKTsKICAgICAgICAgICAgaWYgKGhlYWRlclRpdGxlKSB7CiAgICAgICAgICAgICAgICBoZWFkZXJUaXRsZS50ZXh0Q29udGVudCA9IHQoJ3N5c3RlbVRpdGxlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2LLYsSDYqtiz2KzZitmEINin2YTYrtix2YjYrAogICAgICAgICAgICBjb25zdCBsb2dvdXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLWxvZ291dC1idG4gc3BhbjpsYXN0LWNoaWxkJyk7CiAgICAgICAgICAgIGlmIChsb2dvdXRCdG4pIHsKICAgICAgICAgICAgICAgIGxvZ291dEJ0bi50ZXh0Q29udGVudCA9IHQoJ2xvZ291dCcpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqtit2K/ZitirINij2LLYsdin2LEg2KfZhNiq2YbZgtmECiAgICAgICAgICAgIGNvbnN0IG5hdkJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2LWJ0bicpOwogICAgICAgICAgICBuYXZCdXR0b25zLmZvckVhY2goYnRuID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBidG4udGV4dENvbnRlbnQudHJpbSgpOwogICAgICAgICAgICAgICAgaWYgKHRleHQuaW5jbHVkZXMoJ/Cfk4onKSkgYnRuLnRleHRDb250ZW50ID0gYPCfk4ogJHt0KCdkYXNoYm9hcmQnKX1gOwogICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dC5pbmNsdWRlcygn8J+RpScpKSBidG4udGV4dENvbnRlbnQgPSBg8J+RpSAke3QoJ2VtcGxveWVlcycpfWA7CiAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0LmluY2x1ZGVzKCfwn5OBJykpIGJ0bi50ZXh0Q29udGVudCA9IGDwn5OBICR7dCgncHJvamVjdHMnKX1gOwogICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dC5pbmNsdWRlcygn8J+MjScpKSBidG4udGV4dENvbnRlbnQgPSBg8J+MjSAke3QoJ3JlZ2lvbnMnKX1gOwogICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dC5pbmNsdWRlcygn8J+Pm++4jycpKSBidG4udGV4dENvbnRlbnQgPSBg8J+Pm++4jyAke3QoJ2RlcGFydG1lbnRzJyl9YDsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQuaW5jbHVkZXMoJ/Cfk4UnKSkgYnRuLnRleHRDb250ZW50ID0gYPCfk4UgJHt0KCdsZWF2ZXMnKX1gOwogICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dC5pbmNsdWRlcygn8J+TiCcpKSBidG4udGV4dENvbnRlbnQgPSBg8J+TiCAke3QoJ3JlcG9ydHMnKX1gOwogICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dC5pbmNsdWRlcygn8J+RpCcpKSBidG4udGV4dENvbnRlbnQgPSBg8J+RpCAke3QoJ3VzZXJzJyl9YDsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQuaW5jbHVkZXMoJ+Kame+4jycpKSBidG4udGV4dENvbnRlbnQgPSBg4pqZ77iPICR7dCgnc2V0dGluZ3MnKX1gOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2LnZhtin2YjZitmGINin2YTYo9mC2LPYp9mFCiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25UaXRsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VjdGlvbiBoMicpOwogICAgICAgICAgICBzZWN0aW9uVGl0bGVzLmZvckVhY2godGl0bGUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IHRpdGxlLnRleHRDb250ZW50LnRyaW0oKTsKICAgICAgICAgICAgICAgIGlmICh0ZXh0ID09PSAn2YTZiNit2Kkg2KfZhNiq2K3Zg9mFJyB8fCB0ZXh0ID09PSAnRGFzaGJvYXJkJykgdGl0bGUudGV4dENvbnRlbnQgPSB0KCdkYXNoYm9hcmQnKTsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT09ICfYp9mE2YXZiNi42YHZitmGJyB8fCB0ZXh0ID09PSAnRW1wbG95ZWVzJykgdGl0bGUudGV4dENvbnRlbnQgPSB0KCdlbXBsb3llZXMnKTsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT09ICfYp9mE2YXYtNin2LHZiti5JyB8fCB0ZXh0ID09PSAnUHJvamVjdHMnKSB0aXRsZS50ZXh0Q29udGVudCA9IHQoJ3Byb2plY3RzJyk7CiAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09PSAn2KfZhNmF2YbYp9i32YInIHx8IHRleHQgPT09ICdSZWdpb25zJykgdGl0bGUudGV4dENvbnRlbnQgPSB0KCdyZWdpb25zJyk7CiAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09PSAn2KfZhNij2YLYs9in2YUnIHx8IHRleHQgPT09ICdEZXBhcnRtZW50cycpIHRpdGxlLnRleHRDb250ZW50ID0gdCgnZGVwYXJ0bWVudHMnKTsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT09ICfYp9mE2KXYrNin2LLYp9iqJyB8fCB0ZXh0ID09PSAnTGVhdmVzJykgdGl0bGUudGV4dENvbnRlbnQgPSB0KCdsZWF2ZXMnKTsKICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRleHQgPT09ICfYp9mE2KrZgtin2LHZitixJyB8fCB0ZXh0ID09PSAnUmVwb3J0cycpIHRpdGxlLnRleHRDb250ZW50ID0gdCgncmVwb3J0cycpOwogICAgICAgICAgICAgICAgZWxzZSBpZiAodGV4dCA9PT0gJ9in2YTZhdiz2KrYrtiv2YXZitmGJyB8fCB0ZXh0ID09PSAnVXNlcnMnKSB0aXRsZS50ZXh0Q29udGVudCA9IHQoJ3VzZXJzJyk7CiAgICAgICAgICAgICAgICBlbHNlIGlmICh0ZXh0ID09PSAn2KfZhNil2LnYr9in2K/Yp9iqJyB8fCB0ZXh0ID09PSAnU2V0dGluZ3MnKSB0aXRsZS50ZXh0Q29udGVudCA9IHQoJ3NldHRpbmdzJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KrYrdiv2YrYqyDYudmG2KfZiNmK2YYg2KfZhNmG2YjYp9mB2LAgKE1vZGFscykKICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVGb3JtVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVGb3JtVGl0bGUnKTsKICAgICAgICAgICAgaWYgKGVtcGxveWVlRm9ybVRpdGxlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpc0VkaXQgPSBlZGl0aW5nRW1wbG95ZWVJZCAhPT0gbnVsbDsKICAgICAgICAgICAgICAgIGVtcGxveWVlRm9ybVRpdGxlLnRleHRDb250ZW50ID0gaXNFZGl0ID8gdCgnZWRpdEVtcGxveWVlJykgOiB0KCdhZGRFbXBsb3llZScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBwcm9qZWN0Rm9ybVRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RGb3JtVGl0bGUnKTsKICAgICAgICAgICAgaWYgKHByb2plY3RGb3JtVGl0bGUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGlzRWRpdCA9IGVkaXRpbmdQcm9qZWN0SWQgIT09IG51bGw7CiAgICAgICAgICAgICAgICBwcm9qZWN0Rm9ybVRpdGxlLnRleHRDb250ZW50ID0gaXNFZGl0ID8gdCgnZWRpdFByb2plY3QnKSA6IHQoJ2FkZFByb2plY3QnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgcmVnaW9uRm9ybVRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lvbkZvcm1UaXRsZScpOwogICAgICAgICAgICBpZiAocmVnaW9uRm9ybVRpdGxlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpc0VkaXQgPSBlZGl0aW5nUmVnaW9uSWQgIT09IG51bGw7CiAgICAgICAgICAgICAgICByZWdpb25Gb3JtVGl0bGUudGV4dENvbnRlbnQgPSBpc0VkaXQgPyB0KCdlZGl0UmVnaW9uJykgOiB0KCdhZGRSZWdpb24nKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgZGVwYXJ0bWVudEZvcm1UaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXBhcnRtZW50Rm9ybVRpdGxlJyk7CiAgICAgICAgICAgIGlmIChkZXBhcnRtZW50Rm9ybVRpdGxlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpc0VkaXQgPSBlZGl0aW5nRGVwYXJ0bWVudElkICE9PSBudWxsOwogICAgICAgICAgICAgICAgZGVwYXJ0bWVudEZvcm1UaXRsZS50ZXh0Q29udGVudCA9IGlzRWRpdCA/IHQoJ2VkaXREZXBhcnRtZW50JykgOiB0KCdhZGREZXBhcnRtZW50Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGxlYXZlRm9ybVRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRm9ybVRpdGxlJyk7CiAgICAgICAgICAgIGlmIChsZWF2ZUZvcm1UaXRsZSkgewogICAgICAgICAgICAgICAgY29uc3QgaXNFZGl0ID0gZWRpdGluZ0xlYXZlSWQgIT09IG51bGw7CiAgICAgICAgICAgICAgICBsZWF2ZUZvcm1UaXRsZS50ZXh0Q29udGVudCA9IGlzRWRpdCA/IHQoJ2VkaXRMZWF2ZScpIDogdCgnYWRkTGVhdmUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgdXNlckZvcm1UaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyRm9ybVRpdGxlJyk7CiAgICAgICAgICAgIGlmICh1c2VyRm9ybVRpdGxlKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpc0VkaXQgPSBlZGl0aW5nVXNlcklkICE9PSBudWxsOwogICAgICAgICAgICAgICAgdXNlckZvcm1UaXRsZS50ZXh0Q29udGVudCA9IGlzRWRpdCA/IHQoJ2VkaXRVc2VyJykgOiB0KCdhZGRVc2VyJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2KPYstix2KfYsSDYp9mE2YbZiNin2YHYsAogICAgICAgICAgICBjb25zdCBzdWJtaXRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkJD0iU3VibWl0QnRuIl0nKTsKICAgICAgICAgICAgc3VibWl0QnV0dG9ucy5mb3JFYWNoKGJ0biA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGJ0bi5pZDsKICAgICAgICAgICAgICAgIGlmIChpZC5pbmNsdWRlcygnZW1wbG95ZWUnKSkgewogICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGVkaXRpbmdFbXBsb3llZUlkID8gdCgnc2F2ZUNoYW5nZXMnKSA6IHQoJ2FkZEJ0bicpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZC5pbmNsdWRlcygncHJvamVjdCcpKSB7CiAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gZWRpdGluZ1Byb2plY3RJZCA/IHQoJ3NhdmVDaGFuZ2VzJykgOiB0KCdhZGRCdG4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQuaW5jbHVkZXMoJ3JlZ2lvbicpKSB7CiAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gZWRpdGluZ1JlZ2lvbklkID8gdCgnc2F2ZUNoYW5nZXMnKSA6IHQoJ2FkZEJ0bicpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZC5pbmNsdWRlcygnZGVwYXJ0bWVudCcpKSB7CiAgICAgICAgICAgICAgICAgICAgYnRuLnRleHRDb250ZW50ID0gZWRpdGluZ0RlcGFydG1lbnRJZCA/IHQoJ3NhdmVDaGFuZ2VzJykgOiB0KCdhZGRCdG4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQuaW5jbHVkZXMoJ2xlYXZlJykpIHsKICAgICAgICAgICAgICAgICAgICBidG4udGV4dENvbnRlbnQgPSBlZGl0aW5nTGVhdmVJZCA/IHQoJ3NhdmVDaGFuZ2VzJykgOiB0KCdhZGRCdG4nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQuaW5jbHVkZXMoJ3VzZXInKSkgewogICAgICAgICAgICAgICAgICAgIGJ0bi50ZXh0Q29udGVudCA9IGVkaXRpbmdVc2VySWQgPyB0KCdzYXZlQ2hhbmdlcycpIDogdCgnYWRkQnRuJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KrYrdiv2YrYqyDZhti12YjYtSDZgtiz2YUg2KfZhNmF2LPYqtiu2K/ZhdmK2YYg2KfZhNmF2YLZgdmECiAgICAgICAgICAgIGNvbnN0IHVzZXJzU2VjdGlvbkxvY2tlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2Vyc1NlY3Rpb25Mb2NrZWQgaDInKTsKICAgICAgICAgICAgaWYgKHVzZXJzU2VjdGlvbkxvY2tlZCkgewogICAgICAgICAgICAgICAgdXNlcnNTZWN0aW9uTG9ja2VkLnRleHRDb250ZW50ID0gdCgndXNlcnNTZWN0aW9uTG9ja2VkJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgdXNlcnNTZWN0aW9uTG9ja2VkRGVzYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2Vyc1NlY3Rpb25Mb2NrZWQgcCcpOwogICAgICAgICAgICBpZiAodXNlcnNTZWN0aW9uTG9ja2VkRGVzYyAmJiB1c2Vyc1NlY3Rpb25Mb2NrZWREZXNjLnRleHRDb250ZW50LmluY2x1ZGVzKCfZitis2Kgg2KXYr9iu2KfZhCcpKSB7CiAgICAgICAgICAgICAgICB1c2Vyc1NlY3Rpb25Mb2NrZWREZXNjLnRleHRDb250ZW50ID0gdCgndXNlcnNTZWN0aW9uTG9ja2VkRGVzYycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHVubG9ja0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1c2Vyc1NlY3Rpb25Mb2NrZWQgYnV0dG9uJyk7CiAgICAgICAgICAgIGlmICh1bmxvY2tCdG4gJiYgdW5sb2NrQnRuLnRleHRDb250ZW50LmluY2x1ZGVzKCfYpdiv2K7Yp9mEJykpIHsKICAgICAgICAgICAgICAgIHVubG9ja0J0bi5pbm5lckhUTUwgPSBg8J+UkyAke3QoJ3VubG9ja1NlY3Rpb24nKX1gOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGxvY2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXNlcnNTZWN0aW9uQ29udGVudCBidXR0b25bb25jbGljaz0ibG9ja1VzZXJzU2VjdGlvbigpIl0nKTsKICAgICAgICAgICAgaWYgKGxvY2tCdG4pIHsKICAgICAgICAgICAgICAgIGxvY2tCdG4uaW5uZXJIVE1MID0gYPCflJIgJHt0KCdsb2NrU2VjdGlvbicpfWA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2K3ZgtmI2YIg2KfZhNmG2LTYsQogICAgICAgICAgICBjb25zdCBjb3B5cmlnaHRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRyYW5zbGF0ZT0iY29weXJpZ2h0Il0nKTsKICAgICAgICAgICAgY29weXJpZ2h0RWxlbWVudHMuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHQoJ2NvcHlyaWdodCcpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc3QgY29weXJpZ2h0RW5FbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRyYW5zbGF0ZT0iY29weXJpZ2h0RW4iXScpOwogICAgICAgICAgICBjb3B5cmlnaHRFbkVsZW1lbnRzLmZvckVhY2goZWwgPT4gewogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRMYW5ndWFnZSA9PT0gJ2VuJykgewogICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2KzZhdmK2Lkg2KfZhNi52YbYp9i12LEg2KfZhNiq2Yog2KrYrdiq2YjZiiDYudmE2YkgZGF0YS10cmFuc2xhdGUKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdHJhbnNsYXRlXScpLmZvckVhY2goZWwgPT4gewogICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXRyYW5zbGF0ZScpOwogICAgICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uc1tjdXJyZW50TGFuZ3VhZ2VdICYmIHRyYW5zbGF0aW9uc1tjdXJyZW50TGFuZ3VhZ2VdW2tleV0pIHsKICAgICAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHQoa2V5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGxldCBlZGl0aW5nTGVhdmVJZCA9IG51bGw7CiAgICAgICAgbGV0IHByb2plY3RzRGF0YSA9IFtdOwogICAgICAgIGxldCBlZGl0aW5nRW1wbG95ZWVJZCA9IG51bGw7CiAgICAgICAgbGV0IHJlZ2lvbnNEYXRhID0gW107CiAgICAgICAgbGV0IGVkaXRpbmdSZWdpb25JZCA9IG51bGw7CiAgICAgICAgbGV0IGVkaXRpbmdQcm9qZWN0SWQgPSBudWxsOwogICAgICAgIGxldCBkZXBhcnRtZW50c0RhdGEgPSBbXTsKICAgICAgICBsZXQgZWRpdGluZ0RlcGFydG1lbnRJZCA9IG51bGw7CiAgICAgICAgbGV0IGVkaXRpbmdVc2VySWQgPSBudWxsOwogICAgICAgIC8vINiq2YUg2KXYstin2YTYqSBnZW5lcmFsTWFuYWdlbWVudFByb2plY3RJZCAtINin2YTYotmGINmG2LPYqtiu2K/ZhSBpc0dlbmVyYWxNYW5hZ2VtZW50INmB2Yog2KjZitin2YbYp9iqINin2YTZhdi02LHZiNi5CiAgICAgICAgCiAgICAgICAgLy8g2YXYqti62YrYsdin2Kog2KfZhNmF2YjYuNmBCiAgICAgICAgbGV0IGVtcGxveWVlUGhvdG9GaWxlID0gbnVsbDsKICAgICAgICBsZXQgZW1wbG95ZWVEb2N1bWVudHNUb1VwbG9hZCA9IFtdOwogICAgICAgIGxldCBlbXBsb3llZURvY3VtZW50c1RvRGVsZXRlID0gW107CiAgICAgICAgbGV0IGVtcGxveWVlQ29udGFjdHMgPSBbXTsKICAgICAgICBsZXQgZW1wbG95ZWVQcm9qZWN0c0hpc3RvcnkgPSBbXTsKICAgICAgICBsZXQgZW1wbG95ZWVQZW5hbHRpZXMgPSBbXTsKICAgICAgICBsZXQgZW1wbG95ZWVSZXdhcmRzID0gW107CiAgICAgICAgbGV0IGVtcGxveWVlRXZhbHVhdGlvbnMgPSBbXTsKICAgICAgICBsZXQgZWRpdGluZ0V2YWx1YXRpb25JZCA9IG51bGw7CgogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2K/ZiNin2YQg2KfZhNiq2YbZgtmEINio2YrZhiDYp9mE2KPZgtiz2KfZhQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc2hvd1NlY3Rpb24oc2VjdGlvbklkKSB7CiAgICAgICAgICAgIC8vINil2K7Zgdin2KEg2KzZhdmK2Lkg2KfZhNij2YLYs9in2YUKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKS5mb3JFYWNoKHNlY3Rpb24gPT4gewogICAgICAgICAgICAgICAgc2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdiy2KfZhNipIGFjdGl2ZSDZhdmGINis2YXZiti5INin2YTYo9iy2LHYp9ixCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXYtYnRuJykuZm9yRWFjaChidG4gPT4gewogICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqiDYudmG2K8g2YHYqtitINin2YTYo9mC2LPYp9mFCiAgICAgICAgICAgIGlmIChzZWN0aW9uSWQgPT09ICdzZXR0aW5ncycpIHsKICAgICAgICAgICAgICAgIGxvYWRBdWRpdExvZ3MoMTAwKS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5QXVkaXRMb2dzKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KXYuNmH2KfYsSDYp9mE2YLYs9mFINin2YTZhdit2K/YrwogICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VjdGlvbklkKTsKICAgICAgICAgICAgaWYgKHNlY3Rpb24pIHsKICAgICAgICAgICAgICAgIHNlY3Rpb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LbYp9mB2KkgYWN0aXZlINmE2YTYstixINin2YTZhdit2K/YrwogICAgICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnQudGFyZ2V0KSB7CiAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqiDYudmG2K8g2YHYqtitINin2YTZgtiz2YUKICAgICAgICAgICAgaWYgKHNlY3Rpb25JZCA9PT0gJ2Rhc2hib2FyZCcpIHsKICAgICAgICAgICAgICAgIGxvYWREYXNoYm9hcmRTdGF0cygpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHNlY3Rpb25JZCA9PT0gJ2VtcGxveWVlcycpIHsKICAgICAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNij2YLYs9in2YUg2KPZiNmE2KfZiyDZhNij2YYgZGlzcGxheUVtcGxveWVlcyDZitit2KrYp9is2YfYpwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRGVwYXJ0bWVudHMoKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNij2YLYs9in2YU6JywgZXJyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vINir2YUg2KrYrdmF2YrZhCDYp9mE2YXZiNi42YHZitmGCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRFbXBsb3llZXMoKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNmF2YjYuNmB2YrZhjonLCBlcnIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHNlY3Rpb25JZCA9PT0gJ3Byb2plY3RzJykgewogICAgICAgICAgICAgICAgbG9hZFByb2plY3RzKCk7CiAgICAgICAgICAgICAgICBsb2FkUmVnaW9ucygpOyAvLyDYqtit2YXZitmEINin2YTZhdmG2KfYt9mCINmE2LnYsdi22YfYpyDZgdmKINin2YTZhdi02KfYsdmK2LkKICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uSWQgPT09ICdyZWdpb25zJykgewogICAgICAgICAgICAgICAgbG9hZFJlZ2lvbnMoKTsKICAgICAgICAgICAgICAgIGxvYWRQcm9qZWN0cygpOyAvLyDYqtit2YXZitmEINin2YTZhdi02KfYsdmK2Lkg2YTYrdiz2KfYqCDYp9mE2LnYr9ivCiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VjdGlvbklkID09PSAnZGVwYXJ0bWVudHMnKSB7CiAgICAgICAgICAgICAgICBsb2FkRGVwYXJ0bWVudHMoKTsKICAgICAgICAgICAgICAgIGxvYWRQcm9qZWN0cygpOyAvLyDYqtit2YXZitmEINin2YTZhdi02KfYsdmK2Lkg2YTYudix2LbZh9inINmB2Yog2KfZhNmC2KfYptmF2KkKICAgICAgICAgICAgICAgIGxvYWRFbXBsb3llZXMoKTsgLy8g2KrYrdmF2YrZhCDYp9mE2YXZiNi42YHZitmGINmE2K3Ys9in2Kgg2KfZhNi52K/YrwogICAgICAgICAgICB9IGVsc2UgaWYgKHNlY3Rpb25JZCA9PT0gJ2xlYXZlcycpIHsKICAgICAgICAgICAgICAgIGxvYWRMZWF2ZXMoKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uSWQgPT09ICdyZXBvcnRzJykgewogICAgICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqINmE2YTYqtmC2KfYsdmK2LEgKNi62YrYsSDZhdiq2LLYp9mF2YYpCiAgICAgICAgICAgICAgICBsb2FkRW1wbG95ZWVzKCkuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNmF2YjYuNmB2YrZhjonLCBlcnIpKTsKICAgICAgICAgICAgICAgIGxvYWRMZWF2ZXMoKS5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDYp9mE2KXYrNin2LLYp9iqOicsIGVycikpOwogICAgICAgICAgICAgICAgbG9hZFByb2plY3RzKCkuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNmF2LTYp9ix2YrYuTonLCBlcnIpKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uSWQgPT09ICd1c2VycycpIHsKICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINmD2YTZhdipINin2YTZhdix2YjYsSDZgtio2YQg2YHYqtitINmC2LPZhSDYp9mE2YXYs9iq2K7Yr9mF2YrZhgogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cudXNlcnNTZWN0aW9uVW5sb2NrZWQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NrZWREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNTZWN0aW9uTG9ja2VkJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vyc1NlY3Rpb25Db250ZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2tlZERpdikgbG9ja2VkRGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50RGl2KSBjb250ZW50RGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyDZhNmGINmG2YPZhdmEINmB2KrYrSDYp9mE2YLYs9mFINit2KrZiSDZitiq2YUg2KXYr9iu2KfZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnN0IGxvY2tlZERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vyc1NlY3Rpb25Mb2NrZWQnKTsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNTZWN0aW9uQ29udGVudCcpOwogICAgICAgICAgICAgICAgaWYgKGxvY2tlZERpdikgbG9ja2VkRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBpZiAoY29udGVudERpdikgY29udGVudERpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGxvYWRVc2VycygpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHNlY3Rpb25JZCA9PT0gJ3NldHRpbmdzJykgewogICAgICAgICAgICAgICAgbG9hZERhdGFiYXNlU2V0dGluZ3MoKTsKICAgICAgICAgICAgICAgIGxvYWRDb21wYW55SW5mbygpOwogICAgICAgICAgICAgICAgbG9hZEF1ZGl0TG9ncygxMDApLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlBdWRpdExvZ3MoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vINmE2YjYrdipINin2YTYqtit2YPZhQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9hZERhc2hib2FyZFN0YXRzKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlINi62YrYsSDZhdmH2YrYoycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDYqtit2YXZitmEINin2YTZhdmI2LjZgdmK2YYKICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlc1JlZiA9IHdpbmRvdy5maXJlc3RvcmUuY29sbGVjdGlvbih3aW5kb3cuZGIsICdlbXBsb3llZXMnKTsKICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlc1NuYXBzaG90ID0gYXdhaXQgd2luZG93LmZpcmVzdG9yZS5nZXREb2NzKGVtcGxveWVlc1JlZik7CiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEVtcGxveWVlcyA9IGVtcGxveWVlc1NuYXBzaG90LnNpemU7CiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVFbXBsb3llZXMgPSBlbXBsb3llZXNTbmFwc2hvdC5kb2NzLmZpbHRlcihkb2MgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLnN0YXR1cyA9PT0gJ2FjdGl2ZSc7CiAgICAgICAgICAgICAgICB9KS5sZW5ndGg7CgogICAgICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDYp9mE2YXYtNin2LHZiti5CiAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0c1JlZiA9IHdpbmRvdy5maXJlc3RvcmUuY29sbGVjdGlvbih3aW5kb3cuZGIsICdwcm9qZWN0cycpOwogICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdHNTbmFwc2hvdCA9IGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuZ2V0RG9jcyhwcm9qZWN0c1JlZik7CiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFByb2plY3RzID0gcHJvamVjdHNTbmFwc2hvdC5zaXplOwogICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlUHJvamVjdHMgPSBwcm9qZWN0c1NuYXBzaG90LmRvY3MuZmlsdGVyKGRvYyA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuc3RhdHVzID09PSAnYWN0aXZlJzsKICAgICAgICAgICAgICAgIH0pLmxlbmd0aDsKCiAgICAgICAgICAgICAgICAvLyDYqtit2K/ZitirINin2YTYpdit2LXYp9im2YrYp9iqCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG90YWxFbXBsb3llZXMnKS50ZXh0Q29udGVudCA9IHRvdGFsRW1wbG95ZWVzOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdGl2ZUVtcGxveWVlcycpLnRleHRDb250ZW50ID0gYWN0aXZlRW1wbG95ZWVzOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsUHJvamVjdHMnKS50ZXh0Q29udGVudCA9IHRvdGFsUHJvamVjdHM7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN0aXZlUHJvamVjdHMnKS50ZXh0Q29udGVudCA9IGFjdGl2ZVByb2plY3RzOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDYpdit2LXYp9im2YrYp9iqINmE2YjYrdipINin2YTYqtit2YPZhTonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ3Blcm1pc3Npb24tZGVuaWVkJyB8fCBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygncGVybWlzc2lvbicpKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4pqg77iPINiu2LfYoyDZgdmKINin2YTYtdmE2KfYrdmK2KfYqjog2YrYsdis2Ykg2KrYt9io2YrZgiDZgtmI2KfYudivIEZpcmVzdG9yZSDZgdmKIEZpcmViYXNlIENvbnNvbGUnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICAvLyDYpdiv2KfYsdipINin2YTZhdmI2LjZgdmK2YYKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRFbXBsb3llZXMoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRib2R5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49IjEyIiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyBjb2xvcjogI2RjMzU0NTsiPuKaoO+4jyBGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMgLSDZitix2KzZiSDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2KXYudiv2KfYr9in2Ko8L3RkPjwvdHI+JzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vINil2LjZh9in2LEg2LHYs9in2YTYqSDYqtit2YXZitmECiAgICAgICAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZXNUYWJsZUJvZHknKTsKICAgICAgICAgICAgICAgIGlmICh0Ym9keSkgewogICAgICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49IjEyIiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyBjb2xvcjogIzY2N2VlYTsiPuKPsyDYrNin2LHZiiDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2KouLi48L3RkPjwvdHI+JzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBlbXBsb3llZXNSZWYgPSB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAnZW1wbG95ZWVzJyk7CiAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuZ2V0RG9jcyhlbXBsb3llZXNSZWYpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiiBbTE9BRC1FTVBMT1lFRVNdINi52K/YryDYp9mE2YXZiNi42YHZitmGINmF2YYgRmlyZXN0b3JlOicsIHNuYXBzaG90LnNpemUpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlbXBsb3llZXNEYXRhID0gW107CiAgICAgICAgICAgICAgICBsZXQgbG9hZGVkQ291bnQgPSAwOwogICAgICAgICAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIFtMT0FELUVNUExPWUVFU10g2KjZitin2YbYp9iqINmB2KfYsdi62Kkg2YTZhNmF2YjYuNmBICR7ZG9jLmlkfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZXNEYXRhLnB1c2goeyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYqtij2YPYryDZhdmGINmI2KzZiNivINin2YTYrdmC2YjZhCDYp9mE2KPYs9in2LPZitipCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUgfHwgJ9io2K/ZiNmGINin2LPZhScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZU51bWJlcjogZGF0YS5lbXBsb3llZU51bWJlciB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogZGF0YS5zdGF0dXMgfHwgJ2FjdGl2ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXJlRGF0ZTogZGF0YS5oaXJlRGF0ZSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBkYXRhLnBvc2l0aW9uIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGRhdGEuZW1haWwgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogZGF0YS5waG9uZSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGRhdGEuYWRkcmVzcyB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRJZDogZGF0YS5kZXBhcnRtZW50SWQgfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50RW1wbG95ZWVJZDogZGF0YS5yZXBsYWNlbWVudEVtcGxveWVlSWQgfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvVVJMOiBkYXRhLnBob3RvVVJMIHx8IG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZENvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBbTE9BRC1FTVBMT1lFRVNdINiu2LfYoyDZgdmKINmF2LnYp9mE2KzYqSDZhdmI2LjZgSAke2RvYy5pZH06YCwgZXJyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtMT0FELUVNUExPWUVFU10g2KrZhSDYqtit2YXZitmEJywgbG9hZGVkQ291bnQsICfZhdmGJywgc25hcHNob3Quc2l6ZSwgJ9mF2YjYuNmBINio2YbYrNin2K0nKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIFtMT0FELUVNUExPWUVFU10g2KjZitin2YbYp9iqINin2YTZhdmI2LjZgdmK2YY6JywgZW1wbG95ZWVzRGF0YS5tYXAoZSA9PiAoewogICAgICAgICAgICAgICAgICAgIGlkOiBlLmlkLAogICAgICAgICAgICAgICAgICAgIG5hbWU6IGUubmFtZSwKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZU51bWJlcjogZS5lbXBsb3llZU51bWJlciwKICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50SWQ6IGUuZGVwYXJ0bWVudElkCiAgICAgICAgICAgICAgICB9KSkpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYp9mE2KrYo9mD2K8g2YXZhiDYo9mGIGRlcGFydG1lbnRzRGF0YSDZhdit2YXZhNipINmC2KjZhCDYp9mE2LnYsdi2CiAgICAgICAgICAgICAgICBpZiAoIWRlcGFydG1lbnRzRGF0YSB8fCBkZXBhcnRtZW50c0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW0xPQUQtRU1QTE9ZRUVTXSBkZXBhcnRtZW50c0RhdGEg2LrZitixINmF2K3ZhdmE2KnYjCDYrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLicpOwogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGxvYWREZXBhcnRtZW50cygpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFtMT0FELUVNUExPWUVFU10g2KrZhSDYqtit2YXZitmEINin2YTYo9mC2LPYp9mFINio2YbYrNin2K0nKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChkZXB0RXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBbTE9BRC1FTVBMT1lFRVNdINiu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNij2YLYs9in2YU6JywgZGVwdEVycik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYudix2LYg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICAgICAgZGlzcGxheUVtcGxveWVlcygpOwogICAgICAgICAgICAgICAgdXBkYXRlRW1wbG95ZWVzQ291bnQoKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2KPZhiDYp9mE2KjZitin2YbYp9iqINi42YfYsdiqINmB2Yog2KfZhNis2K/ZiNmECiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZXNUYWJsZUJvZHknKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGJvZHkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93cyA9IHRib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFtMT0FELUVNUExPWUVFU10g2LnYr9ivINin2YTYtdmB2YjZgSDZgdmKINin2YTYrNiv2YjZhDonLCByb3dzLmxlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCA9PT0gMCB8fCAocm93cy5sZW5ndGggPT09IDEgJiYgcm93c1swXS50ZXh0Q29udGVudC5pbmNsdWRlcygn2YTYpyDYqtmI2KzYrycpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtMT0FELUVNUExPWUVFU10g2KfZhNio2YrYp9mG2KfYqiDZhNmFINiq2LjZh9ixINmB2Yog2KfZhNis2K/ZiNmEIScpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBbTE9BRC1FTVBMT1lFRVNdINiq2YUg2LnYsdi2Jywgcm93cy5sZW5ndGgsICfYtdmBINmB2Yog2KfZhNis2K/ZiNmEJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW0xPQUQtRU1QTE9ZRUVTXSDYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTZhdmI2LjZgdmK2YY6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgICAgICBpZiAodGJvZHkpIHsKICAgICAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSBgPHRyPjx0ZCBjb2xzcGFuPSIxMiIgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogNDBweDsgY29sb3I6ICNkYzM1NDU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxOHB4OyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+4p2MINiu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjNjY2OyI+JHtlcnJvci5tZXNzYWdlIHx8ICfYrti32KMg2LrZitixINmF2LnYsdmI2YEnfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImxvYWRFbXBsb3llZXMoKSIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgc3R5bGU9Im1hcmdpbi10b3A6IDE1cHg7IHBhZGRpbmc6IDhweCAxNnB4OyI+2KXYudin2K/YqSDYp9mE2YXYrdin2YjZhNipPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC90ZD48L3RyPmA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINiv2KfZhNipINiq2LHYqtmK2Kgg2LDZg9mK2Kkg2K3Ys9ioINix2YXYsiDYp9mE2YXZiNi42YEKICAgICAgICBmdW5jdGlvbiBzb3J0RW1wbG95ZWVzQnlOdW1iZXIoZW1wbG95ZWVzKSB7CiAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1TT1JUXSDYqNiv2KEg2KrYsdiq2YrYqCDYp9mE2YXZiNi42YHZitmGINit2LPYqCBlbXBsb3llZU51bWJlciwg2KfZhNi52K/YrzonLCBlbXBsb3llZXMubGVuZ3RoKTsKICAgICAgICAgICAgY29uc3QgYmVmb3JlU29ydCA9IGVtcGxveWVlcy5tYXAoZSA9PiBlLmVtcGxveWVlTnVtYmVyIHx8ICctJykuc2xpY2UoMCwgNSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1TT1JUXSDYo9mI2YQgNSDYo9ix2YLYp9mFINmC2KjZhCDYp9mE2KrYsdiq2YrYqDonLCBiZWZvcmVTb3J0KTsKICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3Qgc29ydGVkID0gWy4uLmVtcGxveWVlc10uc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgY29uc3QgbnVtQSA9IGEuZW1wbG95ZWVOdW1iZXIgfHwgJyc7CiAgICAgICAgICAgICAgICBjb25zdCBudW1CID0gYi5lbXBsb3llZU51bWJlciB8fCAnJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDZg9mE2KfZh9mF2Kcg2KPYsdmC2KfZhdiMINmC2KfYsdmGINmD2KPYsdmC2KfZhQogICAgICAgICAgICAgICAgY29uc3QgbnVtQUludCA9IHBhcnNlSW50KG51bUEpOwogICAgICAgICAgICAgICAgY29uc3QgbnVtQkludCA9IHBhcnNlSW50KG51bUIpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKG51bUFJbnQpICYmICFpc05hTihudW1CSW50KSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBudW1BSW50IC0gbnVtQkludDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDYo9it2K/Zh9mF2Kcg2LHZgtmFINmI2KfZhNii2K7YsSDZhti12Iwg2KfZhNij2LHZgtin2YUg2KPZiNmE2KfZiwogICAgICAgICAgICAgICAgaWYgKCFpc05hTihudW1BSW50KSAmJiBpc05hTihudW1CSW50KSkgcmV0dXJuIC0xOwogICAgICAgICAgICAgICAgaWYgKGlzTmFOKG51bUFJbnQpICYmICFpc05hTihudW1CSW50KSkgcmV0dXJuIDE7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2YPZhNin2YfZhdinINmG2LXZiNi12Iwg2YLYp9ix2YYg2YbYtdmK2KfZiwogICAgICAgICAgICAgICAgcmV0dXJuIG51bUEubG9jYWxlQ29tcGFyZShudW1CLCAnYXInLCB7IG51bWVyaWM6IHRydWUsIHNlbnNpdGl2aXR5OiAnYmFzZScgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgY29uc3QgYWZ0ZXJTb3J0ID0gc29ydGVkLm1hcChlID0+IGUuZW1wbG95ZWVOdW1iZXIgfHwgJy0nKS5zbGljZSgwLCA1KTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLVNPUlRdINij2YjZhCA1INij2LHZgtin2YUg2KjYudivINin2YTYqtix2KrZitioOicsIGFmdGVyU29ydCk7CiAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiBzb3J0ZWQ7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkaXNwbGF5RW1wbG95ZWVzKCkgewogICAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZXNUYWJsZUJvZHknKTsKICAgICAgICAgICAgaWYgKCF0Ym9keSkgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFtESVNQTEFZLUVNUExPWUVFU10g2LnZhti12LEgZW1wbG95ZWVzVGFibGVCb2R5INi62YrYsSDZhdmI2KzZiNivINmB2YogRE9NJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghZW1wbG95ZWVzRGF0YSB8fCBlbXBsb3llZXNEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gJzx0cj48dGQgY29sc3Bhbj0iMTIiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7IGNvbG9yOiAjNjY2OyI+2YTYpyDYqtmI2KzYryDYqNmK2KfZhtin2Kog2YXZiNi42YHZitmGPC90ZD48L3RyPic7CiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbRElTUExBWS1FTVBMT1lFRVNdINmE2Kcg2KrZiNis2K8g2KjZitin2YbYp9iqINmF2YjYuNmB2YrZhiDZhNmE2LnYsdi2Jyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1ESVNQTEFZXSDYudix2LYg2KfZhNmF2YjYuNmB2YrZhiwg2KfZhNi52K/YrzonLCBlbXBsb3llZXNEYXRhLmxlbmd0aCk7CiAgICAgICAgICAgIC8vICNlbmRyZWdpb24KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyDYqtix2KrZitioINin2YTZhdmI2LjZgdmK2YYg2K3Ys9ioINix2YXYsiDYp9mE2YXZiNi42YEKICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZEVtcGxveWVlcyA9IHNvcnRFbXBsb3llZXNCeU51bWJlcihlbXBsb3llZXNEYXRhKTsKCiAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9IHNvcnRlZEVtcGxveWVlcy5tYXAoZW1wID0+IHsKICAgICAgICAgICAgICAgIC8vINin2YTYqNit2Ksg2LnZhiDYp9mE2YXZiNi42YEg2KfZhNio2K/ZitmECiAgICAgICAgICAgICAgICBsZXQgcmVwbGFjZW1lbnRFbXBsb3llZU5hbWUgPSAnLSc7CiAgICAgICAgICAgICAgICBpZiAoZW1wLnJlcGxhY2VtZW50RW1wbG95ZWVJZCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50RW1wID0gZW1wbG95ZWVzRGF0YS5maW5kKGUgPT4gZS5pZCA9PT0gZW1wLnJlcGxhY2VtZW50RW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50RW1wKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50RW1wbG95ZWVOYW1lID0gcmVwbGFjZW1lbnRFbXAubmFtZSB8fCAnLSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYp9mE2KjYrdirINi52YYg2KfZhNmC2LPZhQogICAgICAgICAgICAgICAgbGV0IGRlcGFydG1lbnROYW1lID0gJy0nOwogICAgICAgICAgICAgICAgaWYgKGVtcC5kZXBhcnRtZW50SWQpIHsKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2KrYo9mD2K8g2YXZhiDYo9mGIGRlcGFydG1lbnRzRGF0YSDZhdit2YXZhNipCiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGFydG1lbnRzRGF0YSAmJiBkZXBhcnRtZW50c0RhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXBhcnRtZW50ID0gZGVwYXJ0bWVudHNEYXRhLmZpbmQoZCA9PiBkLmlkID09PSBlbXAuZGVwYXJ0bWVudElkKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGFydG1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnROYW1lID0gZGVwYXJ0bWVudC5uYW1lIHx8ICctJzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZhNmFINiq2YPZhiDYp9mE2KPZgtiz2KfZhSDZhdit2YXZhNip2Iwg2YbYrdin2YjZhCDYqtit2YXZitmE2YfYpwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbRElTUExBWS1FTVBMT1lFRVNdIGRlcGFydG1lbnRzRGF0YSDYutmK2LEg2YXYrdmF2YTYqdiMINis2KfYsdmKINin2YTYqtit2YXZitmELi4uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWREZXBhcnRtZW50cygpLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTYo9mC2LPYp9mFOicsIGVycikpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2LnYsdi2INin2YTYtdmI2LHYqQogICAgICAgICAgICAgICAgY29uc3QgcGhvdG9EaXNwbGF5ID0gZW1wLnBob3RvVVJMIAogICAgICAgICAgICAgICAgICAgID8gYDxpbWcgc3JjPSIke2VtcC5waG90b1VSTH0iIGFsdD0iJHtlbXAubmFtZSB8fCAn2LXZiNix2Kkg2KfZhNmF2YjYuNmBJ30iIHN0eWxlPSJ3aWR0aDogNTBweDsgaGVpZ2h0OiA1MHB4OyBib3JkZXItcmFkaXVzOiA1MCU7IG9iamVjdC1maXQ6IGNvdmVyOyBib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmOyBjdXJzb3I6IHBvaW50ZXI7IiBvbmNsaWNrPSJ2aWV3RW1wbG95ZWVQaG90bygnJHtlbXAucGhvdG9VUkx9JywgJyR7ZW1wLm5hbWUgfHwgJyd9JykiIHRpdGxlPSLYp9mG2YLYsSDZhNi52LHYtiDYp9mE2LXZiNix2KkiPmAKICAgICAgICAgICAgICAgICAgICA6IGA8ZGl2IHN0eWxlPSJ3aWR0aDogNTBweDsgaGVpZ2h0OiA1MHB4OyBib3JkZXItcmFkaXVzOiA1MCU7IGJhY2tncm91bmQ6ICNlOWVjZWY7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBjb2xvcjogIzk5OTsgZm9udC1zaXplOiAyMHB4OyIgdGl0bGU9ItmE2Kcg2KrZiNis2K8g2LXZiNix2KkiPvCfkaQ8L2Rpdj5gOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtmG2LPZitmCINin2YTYqtin2LHZitiuCiAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRIaXJlRGF0ZSA9IGVtcC5oaXJlRGF0ZSA/IGZvcm1hdERhdGUoZW1wLmhpcmVEYXRlKSA6ICctJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrZhtiz2YrZgiDYp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2YogKNil2LjZh9in2LEg2KzYstihINmF2YbZhyDYpdiw2Kcg2YPYp9mGINi32YjZitmE2KfZiykKICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsRGlzcGxheSA9IGVtcC5lbWFpbCAmJiBlbXAuZW1haWwubGVuZ3RoID4gMjUgCiAgICAgICAgICAgICAgICAgICAgPyBgPHNwYW4gdGl0bGU9IiR7ZW1wLmVtYWlsfSI+JHtlbXAuZW1haWwuc3Vic3RyaW5nKDAsIDIyKX0uLi48L3NwYW4+YAogICAgICAgICAgICAgICAgICAgIDogKGVtcC5lbWFpbCB8fCAnLScpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtmG2LPZitmCINin2YTYudmG2YjYp9mGICjYpdi42YfYp9ixINis2LLYoSDZhdmG2Ycg2KXYsNinINmD2KfZhiDYt9mI2YrZhNin2YspCiAgICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzRGlzcGxheSA9IGVtcC5hZGRyZXNzICYmIGVtcC5hZGRyZXNzLmxlbmd0aCA+IDMwCiAgICAgICAgICAgICAgICAgICAgPyBgPHNwYW4gdGl0bGU9IiR7ZW1wLmFkZHJlc3N9Ij4ke2VtcC5hZGRyZXNzLnN1YnN0cmluZygwLCAyNyl9Li4uPC9zcGFuPmAKICAgICAgICAgICAgICAgICAgICA6IChlbXAuYWRkcmVzcyB8fCAnLScpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXR1cm4gYAogICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAxMHB4OyI+JHtwaG90b0Rpc3BsYXl9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQ+PHN0cm9uZyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7Ij4ke2VtcC5lbXBsb3llZU51bWJlciB8fCAnLSd9PC9zdHJvbmc+PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImZvbnQtd2VpZ2h0OiA1MDA7Ij4ke2VtcC5uYW1lIHx8ICctJ308L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZD4ke2VtcC5wb3NpdGlvbiB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gc3R5bGU9ImNvbG9yOiAjZmY5ODAwOyBmb250LXdlaWdodDogNjAwOyI+JHtkZXBhcnRtZW50TmFtZX08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImZvbnQtc2l6ZTogMTNweDsiPiR7ZW1haWxEaXNwbGF5fTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZW1wLnBob25lIHx8ICctJ308L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iZm9udC1zaXplOiAxM3B4OyBtYXgtd2lkdGg6IDIwMHB4OyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHRpdGxlPSIke2VtcC5hZGRyZXNzIHx8ICcnfSI+JHthZGRyZXNzRGlzcGxheX08L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0id2hpdGUtc3BhY2U6IG5vd3JhcDsiPiR7Zm9ybWF0dGVkSGlyZURhdGV9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9ImJhZGdlICR7Z2V0U3RhdHVzQmFkZ2UoZW1wLnN0YXR1cyl9Ij4ke2dldEVtcGxveWVlU3RhdHVzTmFtZShlbXAuc3RhdHVzKX08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQ+JHtyZXBsYWNlbWVudEVtcGxveWVlTmFtZX08L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYWN0aW9uLWJ1dHRvbnMiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogbm93cmFwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4taW5mbyIgb25jbGljaz0idmlld0VtcGxveWVlUHJvamVjdHMoJyR7ZW1wLmlkfScpIiBzdHlsZT0ibWFyZ2luLWxlZnQ6IDVweDsgcGFkZGluZzogNnB4IDEwcHg7IGZvbnQtc2l6ZTogMTJweDsiIHRpdGxlPSLYs9is2YQg2KfZhNmF2LTYp9ix2YrYuSI+8J+TgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSIgb25jbGljaz0idmlld0VtcGxveWVlRG9jdW1lbnRzKCcke2VtcC5pZH0nKSIgc3R5bGU9Im1hcmdpbi1sZWZ0OiA1cHg7IHBhZGRpbmc6IDZweCAxMHB4OyBmb250LXNpemU6IDEycHg7IiB0aXRsZT0i2KfZhNmF2YTZgdin2Kog2KfZhNmF2LHZgdmC2KkiPvCfk448L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi13YXJuaW5nIiBvbmNsaWNrPSJ2aWV3RW1wbG95ZWVFdmFsdWF0aW9ucygnJHtlbXAuaWR9JykiIHN0eWxlPSJtYXJnaW4tbGVmdDogNXB4OyBwYWRkaW5nOiA2cHggMTBweDsgZm9udC1zaXplOiAxMnB4OyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZmY5ODAwIDAlLCAjZjU3YzAwIDEwMCUpOyIgdGl0bGU9Itin2YTYqtmC2YrZitmFINin2YTYs9mG2YjZiiAo2YXYrdmF2YopIj7irZA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJlZGl0RW1wbG95ZWUoJyR7ZW1wLmlkfScpIiBzdHlsZT0icGFkZGluZzogNnB4IDEycHg7IGZvbnQtc2l6ZTogMTJweDsiPtiq2LnYr9mK2YQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRlbGV0ZUVtcGxveWVlKCcke2VtcC5pZH0nKSIgc3R5bGU9InBhZGRpbmc6IDZweCAxMnB4OyBmb250LXNpemU6IDEycHg7Ij7Yrdiw2YE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgfSkuam9pbignJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgW0RJU1BMQVktRU1QTE9ZRUVTXSDYqtmFINil2YbYtNin2KEgSFRNTCDZhNmE2KzYr9mI2YQg2KjZhtis2KfYrSAtINi52K/YryDYp9mE2LXZgdmI2YE6Jywgc29ydGVkRW1wbG95ZWVzLmxlbmd0aCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgW0RJU1BMQVktRU1QTE9ZRUVTXSDYrti32KMg2YHZiiDYudix2LYg2KfZhNmF2YjYuNmB2YrZhjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSBgPHRyPjx0ZCBjb2xzcGFuPSIxMiIgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogNDBweDsgY29sb3I6ICNkYzM1NDU7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDE4cHg7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij7inYwg2K7Yt9ijINmB2Yog2LnYsdi2INin2YTYqNmK2KfZhtin2Ko8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjNjY2OyI+JHtlcnJvci5tZXNzYWdlIHx8ICfYrti32KMg2LrZitixINmF2LnYsdmI2YEnfTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0ibG9hZEVtcGxveWVlcygpIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0ibWFyZ2luLXRvcDogMTVweDsgcGFkZGluZzogOHB4IDE2cHg7Ij7Ypdi52KfYr9ipINin2YTZhdit2KfZiNmE2Kk8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvdGQ+PC90cj5gOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBmaWx0ZXJFbXBsb3llZXMoKSB7CiAgICAgICAgICAgIGNvbnN0IHNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZVNlYXJjaCcpLnZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIGNvbnN0IHN0YXR1c0ZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZVN0YXR1c0ZpbHRlcicpLnZhbHVlOwoKICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBlbXBsb3llZXNEYXRhLmZpbHRlcihlbXAgPT4gewogICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hTZWFyY2ggPSAhc2VhcmNoIHx8IAogICAgICAgICAgICAgICAgICAgIChlbXAubmFtZSAmJiBlbXAubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkpIHx8CiAgICAgICAgICAgICAgICAgICAgKGVtcC5lbXBsb3llZU51bWJlciAmJiBlbXAuZW1wbG95ZWVOdW1iZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpKSB8fAogICAgICAgICAgICAgICAgICAgIChlbXAuZW1haWwgJiYgZW1wLmVtYWlsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoU3RhdHVzID0gIXN0YXR1c0ZpbHRlciB8fCBlbXAuc3RhdHVzID09PSBzdGF0dXNGaWx0ZXI7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaFNlYXJjaCAmJiBtYXRjaFN0YXR1czsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctRklMVEVSXSDYqti12YHZitipINin2YTZhdmI2LjZgdmK2YYsINi52K/YryDYp9mE2YbYqtin2KbYrDonLCBmaWx0ZXJlZC5sZW5ndGgpOwogICAgICAgICAgICAvLyAjZW5kcmVnaW9uCgogICAgICAgICAgICAvLyDYqtix2KrZitioINin2YTZhtiq2KfYptisINin2YTZhdi12YHYp9ipINit2LPYqCDYsdmF2LIg2KfZhNmF2YjYuNmBCiAgICAgICAgICAgIGNvbnN0IHNvcnRlZEZpbHRlcmVkID0gc29ydEVtcGxveWVlc0J5TnVtYmVyKGZpbHRlcmVkKTsKCiAgICAgICAgICAgIC8vINi52LHYtiDYp9mE2YbYqtin2KbYrCDZhdi5INin2YTZgtiz2YUKICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgIGlmIChzb3J0ZWRGaWx0ZXJlZC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49IjEyIiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyI+2YTYpyDYqtmI2KzYryDZhtiq2KfYptisPC90ZD48L3RyPic7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSBzb3J0ZWRGaWx0ZXJlZC5tYXAoZW1wID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2KjYrdirINi52YYg2KfZhNmF2YjYuNmBINin2YTYqNiv2YrZhAogICAgICAgICAgICAgICAgICAgIGxldCByZXBsYWNlbWVudEVtcGxveWVlTmFtZSA9ICctJzsKICAgICAgICAgICAgICAgICAgICBpZiAoZW1wLnJlcGxhY2VtZW50RW1wbG95ZWVJZCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXBsYWNlbWVudEVtcCA9IGVtcGxveWVlc0RhdGEuZmluZChlID0+IGUuaWQgPT09IGVtcC5yZXBsYWNlbWVudEVtcGxveWVlSWQpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVwbGFjZW1lbnRFbXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50RW1wbG95ZWVOYW1lID0gcmVwbGFjZW1lbnRFbXAubmFtZSB8fCAnLSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNio2K3YqyDYudmGINin2YTZgtiz2YUKICAgICAgICAgICAgICAgICAgICBsZXQgZGVwYXJ0bWVudE5hbWUgPSAnLSc7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVtcC5kZXBhcnRtZW50SWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwYXJ0bWVudCA9IGRlcGFydG1lbnRzRGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gZW1wLmRlcGFydG1lbnRJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXBhcnRtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50TmFtZSA9IGRlcGFydG1lbnQubmFtZSB8fCAnLSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2LnYsdi2INin2YTYtdmI2LHYqQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBob3RvRGlzcGxheSA9IGVtcC5waG90b1VSTCAKICAgICAgICAgICAgICAgICAgICAgICAgPyBgPGltZyBzcmM9IiR7ZW1wLnBob3RvVVJMfSIgYWx0PSIke2VtcC5uYW1lIHx8ICfYtdmI2LHYqSDYp9mE2YXZiNi42YEnfSIgc3R5bGU9IndpZHRoOiA1MHB4OyBoZWlnaHQ6IDUwcHg7IGJvcmRlci1yYWRpdXM6IDUwJTsgb2JqZWN0LWZpdDogY292ZXI7IGJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7IGN1cnNvcjogcG9pbnRlcjsiIG9uY2xpY2s9InZpZXdFbXBsb3llZVBob3RvKCcke2VtcC5waG90b1VSTH0nLCAnJHtlbXAubmFtZSB8fCAnJ30nKSIgdGl0bGU9Itin2YbZgtixINmE2LnYsdi2INin2YTYtdmI2LHYqSI+YAogICAgICAgICAgICAgICAgICAgICAgICA6IGA8ZGl2IHN0eWxlPSJ3aWR0aDogNTBweDsgaGVpZ2h0OiA1MHB4OyBib3JkZXItcmFkaXVzOiA1MCU7IGJhY2tncm91bmQ6ICNlOWVjZWY7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBjb2xvcjogIzk5OTsgZm9udC1zaXplOiAyMHB4OyIgdGl0bGU9ItmE2Kcg2KrZiNis2K8g2LXZiNix2KkiPvCfkaQ8L2Rpdj5gOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINiq2YbYs9mK2YIg2KfZhNiq2KfYsdmK2K4KICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRIaXJlRGF0ZSA9IGVtcC5oaXJlRGF0ZSA/IGZvcm1hdERhdGUoZW1wLmhpcmVEYXRlKSA6ICctJzsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDYqtmG2LPZitmCINin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZiiAo2KXYuNmH2KfYsSDYrNiy2KEg2YXZhtmHINil2LDYpyDZg9in2YYg2LfZiNmK2YTYp9mLKQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsRGlzcGxheSA9IGVtcC5lbWFpbCAmJiBlbXAuZW1haWwubGVuZ3RoID4gMjUgCiAgICAgICAgICAgICAgICAgICAgICAgID8gYDxzcGFuIHRpdGxlPSIke2VtcC5lbWFpbH0iPiR7ZW1wLmVtYWlsLnN1YnN0cmluZygwLCAyMil9Li4uPC9zcGFuPmAKICAgICAgICAgICAgICAgICAgICAgICAgOiAoZW1wLmVtYWlsIHx8ICctJyk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KrZhtiz2YrZgiDYp9mE2LnZhtmI2KfZhiAo2KXYuNmH2KfYsSDYrNiy2KEg2YXZhtmHINil2LDYpyDZg9in2YYg2LfZiNmK2YTYp9mLKQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NEaXNwbGF5ID0gZW1wLmFkZHJlc3MgJiYgZW1wLmFkZHJlc3MubGVuZ3RoID4gMzAKICAgICAgICAgICAgICAgICAgICAgICAgPyBgPHNwYW4gdGl0bGU9IiR7ZW1wLmFkZHJlc3N9Ij4ke2VtcC5hZGRyZXNzLnN1YnN0cmluZygwLCAyNyl9Li4uPC9zcGFuPmAKICAgICAgICAgICAgICAgICAgICAgICAgOiAoZW1wLmFkZHJlc3MgfHwgJy0nKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYAogICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogMTBweDsiPiR7cGhvdG9EaXNwbGF5fTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHN0cm9uZyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7Ij4ke2VtcC5lbXBsb3llZU51bWJlciB8fCAnLSd9PC9zdHJvbmc+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iZm9udC13ZWlnaHQ6IDUwMDsiPiR7ZW1wLm5hbWUgfHwgJy0nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtlbXAucG9zaXRpb24gfHwgJy0nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gc3R5bGU9ImNvbG9yOiAjZmY5ODAwOyBmb250LXdlaWdodDogNjAwOyI+JHtkZXBhcnRtZW50TmFtZX08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iZm9udC1zaXplOiAxM3B4OyI+JHtlbWFpbERpc3BsYXl9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2VtcC5waG9uZSB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iZm9udC1zaXplOiAxM3B4OyBtYXgtd2lkdGg6IDIwMHB4OyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgd2hpdGUtc3BhY2U6IG5vd3JhcDsiIHRpdGxlPSIke2VtcC5hZGRyZXNzIHx8ICcnfSI+JHthZGRyZXNzRGlzcGxheX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJ3aGl0ZS1zcGFjZTogbm93cmFwOyI+JHtmb3JtYXR0ZWRIaXJlRGF0ZX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJiYWRnZSAke2dldFN0YXR1c0JhZGdlKGVtcC5zdGF0dXMpfSI+JHtnZXRFbXBsb3llZVN0YXR1c05hbWUoZW1wLnN0YXR1cyl9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtyZXBsYWNlbWVudEVtcGxveWVlTmFtZX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJhY3Rpb24tYnV0dG9ucyIgc3R5bGU9IndoaXRlLXNwYWNlOiBub3dyYXA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWluZm8iIG9uY2xpY2s9InZpZXdFbXBsb3llZVByb2plY3RzKCcke2VtcC5pZH0nKSIgc3R5bGU9Im1hcmdpbi1sZWZ0OiA1cHg7IHBhZGRpbmc6IDZweCAxMHB4OyBmb250LXNpemU6IDEycHg7IiB0aXRsZT0i2LPYrNmEINin2YTZhdi02KfYsdmK2LkiPvCfk4E8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSIgb25jbGljaz0idmlld0VtcGxveWVlRG9jdW1lbnRzKCcke2VtcC5pZH0nKSIgc3R5bGU9Im1hcmdpbi1sZWZ0OiA1cHg7IHBhZGRpbmc6IDZweCAxMHB4OyBmb250LXNpemU6IDEycHg7IiB0aXRsZT0i2KfZhNmF2YTZgdin2Kog2KfZhNmF2LHZgdmC2KkiPvCfk448L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXdhcm5pbmciIG9uY2xpY2s9InZpZXdFbXBsb3llZUV2YWx1YXRpb25zKCcke2VtcC5pZH0nKSIgc3R5bGU9Im1hcmdpbi1sZWZ0OiA1cHg7IHBhZGRpbmc6IDZweCAxMHB4OyBmb250LXNpemU6IDEycHg7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmZjk4MDAgMCUsICNmNTdjMDAgMTAwJSk7IiB0aXRsZT0i2KfZhNiq2YLZitmK2YUg2KfZhNiz2YbZiNmKICjZhdit2YXZiikiPuKtkDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZWRpdEVtcGxveWVlKCcke2VtcC5pZH0nKSIgc3R5bGU9InBhZGRpbmc6IDZweCAxMnB4OyBmb250LXNpemU6IDEycHg7Ij7Yqti52K/ZitmEPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRlbGV0ZUVtcGxveWVlKCcke2VtcC5pZH0nKSIgc3R5bGU9InBhZGRpbmc6IDZweCAxMnB4OyBmb250LXNpemU6IDEycHg7Ij7Yrdiw2YE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB1cGRhdGVFbXBsb3llZXNDb3VudCgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY2xlYXJFbXBsb3llZUZpbHRlcnMoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZVNlYXJjaCcpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZVN0YXR1c0ZpbHRlcicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRpc3BsYXlFbXBsb3llZXMoKTsKICAgICAgICAgICAgdXBkYXRlRW1wbG95ZWVzQ291bnQoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUVtcGxveWVlc0NvdW50KCkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVzQ291bnQnKS50ZXh0Q29udGVudCA9IGDYpdis2YXYp9mE2Yog2KfZhNmF2YjYuNmB2YrZhjogJHtlbXBsb3llZXNEYXRhLmxlbmd0aH1gOwogICAgICAgIH0KCiAgICAgICAgLy8g2KrZiNmE2YrYryDYsdmF2LIg2KfZhNmF2YjYuNmBINiq2YTZgtin2KbZitin2YsKICAgICAgICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUVtcGxveWVlQ29kZSgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdFTVAtMDAxJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBlbXBsb3llZXNSZWYgPSB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAnZW1wbG95ZWVzJyk7CiAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuZ2V0RG9jcyhlbXBsb3llZXNSZWYpOwogICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBzbmFwc2hvdC5zaXplOwogICAgICAgICAgICAgICAgY29uc3QgY29kZU51bWJlciA9IFN0cmluZyhjb3VudCArIDEpLnBhZFN0YXJ0KDMsICcwJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gYEVNUC0ke2NvZGVOdW1iZXJ9YDsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2LHZhdiyINin2YTZhdmI2LjZgTonLCBlcnJvcik7CiAgICAgICAgICAgICAgICByZXR1cm4gJ0VNUC0wMDEnOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYqtmI2YTZitivINix2YLZhSDZhdmI2LjZgSDYqtmE2YLYp9im2YrYp9mLICjZhNmE2KfYs9iq2K7Yr9in2YUg2YHZiiDYp9mE2KXYttin2YHYqSDYp9mE2YXYqti52K/Yr9ipKQogICAgICAgIGxldCBidWxrRW1wbG95ZWVOdW1iZXJDb3VudGVyID0gMDsKICAgICAgICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZU5leHRFbXBsb3llZU51bWJlcigpIHsKICAgICAgICAgICAgaWYgKGJ1bGtFbXBsb3llZU51bWJlckNvdW50ZXIgPT09IDApIHsKICAgICAgICAgICAgICAgIC8vINin2YTYrdi12YjZhCDYudmE2Ykg2KLYrtixINix2YLZhSDZhdmI2LjZgQogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmRiICYmIHdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVzUmVmID0gd2luZG93LmZpcmVzdG9yZS5jb2xsZWN0aW9uKHdpbmRvdy5kYiwgJ2VtcGxveWVlcycpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuZ2V0RG9jcyhlbXBsb3llZXNSZWYpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IHNuYXBzaG90LnNpemU7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ1bGtFbXBsb3llZU51bWJlckNvdW50ZXIgPSBjb3VudDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINin2YTYrdi12YjZhCDYudmE2Ykg2LnYr9ivINin2YTZhdmI2LjZgdmK2YY6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGJ1bGtFbXBsb3llZU51bWJlckNvdW50ZXIrKzsKICAgICAgICAgICAgY29uc3QgY29kZU51bWJlciA9IFN0cmluZyhidWxrRW1wbG95ZWVOdW1iZXJDb3VudGVyKS5wYWRTdGFydCgzLCAnMCcpOwogICAgICAgICAgICByZXR1cm4gYEVNUC0ke2NvZGVOdW1iZXJ9YDsKICAgICAgICB9CgogICAgICAgIC8vINi52LHYtiDZhtin2YHYsNipINil2LbYp9mB2Kkg2YXZiNi42YEKICAgICAgICBhc3luYyBmdW5jdGlvbiBzaG93QWRkRW1wbG95ZWVGb3JtKCkgewogICAgICAgICAgICBlZGl0aW5nRW1wbG95ZWVJZCA9IG51bGw7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlTW9kYWwnKTsKICAgICAgICAgICAgaWYgKCFtb2RhbCkgcmV0dXJuOwoKICAgICAgICAgICAgLy8g2KrYt9io2YrZgiDYp9mE2KrYsdis2YXYp9iqINmC2KjZhCDZgdiq2K0g2KfZhNmG2KfZgdiw2KkKICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbnMoKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlU3VibWl0QnRuJykuc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgJ2FkZEVtcGxveWVlKCknKTsKCiAgICAgICAgICAgIC8vINiq2YjZhNmK2K8g2LHZhdiyINin2YTZhdmI2LjZgQogICAgICAgICAgICBjb25zdCBlbXBDb2RlID0gYXdhaXQgZ2VuZXJhdGVFbXBsb3llZUNvZGUoKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcE51bWJlckRpc3BsYXknKS50ZXh0Q29udGVudCA9IGVtcENvZGU7CgogICAgICAgICAgICAvLyDZhdiz2K0g2KfZhNit2YLZiNmECiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBOYW1lJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcE5hbWVFbicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBFbWFpbCcpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBQaG9uZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBBZGRyZXNzJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcFdvcmtMb2NhdGlvbicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBQb3NpdGlvbicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIC8vINiq2LnZitmK2YYg2KrYp9ix2YrYriDYp9mE2YrZiNmFINin2YTYrdin2YTZiiDZg9mC2YrZhdipINin2YHYqtix2KfYttmK2Kkg2YTYqtin2LHZitiuINin2YTYpdiv2LHYp9isINmB2Yog2KfZhNmG2LjYp9mFCiAgICAgICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07IC8vINiq2KfYsdmK2K4g2KfZhNmK2YjZhSDYqNi12YrYutipIFlZWVktTU0tREQKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEhpcmVEYXRlJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcFN5c3RlbUVudHJ5RGF0ZScpLnZhbHVlID0gdG9kYXk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBFZHVjYXRpb24nKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wU3BlY2lhbGl6YXRpb24nKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wU3RhdHVzJykudmFsdWUgPSAnYWN0aXZlJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcFNhbGFyeUNvZGUnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wUmVwbGFjZW1lbnQnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wTW9udGhseUxlYXZlRGF5cycpLnZhbHVlID0gJzIuNSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBIb3VybHlMZWF2ZUhvdXJzJykudmFsdWUgPSAnOCc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBJbml0aWFsTGVhdmVCYWxhbmNlJykudmFsdWUgPSAnMCc7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDZhdiz2K0g2K3ZgtmI2YQg2KfZhNix2KfYqtioCiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxTYWxhcnlGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBJbml0aWFsU2FsYXJ5Jyk7CiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTYWxhcnlGaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBDdXJyZW50U2FsYXJ5Jyk7CiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxTYWxhcnlDdXJyZW5jeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBJbml0aWFsU2FsYXJ5Q3VycmVuY3knKTsKICAgICAgICAgICAgY29uc3QgY3VycmVudFNhbGFyeUN1cnJlbmN5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEN1cnJlbnRTYWxhcnlDdXJyZW5jeScpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGluaXRpYWxTYWxhcnlGaWVsZCkgewogICAgICAgICAgICAgICAgaW5pdGlhbFNhbGFyeUZpZWxkLnR5cGUgPSAncGFzc3dvcmQnOwogICAgICAgICAgICAgICAgaW5pdGlhbFNhbGFyeUZpZWxkLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICBpbml0aWFsU2FsYXJ5RmllbGQucmVhZE9ubHkgPSB0cnVlOwogICAgICAgICAgICAgICAgaW5pdGlhbFNhbGFyeUZpZWxkLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1zYWxhcnktdmFsdWUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY3VycmVudFNhbGFyeUZpZWxkKSB7CiAgICAgICAgICAgICAgICBjdXJyZW50U2FsYXJ5RmllbGQudHlwZSA9ICdwYXNzd29yZCc7CiAgICAgICAgICAgICAgICBjdXJyZW50U2FsYXJ5RmllbGQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIGN1cnJlbnRTYWxhcnlGaWVsZC5yZWFkT25seSA9IHRydWU7CiAgICAgICAgICAgICAgICBjdXJyZW50U2FsYXJ5RmllbGQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXNhbGFyeS12YWx1ZScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpbml0aWFsU2FsYXJ5Q3VycmVuY3kpIHsKICAgICAgICAgICAgICAgIGluaXRpYWxTYWxhcnlDdXJyZW5jeS52YWx1ZSA9ICdJUUQnOwogICAgICAgICAgICAgICAgaW5pdGlhbFNhbGFyeUN1cnJlbmN5LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY3VycmVudFNhbGFyeUN1cnJlbmN5KSB7CiAgICAgICAgICAgICAgICBjdXJyZW50U2FsYXJ5Q3VycmVuY3kudmFsdWUgPSAnSVFEJzsKICAgICAgICAgICAgICAgIGN1cnJlbnRTYWxhcnlDdXJyZW5jeS5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2YLYp9im2YXYqSDYp9mE2YXZiNi42YHZitmGINin2YTYqNiv2YrZhNmK2YYKICAgICAgICAgICAgdXBkYXRlUmVwbGFjZW1lbnRTZWxlY3QoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2YLYp9im2YXYqSDYp9mE2KPZgtiz2KfZhQogICAgICAgICAgICB1cGRhdGVEZXBhcnRtZW50U2VsZWN0KCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqtit2K/ZitirINmC2KfYptmF2Kkg2KfZhNmF2YbYp9i32YIgKNmF2YPYp9mGINin2YTYudmF2YQpCiAgICAgICAgICAgIHVwZGF0ZVdvcmtMb2NhdGlvblNlbGVjdCgpOwoKICAgICAgICAgICAgLy8g2YXYs9itINin2YTYtdmI2LHYqSDZiNin2YTZhdiz2KrZhtiv2KfYqgogICAgICAgICAgICByZW1vdmVFbXBsb3llZVBob3RvKCk7CiAgICAgICAgICAgIGVtcGxveWVlRG9jdW1lbnRzVG9VcGxvYWQgPSBbXTsKICAgICAgICAgICAgZW1wbG95ZWVEb2N1bWVudHNUb0RlbGV0ZSA9IFtdOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVEb2N1bWVudHNMaXN0JykuaW5uZXJIVE1MID0gJyc7CgogICAgICAgICAgICAvLyDZhdiz2K0g2KfZhNiz2KzZhNin2KoKICAgICAgICAgICAgZW1wbG95ZWVDb250YWN0cyA9IFtdOwogICAgICAgICAgICBlbXBsb3llZVByb2plY3RzSGlzdG9yeSA9IFtdOwogICAgICAgICAgICBlbXBsb3llZVBlbmFsdGllcyA9IFtdOwogICAgICAgICAgICBlbXBsb3llZVJld2FyZHMgPSBbXTsKICAgICAgICAgICAgZW1wbG95ZWVFdmFsdWF0aW9ucyA9IFtdOwogICAgICAgICAgICBlZGl0aW5nRXZhbHVhdGlvbklkID0gbnVsbDsKICAgICAgICAgICAgd2luZG93LmV2YWx1YXRpb25WaWV3VW5sb2NrZWQgPSBmYWxzZTsgLy8g2KXYudin2K/YqSDZgtmB2YQg2KfZhNiq2YLZitmK2YXYp9iqCiAgICAgICAgICAgIGRpc3BsYXlDb250YWN0cygpOwogICAgICAgICAgICBkaXNwbGF5UHJvamVjdHNIaXN0b3J5KCk7CiAgICAgICAgICAgIGRpc3BsYXlQZW5hbHRpZXMoKTsKICAgICAgICAgICAgZGlzcGxheVJld2FyZHMoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LnYp9iv2Kkg2KrYudmK2YrZhiDYrdin2YTYqSDYp9mE2KrZgtmK2YrZhdin2KoKICAgICAgICAgICAgY29uc3QgZXZhbHVhdGlvbnNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25zTGlzdCcpOwogICAgICAgICAgICBjb25zdCBsb2NrZWRNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25zTG9ja2VkTWVzc2FnZScpOwogICAgICAgICAgICBjb25zdCBhZGRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkRXZhbHVhdGlvbkJ0bicpOwogICAgICAgICAgICBjb25zdCBsb2NrSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uTG9ja0ljb24nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChldmFsdWF0aW9uc0xpc3QpIGV2YWx1YXRpb25zTGlzdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBpZiAobG9ja2VkTWVzc2FnZSkgbG9ja2VkTWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgaWYgKGFkZEJ0bikgYWRkQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIGlmIChsb2NrSWNvbikgewogICAgICAgICAgICAgICAgbG9ja0ljb24udGV4dENvbnRlbnQgPSAn8J+Ukic7CiAgICAgICAgICAgICAgICBsb2NrSWNvbi50aXRsZSA9ICfYp9mG2YLYsSDZhNil2LjZh9in2LEg2KfZhNiq2YLZitmK2YXYp9iqJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgfQoKICAgICAgICAvLyDYpdiu2YHYp9ihINmG2KfZgdiw2Kkg2KXYttin2YHYqSDZhdmI2LjZgQogICAgICAgIGZ1bmN0aW9uIGhpZGVBZGRFbXBsb3llZUZvcm0oKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlTW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlZGl0aW5nRW1wbG95ZWVJZCA9IG51bGw7CiAgICAgICAgICAgIGVtcGxveWVlUGhvdG9GaWxlID0gbnVsbDsKICAgICAgICAgICAgZW1wbG95ZWVEb2N1bWVudHNUb1VwbG9hZCA9IFtdOwogICAgICAgICAgICBlbXBsb3llZURvY3VtZW50c1RvRGVsZXRlID0gW107CiAgICAgICAgICAgIGVtcGxveWVlQ29udGFjdHMgPSBbXTsKICAgICAgICAgICAgZW1wbG95ZWVQcm9qZWN0c0hpc3RvcnkgPSBbXTsKICAgICAgICAgICAgZW1wbG95ZWVQZW5hbHRpZXMgPSBbXTsKICAgICAgICAgICAgZW1wbG95ZWVSZXdhcmRzID0gW107CiAgICAgICAgICAgIGVtcGxveWVlRXZhbHVhdGlvbnMgPSBbXTsKICAgICAgICAgICAgZWRpdGluZ0V2YWx1YXRpb25JZCA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICAvLyDZhdiq2LrZitix2KfYqiDZhNil2K/Yp9ix2Kkg2KXYttin2YHYqSDYp9mE2YXZiNi42YHZitmGINin2YTZhdiq2LnYr9iv2YrZhgogICAgICAgIGxldCBidWxrRW1wbG95ZWVSb3dDb3VudGVyID0gMDsKCiAgICAgICAgLy8g2LnYsdi2INmG2KfZgdiw2Kkg2KXYttin2YHYqSDZhdmI2LjZgdmK2YYg2YXYqti52K/Yr9mK2YYKICAgICAgICBhc3luYyBmdW5jdGlvbiBzaG93QnVsa0FkZEVtcGxveWVlc0Zvcm0oKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1bGtBZGRFbXBsb3llZXNNb2RhbCcpOwogICAgICAgICAgICBpZiAoIW1vZGFsKSByZXR1cm47CgogICAgICAgICAgICAvLyDYqti32KjZitmCINin2YTYqtix2KzZhdin2KoKICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbnMoKTsKCiAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNij2YLYs9in2YUg2KXYsNinINmE2YUg2KrZg9mGINmF2K3ZhdmE2KkKICAgICAgICAgICAgaWYgKCFkZXBhcnRtZW50c0RhdGEgfHwgZGVwYXJ0bWVudHNEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgYXdhaXQgbG9hZERlcGFydG1lbnRzKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vINil2LnYp9iv2Kkg2KrYudmK2YrZhiDYp9mE2LnYr9in2K8KICAgICAgICAgICAgYnVsa0VtcGxveWVlUm93Q291bnRlciA9IDA7CiAgICAgICAgICAgIGJ1bGtFbXBsb3llZU51bWJlckNvdW50ZXIgPSAwOwoKICAgICAgICAgICAgLy8g2KXYttin2YHYqSDYtdmBINij2YjZhNmKCiAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1bGtFbXBsb3llZXNUYWJsZUJvZHknKTsKICAgICAgICAgICAgaWYgKHRib2R5KSB7CiAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgICAgIGF3YWl0IGFkZEJ1bGtFbXBsb3llZVJvdygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgdXBkYXRlQnVsa0VtcGxveWVlc0NvdW50KCk7CiAgICAgICAgfQoKICAgICAgICAvLyDYpdiu2YHYp9ihINmG2KfZgdiw2Kkg2KXYttin2YHYqSDZhdmI2LjZgdmK2YYg2YXYqti52K/Yr9mK2YYKICAgICAgICBmdW5jdGlvbiBoaWRlQnVsa0FkZEVtcGxveWVlc0Zvcm0oKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1bGtBZGRFbXBsb3llZXNNb2RhbCcpOwogICAgICAgICAgICBpZiAobW9kYWwpIHsKICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJ1bGtFbXBsb3llZVJvd0NvdW50ZXIgPSAwOwogICAgICAgIH0KCiAgICAgICAgLy8g2KXYttin2YHYqSDYtdmBINis2K/ZitivINmB2Yog2KfZhNis2K/ZiNmECiAgICAgICAgYXN5bmMgZnVuY3Rpb24gYWRkQnVsa0VtcGxveWVlUm93KCkgewogICAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWxrRW1wbG95ZWVzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgIGlmICghdGJvZHkpIHJldHVybjsKCiAgICAgICAgICAgIGJ1bGtFbXBsb3llZVJvd0NvdW50ZXIrKzsKICAgICAgICAgICAgY29uc3Qgcm93SW5kZXggPSBidWxrRW1wbG95ZWVSb3dDb3VudGVyOwoKICAgICAgICAgICAgLy8g2KrZiNmE2YrYryDYsdmC2YUg2YXZiNi42YEg2KrZhNmC2KfYptmK2KfZiwogICAgICAgICAgICBjb25zdCBuZXh0RW1wbG95ZWVOdW1iZXIgPSBhd2FpdCBnZW5lcmF0ZU5leHRFbXBsb3llZU51bWJlcigpOwoKICAgICAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTsKICAgICAgICAgICAgcm93LmlkID0gYGJ1bGtFbXBsb3llZVJvd18ke3Jvd0luZGV4fWA7CiAgICAgICAgICAgIHJvdy5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgdGV4dC1hbGlnbjogY2VudGVyOyBiYWNrZ3JvdW5kOiAjZjhmOWZhOyI+CiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz4ke3Jvd0luZGV4fTwvc3Ryb25nPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0icGFkZGluZzogOHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJidWxrLWVtcC1uYW1lIiByZXF1aXJlZCBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImJ1bGstZW1wLW5hbWUtZW4iIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogOHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3JkZXItcmFkaXVzOiA0cHg7Ij4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJlbWFpbCIgY2xhc3M9ImJ1bGstZW1wLWVtYWlsIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImJ1bGstZW1wLXBob25lIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImJ1bGstZW1wLWFkZHJlc3MiIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogOHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3JkZXItcmFkaXVzOiA0cHg7Ij4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJkYXRlIiBjbGFzcz0iYnVsay1lbXAtaGlyZS1kYXRlIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZGF0ZSIgY2xhc3M9ImJ1bGstZW1wLXN5c3RlbS1lbnRyeS1kYXRlIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImJ1bGstZW1wLXBvc2l0aW9uIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7Ij4KICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPSJidWxrLWVtcC1lZHVjYXRpb24iIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogOHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3JkZXItcmFkaXVzOiA0cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJlbGVtZW50YXJ5Ij7Yp9io2KrYr9in2KbZijwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJtaWRkbGUiPtmF2KrZiNiz2Lc8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iaGlnaF9zY2hvb2wiPtir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iZGlwbG9tYSI+2K/YqNmE2YjZhTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJiYWNoZWxvciI+2KjZg9in2YTZiNix2YrZiNizPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im1hc3RlciI+2YXYp9is2LPYqtmK2LE8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0icGhkIj7Yr9mD2KrZiNix2KfZhzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJvdGhlciI+2KPYrtix2Yk8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iYnVsay1lbXAtc3BlY2lhbGl6YXRpb24iIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogOHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyBib3JkZXItcmFkaXVzOiA0cHg7Ij4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsiPgogICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9ImJ1bGstZW1wLXN0YXR1cyIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGJvcmRlci1yYWRpdXM6IDRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJhY3RpdmUiPtmG2LTYtzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJpbmFjdGl2ZSI+2LrZitixINmG2LTYtzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJvbi1sZWF2ZSI+2YHZiiDYpdis2KfYstipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InRlcm1pbmF0ZWQiPtmF2YbYqtmH2Yog2KfZhNiu2K/ZhdipPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImJ1bGstZW1wLXNhbGFyeS1jb2RlIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7Ij4KICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPSJidWxrLWVtcC1kZXBhcnRtZW50IiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+LS0g2KfYrtiq2LEg2KfZhNmC2LPZhSAtLTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAke2RlcGFydG1lbnRzRGF0YSA/IGRlcGFydG1lbnRzRGF0YS5tYXAoZGVwdCA9PiBgPG9wdGlvbiB2YWx1ZT0iJHtkZXB0LmlkfSI+JHtkZXB0Lm5hbWUgfHwgZGVwdC5uYW1lRW4gfHwgJ9i62YrYsSDZhdit2K/Yryd9PC9vcHRpb24+YCkuam9pbignJykgOiAnJ30KICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJidWxrLWVtcC1tb250aGx5LWxlYXZlIiBtaW49IjAiIHN0ZXA9IjAuNSIgdmFsdWU9IjIuNSIgc3R5bGU9IndpZHRoOiAxMDAlOyBwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IGJvcmRlci1yYWRpdXM6IDRweDsiPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0icGFkZGluZzogOHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9Im51bWJlciIgY2xhc3M9ImJ1bGstZW1wLWhvdXJseS1sZWF2ZSIgbWluPSIwIiBzdGVwPSIwLjUiIHZhbHVlPSI4IiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBjbGFzcz0iYnVsay1lbXAtaW5pdGlhbC1iYWxhbmNlIiBzdGVwPSIwLjUiIHZhbHVlPSIwIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDhweDsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgYm9yZGVyLXJhZGl1czogNHB4OyI+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJwYWRkaW5nOiA4cHg7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9InJlbW92ZUJ1bGtFbXBsb3llZVJvdygke3Jvd0luZGV4fSkiIHN0eWxlPSJwYWRkaW5nOiA1cHggMTBweDsgZm9udC1zaXplOiAxMnB4OyI+8J+Xke+4jzwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgYDsKCiAgICAgICAgICAgIC8vINil2LbYp9mB2Kkg2K3ZgtmEINmF2K7ZgdmKINmE2LHZgtmFINin2YTZhdmI2LjZgQogICAgICAgICAgICBjb25zdCBlbXBOdW1iZXJJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7CiAgICAgICAgICAgIGVtcE51bWJlcklucHV0LnR5cGUgPSAnaGlkZGVuJzsKICAgICAgICAgICAgZW1wTnVtYmVySW5wdXQuY2xhc3NOYW1lID0gJ2J1bGstZW1wLW51bWJlcic7CiAgICAgICAgICAgIGVtcE51bWJlcklucHV0LnZhbHVlID0gbmV4dEVtcGxveWVlTnVtYmVyOwogICAgICAgICAgICByb3cucXVlcnlTZWxlY3RvcigndGQ6Zmlyc3QtY2hpbGQnKS5hcHBlbmRDaGlsZChlbXBOdW1iZXJJbnB1dCk7CgogICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZChyb3cpOwogICAgICAgICAgICB1cGRhdGVCdWxrRW1wbG95ZWVzQ291bnQoKTsKICAgICAgICB9CgogICAgICAgIC8vINit2LDZgSDYtdmBINmF2YYg2KfZhNis2K/ZiNmECiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQnVsa0VtcGxveWVlUm93KHJvd0luZGV4KSB7CiAgICAgICAgICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBidWxrRW1wbG95ZWVSb3dfJHtyb3dJbmRleH1gKTsKICAgICAgICAgICAgaWYgKHJvdykgewogICAgICAgICAgICAgICAgcm93LnJlbW92ZSgpOwogICAgICAgICAgICAgICAgdXBkYXRlQnVsa0VtcGxveWVlc0NvdW50KCk7CiAgICAgICAgICAgICAgICAvLyDYpdi52KfYr9ipINiq2LHZgtmK2YUg2KfZhNi12YHZiNmBCiAgICAgICAgICAgICAgICByZW51bWJlckJ1bGtFbXBsb3llZVJvd3MoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KXYudin2K/YqSDYqtix2YLZitmFINin2YTYtdmB2YjZgQogICAgICAgIGZ1bmN0aW9uIHJlbnVtYmVyQnVsa0VtcGxveWVlUm93cygpIHsKICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVsa0VtcGxveWVlc1RhYmxlQm9keScpOwogICAgICAgICAgICBpZiAoIXRib2R5KSByZXR1cm47CgogICAgICAgICAgICBjb25zdCByb3dzID0gdGJvZHkucXVlcnlTZWxlY3RvckFsbCgndHInKTsKICAgICAgICAgICAgcm93cy5mb3JFYWNoKChyb3csIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBudW1iZXJDZWxsID0gcm93LnF1ZXJ5U2VsZWN0b3IoJ3RkOmZpcnN0LWNoaWxkJyk7CiAgICAgICAgICAgICAgICBpZiAobnVtYmVyQ2VsbCkgewogICAgICAgICAgICAgICAgICAgIG51bWJlckNlbGwuaW5uZXJIVE1MID0gYDxzdHJvbmc+JHtpbmRleCArIDF9PC9zdHJvbmc+YDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyDYqtit2K/ZitirINi52K/YryDYp9mE2YXZiNi42YHZitmGCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQnVsa0VtcGxveWVlc0NvdW50KCkgewogICAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWxrRW1wbG95ZWVzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdGJvZHkgPyB0Ym9keS5xdWVyeVNlbGVjdG9yQWxsKCd0cicpLmxlbmd0aCA6IDA7CiAgICAgICAgICAgIGNvbnN0IGNvdW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWxrRW1wbG95ZWVzQ291bnQnKTsKICAgICAgICAgICAgaWYgKGNvdW50RWxlbWVudCkgewogICAgICAgICAgICAgICAgY291bnRFbGVtZW50LnRleHRDb250ZW50ID0gY291bnQ7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINmF2LPYrSDYrNmF2YrYuSDYp9mE2LXZgdmI2YEKICAgICAgICBmdW5jdGlvbiBjbGVhckJ1bGtFbXBsb3llZXNGb3JtKCkgewogICAgICAgICAgICBpZiAoY29uZmlybSgn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINmF2LPYrSDYrNmF2YrYuSDYp9mE2KjZitin2YbYp9iq2J8nKSkgewogICAgICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVsa0VtcGxveWVlc1RhYmxlQm9keScpOwogICAgICAgICAgICAgICAgaWYgKHRib2R5KSB7CiAgICAgICAgICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICAgICAgYnVsa0VtcGxveWVlUm93Q291bnRlciA9IDA7CiAgICAgICAgICAgICAgICAgICAgYnVsa0VtcGxveWVlTnVtYmVyQ291bnRlciA9IDA7CiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQnVsa0VtcGxveWVlc0NvdW50KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINi52LHYtiDZhtin2YHYsNipINmE2LXZgiDZhdmGIEV4Y2VsCiAgICAgICAgZnVuY3Rpb24gc2hvd1Bhc3RlRnJvbUV4Y2VsRGlhbG9nKCkgewogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXN0ZUZyb21FeGNlbE1vZGFsJyk7CiAgICAgICAgICAgIGlmIChtb2RhbCkgewogICAgICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0YXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGNlbFBhc3RlRGF0YScpOwogICAgICAgICAgICAgICAgaWYgKHRleHRhcmVhKSB7CiAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYS5mb2N1cygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYpdiu2YHYp9ihINmG2KfZgdiw2Kkg2YTYtdmCINmF2YYgRXhjZWwKICAgICAgICBmdW5jdGlvbiBoaWRlUGFzdGVGcm9tRXhjZWxEaWFsb2coKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3RlRnJvbUV4Y2VsTW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2YXYudin2YTYrNipINin2YTYqNmK2KfZhtin2Kog2KfZhNmF2YbYs9mI2K7YqSDZhdmGIEV4Y2VsCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0V4Y2VsUGFzdGUoKSB7CiAgICAgICAgICAgIGNvbnN0IHRleHRhcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4Y2VsUGFzdGVEYXRhJyk7CiAgICAgICAgICAgIGlmICghdGV4dGFyZWEpIHJldHVybjsKCiAgICAgICAgICAgIGNvbnN0IHBhc3RlZERhdGEgPSB0ZXh0YXJlYS52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIGlmICghcGFzdGVkRGF0YSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9mE2Kcg2KrZiNis2K8g2KjZitin2YbYp9iqINmE2YTYtdmCJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vINiq2YLYs9mK2YUg2KfZhNio2YrYp9mG2KfYqiDYpdmE2Ykg2LXZgdmI2YEKICAgICAgICAgICAgY29uc3Qgcm93cyA9IHBhc3RlZERhdGEuc3BsaXQoL1xyP1xuLykuZmlsdGVyKHJvdyA9PiByb3cudHJpbSgpKTsKICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2YTYpyDYqtmI2KzYryDYqNmK2KfZhtin2Kog2LXYrdmK2K3YqScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2LXZgSDYp9mE2KPZiNmEIC0g2KXYsNinINmD2KfZhiDZitit2KrZiNmKINi52YTZiSDYudmG2KfZiNmK2YbYjCDZhtiq2K7Yt9in2YcKICAgICAgICAgICAgbGV0IHN0YXJ0Um93ID0gMDsKICAgICAgICAgICAgY29uc3QgZmlyc3RSb3cgPSByb3dzWzBdLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIGlmIChmaXJzdFJvdy5pbmNsdWRlcygn2KfZhNin2LPZhScpIHx8IGZpcnN0Um93LmluY2x1ZGVzKCduYW1lJykgfHwgZmlyc3RSb3cuaW5jbHVkZXMoJ9in2LPZhScpKSB7CiAgICAgICAgICAgICAgICBzdGFydFJvdyA9IDE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNij2YLYs9in2YUg2KXYsNinINmE2YUg2KrZg9mGINmF2K3ZhdmE2KkKICAgICAgICAgICAgaWYgKCFkZXBhcnRtZW50c0RhdGEgfHwgZGVwYXJ0bWVudHNEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgYXdhaXQgbG9hZERlcGFydG1lbnRzKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vINmF2LnYp9mE2KzYqSDZg9mEINi12YEKICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVsa0VtcGxveWVlc1RhYmxlQm9keScpOwogICAgICAgICAgICBpZiAoIXRib2R5KSByZXR1cm47CgogICAgICAgICAgICBsZXQgYWRkZWRSb3dzID0gMDsKICAgICAgICAgICAgbGV0IHNraXBwZWRSb3dzID0gMDsKCiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydFJvdzsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGNvbnN0IHJvdyA9IHJvd3NbaV07CiAgICAgICAgICAgICAgICAvLyDYqtmC2LPZitmFINin2YTYtdmBINil2YTZiSDYo9i52YXYr9ipICjZhdmB2LXZiNmE2Kkg2KjZgCBUYWIg2KPZiCDZhdiz2KfZgdin2Kog2YXYqti52K/Yr9ipKQogICAgICAgICAgICAgICAgY29uc3QgY29sdW1ucyA9IHJvdy5zcGxpdCgvXHQvKS5tYXAoY29sID0+IGNvbC50cmltKCkpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YPYp9mGINin2YTYtdmBINmB2KfYsdi62KfZi9iMINmG2KrYrti32KfZhwogICAgICAgICAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoID09PSAwIHx8IGNvbHVtbnMuZXZlcnkoY29sID0+ICFjb2wpKSB7CiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZFJvd3MrKzsKICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDYpdi22KfZgdipINi12YEg2KzYr9mK2K8KICAgICAgICAgICAgICAgIGF3YWl0IGFkZEJ1bGtFbXBsb3llZVJvdygpOwogICAgICAgICAgICAgICAgY29uc3QgbmV3Um93ID0gdGJvZHkucXVlcnlTZWxlY3RvcihgdHI6bGFzdC1jaGlsZGApOwogICAgICAgICAgICAgICAgaWYgKCFuZXdSb3cpIGNvbnRpbnVlOwoKICAgICAgICAgICAgICAgIC8vINiq2LnYqNim2Kkg2KfZhNio2YrYp9mG2KfYqiDZgdmKINin2YTYtdmBCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIC8vIDA6INin2YTYp9iz2YUg2KfZhNmD2KfZhdmEICjZhdi32YTZiNioKQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IG5ld1Jvdy5xdWVyeVNlbGVjdG9yKCcuYnVsay1lbXAtbmFtZScpOwogICAgICAgICAgICAgICAgICAgIGlmIChuYW1lSW5wdXQgJiYgY29sdW1uc1swXSkgewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lSW5wdXQudmFsdWUgPSBjb2x1bW5zWzBdOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gMTog2KfZhNin2LPZhSDYqNin2YTYpdmG2KzZhNmK2LLZitipCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZUVuSW5wdXQgPSBuZXdSb3cucXVlcnlTZWxlY3RvcignLmJ1bGstZW1wLW5hbWUtZW4nKTsKICAgICAgICAgICAgICAgICAgICBpZiAobmFtZUVuSW5wdXQgJiYgY29sdW1uc1sxXSkgewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lRW5JbnB1dC52YWx1ZSA9IGNvbHVtbnNbMV07CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyAyOiDYp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2YoKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWFpbElucHV0ID0gbmV3Um93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1lbWFpbCcpOwogICAgICAgICAgICAgICAgICAgIGlmIChlbWFpbElucHV0ICYmIGNvbHVtbnNbMl0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW1haWxJbnB1dC52YWx1ZSA9IGNvbHVtbnNbMl07CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyAzOiDYsdmC2YUg2KfZhNmH2KfYqtmBCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGhvbmVJbnB1dCA9IG5ld1Jvdy5xdWVyeVNlbGVjdG9yKCcuYnVsay1lbXAtcGhvbmUnKTsKICAgICAgICAgICAgICAgICAgICBpZiAocGhvbmVJbnB1dCAmJiBjb2x1bW5zWzNdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lSW5wdXQudmFsdWUgPSBjb2x1bW5zWzNdOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gNDog2KfZhNi52YbZiNin2YYKICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzSW5wdXQgPSBuZXdSb3cucXVlcnlTZWxlY3RvcignLmJ1bGstZW1wLWFkZHJlc3MnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoYWRkcmVzc0lucHV0ICYmIGNvbHVtbnNbNF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc0lucHV0LnZhbHVlID0gY29sdW1uc1s0XTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIDU6INiq2KfYsdmK2K4g2KfZhNiq2LnZitmK2YYgKNiq2K3ZiNmK2YQg2YXZhiBFeGNlbCBkYXRlIGZvcm1hdCDYpdiw2Kcg2YTYstmFINin2YTYo9mF2LEpCiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGlyZURhdGVJbnB1dCA9IG5ld1Jvdy5xdWVyeVNlbGVjdG9yKCcuYnVsay1lbXAtaGlyZS1kYXRlJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGhpcmVEYXRlSW5wdXQgJiYgY29sdW1uc1s1XSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlVmFsdWUgPSBjb252ZXJ0RXhjZWxEYXRlKGNvbHVtbnNbNV0pOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZVZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXJlRGF0ZUlucHV0LnZhbHVlID0gZGF0ZVZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyA2OiDYqtin2LHZitiuINin2YTYpdiv2LHYp9isCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3lzdGVtRW50cnlEYXRlSW5wdXQgPSBuZXdSb3cucXVlcnlTZWxlY3RvcignLmJ1bGstZW1wLXN5c3RlbS1lbnRyeS1kYXRlJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHN5c3RlbUVudHJ5RGF0ZUlucHV0ICYmIGNvbHVtbnNbNl0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZVZhbHVlID0gY29udmVydEV4Y2VsRGF0ZShjb2x1bW5zWzZdKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGVWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtRW50cnlEYXRlSW5wdXQudmFsdWUgPSBkYXRlVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIDc6INin2YTZhdiz2YXZiSDYp9mE2YjYuNmK2YHZigogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uSW5wdXQgPSBuZXdSb3cucXVlcnlTZWxlY3RvcignLmJ1bGstZW1wLXBvc2l0aW9uJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uSW5wdXQgJiYgY29sdW1uc1s3XSkgewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbklucHV0LnZhbHVlID0gY29sdW1uc1s3XTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIDg6INin2YTYqtit2LXZitmEINin2YTYr9ix2KfYs9mKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWR1Y2F0aW9uU2VsZWN0ID0gbmV3Um93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1lZHVjYXRpb24nKTsKICAgICAgICAgICAgICAgICAgICBpZiAoZWR1Y2F0aW9uU2VsZWN0ICYmIGNvbHVtbnNbOF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWR1Y2F0aW9uVmFsdWUgPSBtYXBFZHVjYXRpb24oY29sdW1uc1s4XSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZHVjYXRpb25WYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWR1Y2F0aW9uU2VsZWN0LnZhbHVlID0gZWR1Y2F0aW9uVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIDk6INin2YTYp9iu2KrYtdin2LUKICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGVjaWFsaXphdGlvbklucHV0ID0gbmV3Um93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1zcGVjaWFsaXphdGlvbicpOwogICAgICAgICAgICAgICAgICAgIGlmIChzcGVjaWFsaXphdGlvbklucHV0ICYmIGNvbHVtbnNbOV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3BlY2lhbGl6YXRpb25JbnB1dC52YWx1ZSA9IGNvbHVtbnNbOV07CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyAxMDog2KfZhNit2KfZhNipCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzU2VsZWN0ID0gbmV3Um93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1zdGF0dXMnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzU2VsZWN0ICYmIGNvbHVtbnNbMTBdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c1ZhbHVlID0gbWFwU3RhdHVzKGNvbHVtbnNbMTBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1c1ZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNTZWxlY3QudmFsdWUgPSBzdGF0dXNWYWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gMTE6INix2YXYsiDYp9mE2LHYp9iq2KgKICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWxhcnlDb2RlSW5wdXQgPSBuZXdSb3cucXVlcnlTZWxlY3RvcignLmJ1bGstZW1wLXNhbGFyeS1jb2RlJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNhbGFyeUNvZGVJbnB1dCAmJiBjb2x1bW5zWzExXSkgewogICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlDb2RlSW5wdXQudmFsdWUgPSBjb2x1bW5zWzExXTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIDEyOiDYp9mE2YLYs9mFICjYp9mE2KjYrdirINio2KfZhNin2LPZhSkKICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXBhcnRtZW50U2VsZWN0ID0gbmV3Um93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1kZXBhcnRtZW50Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGFydG1lbnRTZWxlY3QgJiYgY29sdW1uc1sxMl0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwdE5hbWUgPSBjb2x1bW5zWzEyXS50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXB0TmFtZSAmJiBkZXBhcnRtZW50c0RhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlcHQgPSBkZXBhcnRtZW50c0RhdGEuZmluZChkID0+IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQubmFtZSA9PT0gZGVwdE5hbWUgfHwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5uYW1lRW4gPT09IGRlcHROYW1lIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5uYW1lPy50b0xvd2VyQ2FzZSgpID09PSBkZXB0TmFtZS50b0xvd2VyQ2FzZSgpIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5uYW1lRW4/LnRvTG93ZXJDYXNlKCkgPT09IGRlcHROYW1lLnRvTG93ZXJDYXNlKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRTZWxlY3QudmFsdWUgPSBkZXB0LmlkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyAxMzog2KXYrNin2LLYqSDYtNmH2LHZitipCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGhseUxlYXZlSW5wdXQgPSBuZXdSb3cucXVlcnlTZWxlY3RvcignLmJ1bGstZW1wLW1vbnRobHktbGVhdmUnKTsKICAgICAgICAgICAgICAgICAgICBpZiAobW9udGhseUxlYXZlSW5wdXQgJiYgY29sdW1uc1sxM10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUZsb2F0KGNvbHVtbnNbMTNdKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRobHlMZWF2ZUlucHV0LnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vIDE0OiDYpdis2KfYstipINiy2YXZhtmK2KkKICAgICAgICAgICAgICAgICAgICBjb25zdCBob3VybHlMZWF2ZUlucHV0ID0gbmV3Um93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1ob3VybHktbGVhdmUnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaG91cmx5TGVhdmVJbnB1dCAmJiBjb2x1bW5zWzE0XSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlRmxvYXQoY29sdW1uc1sxNF0pOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cmx5TGVhdmVJbnB1dC52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyAxNTog2KfZhNix2LXZitivINin2YTYp9io2KrYr9in2KbZigogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluaXRpYWxCYWxhbmNlSW5wdXQgPSBuZXdSb3cucXVlcnlTZWxlY3RvcignLmJ1bGstZW1wLWluaXRpYWwtYmFsYW5jZScpOwogICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsQmFsYW5jZUlucHV0ICYmIGNvbHVtbnNbMTVdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdChjb2x1bW5zWzE1XSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsQmFsYW5jZUlucHV0LnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGFkZGVkUm93cysrOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDZhdi52KfZhNis2Kkg2KfZhNi12YE6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIHNraXBwZWRSb3dzKys7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHVwZGF0ZUJ1bGtFbXBsb3llZXNDb3VudCgpOwogICAgICAgICAgICBoaWRlUGFzdGVGcm9tRXhjZWxEaWFsb2coKTsKCiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gYOKchSDYqtmFINil2LbYp9mB2KkgJHthZGRlZFJvd3N9INi12YEg2KjZhtis2KfYrWA7CiAgICAgICAgICAgIGlmIChza2lwcGVkUm93cyA+IDApIHsKICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gYFxu4pqg77iPINiq2YUg2KrYrti32YogJHtza2lwcGVkUm93c30g2LXZgSAo2YHYp9ix2Log2KPZiCDYutmK2LEg2LXYrdmK2K0pYDsKICAgICAgICAgICAgfQogICAgICAgICAgICBhbGVydChtZXNzYWdlKTsKICAgICAgICB9CgogICAgICAgIC8vINiq2K3ZiNmK2YQg2KrYp9ix2YrYriBFeGNlbCDYpdmE2Ykg2LXZiti62KkgWVlZWS1NTS1ERAogICAgICAgIGZ1bmN0aW9uIGNvbnZlcnRFeGNlbERhdGUoZXhjZWxEYXRlKSB7CiAgICAgICAgICAgIGlmICghZXhjZWxEYXRlKSByZXR1cm4gbnVsbDsKCiAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2KfZhNiq2KfYsdmK2K4g2KjYtdmK2LrYqSBFeGNlbCAo2LHZgtmFKQogICAgICAgICAgICBpZiAoIWlzTmFOKGV4Y2VsRGF0ZSkpIHsKICAgICAgICAgICAgICAgIC8vIEV4Y2VsINmK2K3Ys9ioINin2YTYo9mK2KfZhSDZhdmGIDEg2YrZhtin2YrYsSAxOTAwCiAgICAgICAgICAgICAgICBjb25zdCBleGNlbEVwb2NoID0gbmV3IERhdGUoMTkwMCwgMCwgMSk7CiAgICAgICAgICAgICAgICBjb25zdCBkYXlzID0gcGFyc2VJbnQoZXhjZWxEYXRlKSAtIDI7IC8vIEV4Y2VsINmK2KjYr9ijINmF2YYgMSDZitmG2KfZitixIDE5MDDYjCDZhNmD2YbZhyDZiti52KrYqNixIDE5MDAg2LPZhtipINmD2KjZitiz2KkKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShleGNlbEVwb2NoKTsKICAgICAgICAgICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGRheXMpOwogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDZhdit2KfZiNmE2Kkg2KrYrdmE2YrZhCDYp9mE2KrYp9ix2YrYriDYqNi12YrYuiDZhdiu2KrZhNmB2KkKICAgICAgICAgICAgY29uc3QgZGF0ZUZvcm1hdHMgPSBbCiAgICAgICAgICAgICAgICAvXlxkezR9LVxkezJ9LVxkezJ9JC8sIC8vIFlZWVktTU0tREQKICAgICAgICAgICAgICAgIC9eXGR7Mn1cL1xkezJ9XC9cZHs0fSQvLCAvLyBNTS9ERC9ZWVlZCiAgICAgICAgICAgICAgICAvXlxkezJ9XC9cZHsyfVwvXGR7Mn0kLywgLy8gTU0vREQvWVkKICAgICAgICAgICAgICAgIC9eXGR7Mn0tXGR7Mn0tXGR7NH0kLywgLy8gREQtTU0tWVlZWQogICAgICAgICAgICBdOwoKICAgICAgICAgICAgZm9yIChjb25zdCBmb3JtYXQgb2YgZGF0ZUZvcm1hdHMpIHsKICAgICAgICAgICAgICAgIGlmIChmb3JtYXQudGVzdChleGNlbERhdGUpKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGV4Y2VsRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4oZGF0ZS5nZXRUaW1lKCkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIC8vINiq2K3ZiNmK2YQg2YbYtSDYp9mE2KrYrdi12YrZhCDYp9mE2K/Ysdin2LPZiiDYpdmE2Ykg2YLZitmF2KkKICAgICAgICBmdW5jdGlvbiBtYXBFZHVjYXRpb24oZWR1Y2F0aW9uVGV4dCkgewogICAgICAgICAgICBpZiAoIWVkdWNhdGlvblRleHQpIHJldHVybiAnJzsKICAgICAgICAgICAgY29uc3QgdGV4dCA9IGVkdWNhdGlvblRleHQudG9Mb3dlckNhc2UoKS50cmltKCk7CiAgICAgICAgICAgIGNvbnN0IG1hcHBpbmcgPSB7CiAgICAgICAgICAgICAgICAn2KfYqNiq2K/Yp9im2YonOiAnZWxlbWVudGFyeScsCiAgICAgICAgICAgICAgICAnZWxlbWVudGFyeSc6ICdlbGVtZW50YXJ5JywKICAgICAgICAgICAgICAgICfZhdiq2YjYs9i3JzogJ21pZGRsZScsCiAgICAgICAgICAgICAgICAnbWlkZGxlJzogJ21pZGRsZScsCiAgICAgICAgICAgICAgICAn2KvYp9mG2YjZiic6ICdoaWdoX3NjaG9vbCcsCiAgICAgICAgICAgICAgICAnaGlnaCBzY2hvb2wnOiAnaGlnaF9zY2hvb2wnLAogICAgICAgICAgICAgICAgJ2hpZ2hfc2Nob29sJzogJ2hpZ2hfc2Nob29sJywKICAgICAgICAgICAgICAgICfYr9io2YTZiNmFJzogJ2RpcGxvbWEnLAogICAgICAgICAgICAgICAgJ2RpcGxvbWEnOiAnZGlwbG9tYScsCiAgICAgICAgICAgICAgICAn2KjZg9in2YTZiNix2YrZiNizJzogJ2JhY2hlbG9yJywKICAgICAgICAgICAgICAgICdiYWNoZWxvcic6ICdiYWNoZWxvcicsCiAgICAgICAgICAgICAgICAn2YXYp9is2LPYqtmK2LEnOiAnbWFzdGVyJywKICAgICAgICAgICAgICAgICdtYXN0ZXInOiAnbWFzdGVyJywKICAgICAgICAgICAgICAgICfYr9mD2KrZiNix2KfZhyc6ICdwaGQnLAogICAgICAgICAgICAgICAgJ3BoZCc6ICdwaGQnLAogICAgICAgICAgICAgICAgJ3BoLmQnOiAncGhkJywKICAgICAgICAgICAgICAgICfYo9iu2LHZiSc6ICdvdGhlcicsCiAgICAgICAgICAgICAgICAnb3RoZXInOiAnb3RoZXInCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBtYXBwaW5nW3RleHRdIHx8ICcnOwogICAgICAgIH0KCiAgICAgICAgLy8g2KrYrdmI2YrZhCDZhti1INin2YTYrdin2YTYqSDYpdmE2Ykg2YLZitmF2KkKICAgICAgICBmdW5jdGlvbiBtYXBTdGF0dXMoc3RhdHVzVGV4dCkgewogICAgICAgICAgICBpZiAoIXN0YXR1c1RleHQpIHJldHVybiAnYWN0aXZlJzsKICAgICAgICAgICAgY29uc3QgdGV4dCA9IHN0YXR1c1RleHQudG9Mb3dlckNhc2UoKS50cmltKCk7CiAgICAgICAgICAgIGNvbnN0IG1hcHBpbmcgPSB7CiAgICAgICAgICAgICAgICAn2YbYtNi3JzogJ2FjdGl2ZScsCiAgICAgICAgICAgICAgICAnYWN0aXZlJzogJ2FjdGl2ZScsCiAgICAgICAgICAgICAgICAn2LrZitixINmG2LTYtyc6ICdpbmFjdGl2ZScsCiAgICAgICAgICAgICAgICAnaW5hY3RpdmUnOiAnaW5hY3RpdmUnLAogICAgICAgICAgICAgICAgJ9mB2Yog2KXYrNin2LLYqSc6ICdvbi1sZWF2ZScsCiAgICAgICAgICAgICAgICAnb24tbGVhdmUnOiAnb24tbGVhdmUnLAogICAgICAgICAgICAgICAgJ29uIGxlYXZlJzogJ29uLWxlYXZlJywKICAgICAgICAgICAgICAgICfZhdmG2KrZh9mKINin2YTYrtiv2YXYqSc6ICd0ZXJtaW5hdGVkJywKICAgICAgICAgICAgICAgICd0ZXJtaW5hdGVkJzogJ3Rlcm1pbmF0ZWQnCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBtYXBwaW5nW3RleHRdIHx8ICdhY3RpdmUnOwogICAgICAgIH0KCiAgICAgICAgLy8g2K3Zgdi4INis2YXZiti5INin2YTZhdmI2LjZgdmK2YYKICAgICAgICBhc3luYyBmdW5jdGlvbiBzYXZlQnVsa0VtcGxveWVlcygpIHsKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVsa0VtcGxveWVlc1RhYmxlQm9keScpOwogICAgICAgICAgICBpZiAoIXRib2R5KSByZXR1cm47CgogICAgICAgICAgICBjb25zdCByb3dzID0gdGJvZHkucXVlcnlTZWxlY3RvckFsbCgndHInKTsKICAgICAgICAgICAgaWYgKHJvd3MubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2YTYpyDYqtmI2KzYryDYqNmK2KfZhtin2Kog2YTYpdi22KfZgdiq2YfYpycpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBlbXBsb3llZXNUb0FkZCA9IFtdOwogICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTsKCiAgICAgICAgICAgIC8vINis2YXYuSDYp9mE2KjZitin2YbYp9iqINmF2YYg2KzZhdmK2Lkg2KfZhNi12YHZiNmBCiAgICAgICAgICAgIHJvd3MuZm9yRWFjaCgocm93LCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHJvdy5xdWVyeVNlbGVjdG9yKCcuYnVsay1lbXAtbmFtZScpPy52YWx1ZS50cmltKCk7CiAgICAgICAgICAgICAgICBpZiAoIW5hbWUpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChg2KfZhNi12YEgJHtpbmRleCArIDF9OiDYp9mE2KfYs9mFINin2YTZg9in2YXZhCDZhdi32YTZiNioYCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlRGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZU51bWJlcjogcm93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1udW1iZXInKT8udmFsdWUgfHwgZ2VuZXJhdGVOZXh0RW1wbG95ZWVOdW1iZXIoKSwKICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgICAgIG5hbWVFbjogcm93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1uYW1lLWVuJyk/LnZhbHVlLnRyaW0oKSB8fCAnJywKICAgICAgICAgICAgICAgICAgICBlbWFpbDogcm93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1lbWFpbCcpPy52YWx1ZS50cmltKCkgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHJvdy5xdWVyeVNlbGVjdG9yKCcuYnVsay1lbXAtcGhvbmUnKT8udmFsdWUudHJpbSgpIHx8ICcnLAogICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IHJvdy5xdWVyeVNlbGVjdG9yKCcuYnVsay1lbXAtYWRkcmVzcycpPy52YWx1ZS50cmltKCkgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgaGlyZURhdGU6IHJvdy5xdWVyeVNlbGVjdG9yKCcuYnVsay1lbXAtaGlyZS1kYXRlJyk/LnZhbHVlIHx8IG51bGwsCiAgICAgICAgICAgICAgICAgICAgc3lzdGVtRW50cnlEYXRlOiByb3cucXVlcnlTZWxlY3RvcignLmJ1bGstZW1wLXN5c3RlbS1lbnRyeS1kYXRlJyk/LnZhbHVlIHx8IG51bGwsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJvdy5xdWVyeVNlbGVjdG9yKCcuYnVsay1lbXAtcG9zaXRpb24nKT8udmFsdWUudHJpbSgpIHx8ICcnLAogICAgICAgICAgICAgICAgICAgIGVkdWNhdGlvbjogcm93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1lZHVjYXRpb24nKT8udmFsdWUgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgc3BlY2lhbGl6YXRpb246IHJvdy5xdWVyeVNlbGVjdG9yKCcuYnVsay1lbXAtc3BlY2lhbGl6YXRpb24nKT8udmFsdWUudHJpbSgpIHx8ICcnLAogICAgICAgICAgICAgICAgICAgIHN0YXR1czogcm93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1zdGF0dXMnKT8udmFsdWUgfHwgJ2FjdGl2ZScsCiAgICAgICAgICAgICAgICAgICAgc2FsYXJ5Q29kZTogcm93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1zYWxhcnktY29kZScpPy52YWx1ZS50cmltKCkgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudElkOiByb3cucXVlcnlTZWxlY3RvcignLmJ1bGstZW1wLWRlcGFydG1lbnQnKT8udmFsdWUgfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICBtb250aGx5TGVhdmVEYXlzOiBwYXJzZUZsb2F0KHJvdy5xdWVyeVNlbGVjdG9yKCcuYnVsay1lbXAtbW9udGhseS1sZWF2ZScpPy52YWx1ZSkgfHwgMi41LAogICAgICAgICAgICAgICAgICAgIGhvdXJseUxlYXZlSG91cnM6IHBhcnNlRmxvYXQocm93LnF1ZXJ5U2VsZWN0b3IoJy5idWxrLWVtcC1ob3VybHktbGVhdmUnKT8udmFsdWUpIHx8IDgsCiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbExlYXZlQmFsYW5jZTogcGFyc2VGbG9hdChyb3cucXVlcnlTZWxlY3RvcignLmJ1bGstZW1wLWluaXRpYWwtYmFsYW5jZScpPy52YWx1ZSkgfHwgMCwKICAgICAgICAgICAgICAgICAgICBjb250YWN0czogW10sCiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNIaXN0b3J5OiBbXSwKICAgICAgICAgICAgICAgICAgICBwZW5hbHRpZXM6IFtdLAogICAgICAgICAgICAgICAgICAgIHJld2FyZHM6IFtdLAogICAgICAgICAgICAgICAgICAgIGV2YWx1YXRpb25zOiBbXSwKICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHdpbmRvdy5maXJlc3RvcmUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlcj8udWlkIHx8ICdzeXN0ZW0nCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGVtcGxveWVlc1RvQWRkLnB1c2goZW1wbG95ZWVEYXRhKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2KPYrti32KfYoSDYp9mE2KrYp9mE2YrYqTpcbicgKyBlcnJvcnMuam9pbignXG4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChlbXBsb3llZXNUb0FkZC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfZhNinINiq2YjYrNivINio2YrYp9mG2KfYqiDYtdit2YrYrdipINmE2KXYttin2YHYqtmH2KcnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2KrYo9mD2YrYryDYp9mE2K3Zgdi4CiAgICAgICAgICAgIGlmICghY29uZmlybShg2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINil2LbYp9mB2KkgJHtlbXBsb3llZXNUb0FkZC5sZW5ndGh9INmF2YjYuNmB2J9gKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3NDb3VudCA9IDA7CiAgICAgICAgICAgICAgICBsZXQgZXJyb3JDb3VudCA9IDA7CgogICAgICAgICAgICAgICAgLy8g2KXYttin2YHYqSDYp9mE2YXZiNi42YHZitmGINmI2KfYrdiv2KfZiyDYqtmE2Ygg2KfZhNii2K7YsQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbXBsb3llZXNUb0FkZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuYWRkRG9jKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5jb2xsZWN0aW9uKHdpbmRvdy5kYiwgJ2VtcGxveWVlcycpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVzVG9BZGRbaV0KICAgICAgICAgICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2LPYrNmK2YQg2YHZiiDYs9is2YQg2KfZhNiq2LnYr9mK2YTYp9iqCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGxvZ0F1ZGl0KCdlbXBsb3llZScsICdjcmVhdGUnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiBkb2NSZWYuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZU51bWJlcjogZW1wbG95ZWVzVG9BZGRbaV0uZW1wbG95ZWVOdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZU5hbWU6IGVtcGxveWVlc1RvQWRkW2ldLm5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDYrti32KMg2YHZiiDYpdi22KfZgdipINin2YTZhdmI2LjZgSAke2kgKyAxfTpgLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3NDb3VudCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydChg4pyFINiq2YUg2KXYttin2YHYqSAke3N1Y2Nlc3NDb3VudH0g2YXZiNi42YEg2KjZhtis2KfYrSR7ZXJyb3JDb3VudCA+IDAgPyBgXG7inYwg2YHYtNmEINil2LbYp9mB2KkgJHtlcnJvckNvdW50fSDZhdmI2LjZgWAgOiAnJ31gKTsKICAgICAgICAgICAgICAgICAgICBoaWRlQnVsa0FkZEVtcGxveWVlc0Zvcm0oKTsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRW1wbG95ZWVzKCk7CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbG9hZERhc2hib2FyZFN0YXRzKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfinYwg2YHYtNmEINil2LbYp9mB2Kkg2KzZhdmK2Lkg2KfZhNmF2YjYuNmB2YrZhicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgYWxlcnQoJ9iu2LfYoyDZgdmKINit2YHYuCDYp9mE2YXZiNi42YHZitmGOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KXYttin2YHYqSDZhdmI2LjZgQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGFkZEVtcGxveWVlKCkgewogICAgICAgICAgICBpZiAoZWRpdGluZ0VtcGxveWVlSWQpIHsKICAgICAgICAgICAgICAgIHVwZGF0ZUVtcGxveWVlKCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlRGF0YSA9IHsKICAgICAgICAgICAgICAgIGVtcGxveWVlTnVtYmVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wTnVtYmVyRGlzcGxheScpLnRleHRDb250ZW50LnRyaW0oKSwKICAgICAgICAgICAgICAgIG5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBOYW1lJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgbmFtZUVuOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wTmFtZUVuJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgZW1haWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBFbWFpbCcpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIHBob25lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wUGhvbmUnKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICBhZGRyZXNzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wQWRkcmVzcycpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIHdvcmtMb2NhdGlvbklkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wV29ya0xvY2F0aW9uJykudmFsdWUgfHwgbnVsbCwKICAgICAgICAgICAgICAgIGhpcmVEYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wSGlyZURhdGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wUG9zaXRpb24nKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICBlZHVjYXRpb246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBFZHVjYXRpb24nKS52YWx1ZSB8fCAnJywKICAgICAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wU3BlY2lhbGl6YXRpb24nKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICBzdGF0dXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBTdGF0dXMnKS52YWx1ZSB8fCAnYWN0aXZlJywKICAgICAgICAgICAgICAgIHNhbGFyeUNvZGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBTYWxhcnlDb2RlJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnRJZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcFJlcGxhY2VtZW50JykudmFsdWUgfHwgbnVsbCwKICAgICAgICAgICAgICAgIGRlcGFydG1lbnRJZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcERlcGFydG1lbnQnKS52YWx1ZSB8fCBudWxsLAogICAgICAgICAgICAgICAgc3lzdGVtRW50cnlEYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wU3lzdGVtRW50cnlEYXRlJykudmFsdWUgfHwgbnVsbCwKICAgICAgICAgICAgICAgIGluaXRpYWxMZWF2ZUJhbGFuY2U6IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEluaXRpYWxMZWF2ZUJhbGFuY2UnKS52YWx1ZSkgfHwgMCwKICAgICAgICAgICAgICAgIG1vbnRobHlMZWF2ZURheXM6IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcE1vbnRobHlMZWF2ZURheXMnKS52YWx1ZSkgfHwgMi41LAogICAgICAgICAgICAgICAgaG91cmx5TGVhdmVIb3VyczogcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wSG91cmx5TGVhdmVIb3VycycpLnZhbHVlKSB8fCA4LAogICAgICAgICAgICAgICAgaW5pdGlhbFNhbGFyeTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEluaXRpYWxTYWxhcnknKS52YWx1ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wSW5pdGlhbFNhbGFyeScpLnR5cGUgPT09ICdudW1iZXInID8gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wSW5pdGlhbFNhbGFyeScpLnZhbHVlKSA6IG51bGwsCiAgICAgICAgICAgICAgICBpbml0aWFsU2FsYXJ5Q3VycmVuY3k6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBJbml0aWFsU2FsYXJ5Q3VycmVuY3knKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBJbml0aWFsU2FsYXJ5Q3VycmVuY3knKS52YWx1ZSA6ICdJUUQnLAogICAgICAgICAgICAgICAgY3VycmVudFNhbGFyeTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEN1cnJlbnRTYWxhcnknKS52YWx1ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wQ3VycmVudFNhbGFyeScpLnR5cGUgPT09ICdudW1iZXInID8gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wQ3VycmVudFNhbGFyeScpLnZhbHVlKSA6IG51bGwsCiAgICAgICAgICAgICAgICBjdXJyZW50U2FsYXJ5Q3VycmVuY3k6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBDdXJyZW50U2FsYXJ5Q3VycmVuY3knKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBDdXJyZW50U2FsYXJ5Q3VycmVuY3knKS52YWx1ZSA6ICdJUUQnLAogICAgICAgICAgICAgICAgY29udGFjdHM6IGVtcGxveWVlQ29udGFjdHMsCiAgICAgICAgICAgICAgICBwcm9qZWN0c0hpc3Rvcnk6IGVtcGxveWVlUHJvamVjdHNIaXN0b3J5LAogICAgICAgICAgICAgICAgcGVuYWx0aWVzOiBlbXBsb3llZVBlbmFsdGllcywKICAgICAgICAgICAgICAgIHJld2FyZHM6IGVtcGxveWVlUmV3YXJkcywKICAgICAgICAgICAgICAgIGV2YWx1YXRpb25zOiBlbXBsb3llZUV2YWx1YXRpb25zLAogICAgICAgICAgICAgICAgY3JlYXRlZEF0OiB3aW5kb3cuZmlyZXN0b3JlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlcj8udWlkIHx8ICdzeXN0ZW0nCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAoIWVtcGxveWVlRGF0YS5uYW1lKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINil2K/Yrtin2YQg2KfYs9mFINin2YTZhdmI2LjZgScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy8g2KXYttin2YHYqSDYp9mE2YXZiNi42YEg2KPZiNmE2KfZiyDZhNmE2K3YtdmI2YQg2LnZhNmJIElECiAgICAgICAgICAgICAgICBjb25zdCBkb2NSZWYgPSBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmFkZERvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAnZW1wbG95ZWVzJyksCiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVEYXRhCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVJZCA9IGRvY1JlZi5pZDsKCiAgICAgICAgICAgICAgICAvLyDYsdmB2Lkg2KfZhNi12YjYsdipCiAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVQaG90b0ZpbGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwaG90b1VSTCA9IGF3YWl0IHVwbG9hZEVtcGxveWVlUGhvdG8oZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBob3RvVVJMKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5maXJlc3RvcmUudXBkYXRlRG9jKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAnZW1wbG95ZWVzJywgZW1wbG95ZWVJZCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHBob3RvVVJMOiBwaG90b1VSTCB9CiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vINix2YHYuSDYp9mE2YXYs9iq2YbYr9in2KoKICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZURvY3VtZW50c1RvVXBsb2FkLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGxvYWRlZERvY3MgPSBhd2FpdCB1cGxvYWRFbXBsb3llZURvY3VtZW50cyhlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgICAgICBpZiAodXBsb2FkZWREb2NzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINin2YTZhtmH2KfYptmKINmF2YYg2KfZhNit2KzZhSDYp9mE2YPZhNmKINmC2KjZhCDYp9mE2K3Zgdi4CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbERvY3MgPSB1cGxvYWRlZERvY3M7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbFNpemUgPSB1cGxvYWRlZERvY3MucmVkdWNlKChzdW0sIGRvYykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1bSArIG5ldyBCbG9iKFtkb2MuZGF0YV0pLnNpemU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxTaXplTUIgPSAodG90YWxTaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2KfZhNit2KzZhSDZitiq2KzYp9mI2LIgMSBNQtiMINmG2K3Yp9mI2YQg2K3YsNmBINin2YTZhdmE2YHYp9iqINin2YTYo9mD2KjYsSDYqtmE2YLYp9im2YrYp9mLCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbFNpemUgPiAxICogMTAyNCAqIDEwMjQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2LHYqtmK2Kgg2KfZhNmF2YTZgdin2Kog2K3Ys9ioINin2YTYrdis2YUgKNin2YTYo9mD2KjYsSDYo9mI2YTYp9mLKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkRG9jcyA9IFsuLi51cGxvYWRlZERvY3NdLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXplQSA9IG5ldyBCbG9iKFthLmRhdGFdKS5zaXplOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemVCID0gbmV3IEJsb2IoW2IuZGF0YV0pLnNpemU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpemVCIC0gc2l6ZUE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2K3YsNmBINin2YTZhdmE2YHYp9iqINin2YTYo9mD2KjYsSDYrdiq2Ykg2YrYtdio2K0g2KfZhNit2KzZhSDYo9mC2YQg2YXZhiAxIE1CCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlZENvdW50ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0b3RhbFNpemUgPiAxICogMTAyNCAqIDEwMjQgJiYgc29ydGVkRG9jcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFyZ2VzdERvYyA9IHNvcnRlZERvY3Muc2hpZnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NTaXplID0gbmV3IEJsb2IoW2xhcmdlc3REb2MuZGF0YV0pLnNpemU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxTaXplIC09IGRvY1NpemU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZENvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkQ291bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29uZmlybWVkID0gY29uZmlybShg4pqg77iPINil2KzZhdin2YTZiiDYrdis2YUg2KfZhNmF2YTZgdin2KogKCR7dG90YWxTaXplTUJ9IE1CKSDZitiq2KzYp9mI2LIg2K3YryBGaXJlc3RvcmUgKDEgTUIpXG5cbtiz2YrYqtmFINit2LDZgSAke3JlbW92ZWRDb3VudH0g2YXZhNmBINmD2KjZitixINiq2YTZgtin2KbZitin2YsuXG5cbtmH2YQg2KrYsdmK2K8g2KfZhNmF2KrYp9io2LnYqdifYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maXJtZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9iq2YUg2KXZhNi62KfYoSDYp9mE2LnZhdmE2YrYqS4g2YTZhiDZitiq2YUg2K3Zgdi4INin2YTZhdmE2YHYp9iqLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9iq2YUg2KXZhNi62KfYoSDYp9mE2LnZhdmE2YrYqSDZhdmGINmC2KjZhCDYp9mE2YXYs9iq2K7Yr9mFJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsRG9jcyA9IHNvcnRlZERvY3M7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYOKchSDYqtmFINit2LDZgSAke3JlbW92ZWRDb3VudH0g2YXZhNmBINmD2KjZitixINiq2YTZgtin2KbZitin2YsuXG5cbtiz2YrYqtmFINit2YHYuCDYp9mE2YXZhNmB2KfYqiDYp9mE2YXYqtio2YLZitipINin2YTYotmGLmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChg4pqg77iPINiu2LfYozog2KXYrNmF2KfZhNmKINit2KzZhSDYp9mE2YXZhNmB2KfYqiAoJHt0b3RhbFNpemVNQn0gTUIpINmK2KrYrNin2YjYsiDYrdivIEZpcmVzdG9yZSAoMSBNQilcblxu2YTZhiDZitiq2YUg2K3Zgdi4INin2YTZhdmE2YHYp9iqLlxuXG7Yp9mE2LHYrNin2KEg2KrZgtmE2YrZhCDYudiv2K8g2KfZhNmF2YTZgdin2Kog2KPZiCDYrdis2YXZh9inLmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg2K3YrNmFINin2YTZhdmE2YHYp9iqICgke3RvdGFsU2l6ZU1CfSBNQikg2YrYqtis2KfZiNiyINit2K8gRmlyZXN0b3JlICgxIE1CKWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5maXJlc3RvcmUuZG9jKHdpbmRvdy5kYiwgJ2VtcGxveWVlcycsIGVtcGxveWVlSWQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBkb2N1bWVudHM6IGZpbmFsRG9jcyB9CiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vINiq2LPYrNmK2YQg2YHZiiDYs9is2YQg2KfZhNiq2LnYr9mK2YTYp9iqCiAgICAgICAgICAgICAgICBhd2FpdCBsb2dBdWRpdCgnZW1wbG95ZWUnLCAnY3JlYXRlJywgewogICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSWQ6IGVtcGxveWVlSWQsCiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVOdW1iZXI6IGVtcGxveWVlRGF0YS5lbXBsb3llZU51bWJlciwKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZU5hbWU6IGVtcGxveWVlRGF0YS5uYW1lCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBhbGVydCgn2KrZhSDYpdi22KfZgdipINin2YTZhdmI2LjZgSDYqNmG2KzYp9itIScpOwogICAgICAgICAgICAgICAgaGlkZUFkZEVtcGxveWVlRm9ybSgpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZEVtcGxveWVlcygpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZERhc2hib2FyZFN0YXRzKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2KXYttin2YHYqSDYp9mE2YXZiNi42YE6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYqti52K/ZitmEINmF2YjYuNmBCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZWRpdEVtcGxveWVlKGlkKSB7CiAgICAgICAgICAgIGVkaXRpbmdFbXBsb3llZUlkID0gaWQ7CiAgICAgICAgICAgIGNvbnN0IGVtcCA9IGVtcGxveWVlc0RhdGEuZmluZChlID0+IGUuaWQgPT09IGlkKTsKICAgICAgICAgICAgaWYgKCFlbXApIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2YXZiNi42YEg2LrZitixINmF2YjYrNmI2K8nKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVNb2RhbCcpOwogICAgICAgICAgICBpZiAoIW1vZGFsKSByZXR1cm47CgogICAgICAgICAgICAvLyDYqti32KjZitmCINin2YTYqtix2KzZhdin2Kog2YLYqNmEINmB2KrYrSDYp9mE2YbYp9mB2LDYqQogICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9ucygpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVTdWJtaXRCdG4nKS5zZXRBdHRyaWJ1dGUoJ29uY2xpY2snLCAndXBkYXRlRW1wbG95ZWUoKScpOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcE51bWJlckRpc3BsYXknKS50ZXh0Q29udGVudCA9IGVtcC5lbXBsb3llZU51bWJlciB8fCAnRU1QLTAwMSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBOYW1lJykudmFsdWUgPSBlbXAubmFtZSB8fCAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcE5hbWVFbicpLnZhbHVlID0gZW1wLm5hbWVFbiB8fCAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEVtYWlsJykudmFsdWUgPSBlbXAuZW1haWwgfHwgJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBQaG9uZScpLnZhbHVlID0gZW1wLnBob25lIHx8ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wQWRkcmVzcycpLnZhbHVlID0gZW1wLmFkZHJlc3MgfHwgJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBIaXJlRGF0ZScpLnZhbHVlID0gZW1wLmhpcmVEYXRlIHx8ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wU3lzdGVtRW50cnlEYXRlJykudmFsdWUgPSBlbXAuc3lzdGVtRW50cnlEYXRlIHx8ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wUG9zaXRpb24nKS52YWx1ZSA9IGVtcC5wb3NpdGlvbiB8fCAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEVkdWNhdGlvbicpLnZhbHVlID0gZW1wLmVkdWNhdGlvbiB8fCAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcFNwZWNpYWxpemF0aW9uJykudmFsdWUgPSBlbXAuc3BlY2lhbGl6YXRpb24gfHwgJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBTdGF0dXMnKS52YWx1ZSA9IGVtcC5zdGF0dXMgfHwgJ2FjdGl2ZSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBTYWxhcnlDb2RlJykudmFsdWUgPSBlbXAuc2FsYXJ5Q29kZSB8fCAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcFJlcGxhY2VtZW50JykudmFsdWUgPSBlbXAucmVwbGFjZW1lbnRJZCB8fCAnJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2YLYp9im2YXYqSDYp9mE2KPZgtiz2KfZhSDYq9mFINiq2LnZitmK2YYg2KfZhNmC2LPZhSDYp9mE2YXYrdiv2K8KICAgICAgICAgICAgYXdhaXQgdXBkYXRlRGVwYXJ0bWVudFNlbGVjdCgpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wRGVwYXJ0bWVudCcpLnZhbHVlID0gZW1wLmRlcGFydG1lbnRJZCB8fCAnJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2YLYp9im2YXYqSDYp9mE2YXZhtin2LfZgiDYq9mFINiq2LnZitmK2YYg2YXZg9in2YYg2KfZhNi52YXZhCDYp9mE2YXYrdiv2K8KICAgICAgICAgICAgYXdhaXQgdXBkYXRlV29ya0xvY2F0aW9uU2VsZWN0KCk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBXb3JrTG9jYXRpb24nKS52YWx1ZSA9IGVtcC53b3JrTG9jYXRpb25JZCB8fCAnJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBNb250aGx5TGVhdmVEYXlzJykudmFsdWUgPSBlbXAubW9udGhseUxlYXZlRGF5cyB8fCAyLjU7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBIb3VybHlMZWF2ZUhvdXJzJykudmFsdWUgPSBlbXAuaG91cmx5TGVhdmVIb3VycyB8fCA4OwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wSW5pdGlhbExlYXZlQmFsYW5jZScpLnZhbHVlID0gZW1wLmluaXRpYWxMZWF2ZUJhbGFuY2UgfHwgMDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2LnYqNim2Kkg2KfZhNix2KfYqtioICjZhdit2YXZiikKICAgICAgICAgICAgY29uc3QgaW5pdGlhbFNhbGFyeUZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEluaXRpYWxTYWxhcnknKTsKICAgICAgICAgICAgY29uc3QgY3VycmVudFNhbGFyeUZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEN1cnJlbnRTYWxhcnknKTsKICAgICAgICAgICAgY29uc3QgaW5pdGlhbFNhbGFyeUN1cnJlbmN5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEluaXRpYWxTYWxhcnlDdXJyZW5jeScpOwogICAgICAgICAgICBjb25zdCBjdXJyZW50U2FsYXJ5Q3VycmVuY3kgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wQ3VycmVudFNhbGFyeUN1cnJlbmN5Jyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoaW5pdGlhbFNhbGFyeUZpZWxkKSB7CiAgICAgICAgICAgICAgICBpbml0aWFsU2FsYXJ5RmllbGQudHlwZSA9ICdwYXNzd29yZCc7CiAgICAgICAgICAgICAgICBpbml0aWFsU2FsYXJ5RmllbGQudmFsdWUgPSBlbXAuaW5pdGlhbFNhbGFyeSA/ICcqKioqJyA6ICcnOwogICAgICAgICAgICAgICAgaW5pdGlhbFNhbGFyeUZpZWxkLnJlYWRPbmx5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGluaXRpYWxTYWxhcnlGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2FsYXJ5LXZhbHVlJywgZW1wLmluaXRpYWxTYWxhcnkgfHwgJycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoY3VycmVudFNhbGFyeUZpZWxkKSB7CiAgICAgICAgICAgICAgICBjdXJyZW50U2FsYXJ5RmllbGQudHlwZSA9ICdwYXNzd29yZCc7CiAgICAgICAgICAgICAgICBjdXJyZW50U2FsYXJ5RmllbGQudmFsdWUgPSBlbXAuY3VycmVudFNhbGFyeSA/ICcqKioqJyA6ICcnOwogICAgICAgICAgICAgICAgY3VycmVudFNhbGFyeUZpZWxkLnJlYWRPbmx5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGN1cnJlbnRTYWxhcnlGaWVsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2FsYXJ5LXZhbHVlJywgZW1wLmN1cnJlbnRTYWxhcnkgfHwgJycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoaW5pdGlhbFNhbGFyeUN1cnJlbmN5KSB7CiAgICAgICAgICAgICAgICBpbml0aWFsU2FsYXJ5Q3VycmVuY3kudmFsdWUgPSBlbXAuaW5pdGlhbFNhbGFyeUN1cnJlbmN5IHx8ICdJUUQnOwogICAgICAgICAgICAgICAgaW5pdGlhbFNhbGFyeUN1cnJlbmN5LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGN1cnJlbnRTYWxhcnlDdXJyZW5jeSkgewogICAgICAgICAgICAgICAgY3VycmVudFNhbGFyeUN1cnJlbmN5LnZhbHVlID0gZW1wLmN1cnJlbnRTYWxhcnlDdXJyZW5jeSB8fCAnSVFEJzsKICAgICAgICAgICAgICAgIGN1cnJlbnRTYWxhcnlDdXJyZW5jeS5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2YLYp9im2YXYqSDYp9mE2YXZiNi42YHZitmGINin2YTYqNiv2YrZhNmK2YYKICAgICAgICAgICAgdXBkYXRlUmVwbGFjZW1lbnRTZWxlY3QoZWRpdGluZ0VtcGxveWVlSWQpOwoKICAgICAgICAgICAgLy8g2LnYsdi2INis2YfYp9iqINin2YTYp9iq2LXYp9mECiAgICAgICAgICAgIGVtcGxveWVlQ29udGFjdHMgPSBlbXAuY29udGFjdHMgfHwgW107CiAgICAgICAgICAgIGRpc3BsYXlDb250YWN0cygpOwoKICAgICAgICAgICAgLy8g2LnYsdi2INin2YTYudmC2YjYqNin2Kog2YjYp9mE2YXZg9in2YHYotiqCiAgICAgICAgICAgIGVtcGxveWVlUGVuYWx0aWVzID0gZW1wLnBlbmFsdGllcyB8fCBbXTsKICAgICAgICAgICAgZW1wbG95ZWVSZXdhcmRzID0gZW1wLnJld2FyZHMgfHwgW107CiAgICAgICAgICAgIGVtcGxveWVlRXZhbHVhdGlvbnMgPSBlbXAuZXZhbHVhdGlvbnMgfHwgW107CiAgICAgICAgICAgIGVkaXRpbmdFdmFsdWF0aW9uSWQgPSBudWxsOwogICAgICAgICAgICB3aW5kb3cuZXZhbHVhdGlvblZpZXdVbmxvY2tlZCA9IGZhbHNlOyAvLyDYpdi52KfYr9ipINmC2YHZhCDYp9mE2KrZgtmK2YrZhdin2Kog2LnZhtivINmB2KrYrSDYqNi32KfZgtipINmF2YjYuNmBINis2K/ZitivCiAgICAgICAgICAgIGRpc3BsYXlQZW5hbHRpZXMoKTsKICAgICAgICAgICAgZGlzcGxheVJld2FyZHMoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LnYp9iv2Kkg2KrYudmK2YrZhiDYrdin2YTYqSDYp9mE2KrZgtmK2YrZhdin2KoKICAgICAgICAgICAgY29uc3QgZXZhbHVhdGlvbnNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25zTGlzdCcpOwogICAgICAgICAgICBjb25zdCBsb2NrZWRNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25zTG9ja2VkTWVzc2FnZScpOwogICAgICAgICAgICBjb25zdCBhZGRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkRXZhbHVhdGlvbkJ0bicpOwogICAgICAgICAgICBjb25zdCBsb2NrSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uTG9ja0ljb24nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChldmFsdWF0aW9uc0xpc3QpIGV2YWx1YXRpb25zTGlzdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBpZiAobG9ja2VkTWVzc2FnZSkgbG9ja2VkTWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgaWYgKGFkZEJ0bikgYWRkQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIGlmIChsb2NrSWNvbikgewogICAgICAgICAgICAgICAgbG9ja0ljb24udGV4dENvbnRlbnQgPSAn8J+Ukic7CiAgICAgICAgICAgICAgICBsb2NrSWNvbi50aXRsZSA9ICfYp9mG2YLYsSDZhNil2LjZh9in2LEg2KfZhNiq2YLZitmK2YXYp9iqJzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2LnYsdi2INiz2KzZhCDYp9mE2YXYtNin2LHZiti5CiAgICAgICAgICAgIGVtcGxveWVlUHJvamVjdHNIaXN0b3J5ID0gZW1wLnByb2plY3RzSGlzdG9yeSB8fCBbXTsKICAgICAgICAgICAgZGlzcGxheVByb2plY3RzSGlzdG9yeSgpOwoKICAgICAgICAgICAgLy8g2LnYsdi2INin2YTYtdmI2LHYqSDYp9mE2YXZiNis2YjYr9ipCiAgICAgICAgICAgIGlmIChlbXAucGhvdG9VUkwpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZVBob3RvUHJldmlldycpLnNyYyA9IGVtcC5waG90b1VSTDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlbW92ZUVtcGxveWVlUGhvdG8oKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2LnYsdi2INin2YTZhdiz2KrZhtiv2KfYqiDYp9mE2YXZiNis2YjYr9ipCiAgICAgICAgICAgIGRpc3BsYXlFeGlzdGluZ0RvY3VtZW50cyhlbXAuZG9jdW1lbnRzIHx8IFtdKTsKCiAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgIH0KCiAgICAgICAgLy8g2LnYsdi2INin2YTZhdiz2KrZhtiv2KfYqiDYp9mE2YXZiNis2YjYr9ipCiAgICAgICAgZnVuY3Rpb24gZGlzcGxheUV4aXN0aW5nRG9jdW1lbnRzKGRvY3VtZW50cykgewogICAgICAgICAgICBjb25zdCBkb2N1bWVudHNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlRG9jdW1lbnRzTGlzdCcpOwogICAgICAgICAgICBkb2N1bWVudHNMaXN0LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFkb2N1bWVudHMgfHwgZG9jdW1lbnRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBkb2N1bWVudHMuZm9yRWFjaCgoZG9jLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgZG9jQ2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgZG9jQ2FyZC5pZCA9IGBleGlzdGluZ0RvY18ke2luZGV4fWA7CiAgICAgICAgICAgICAgICBkb2NDYXJkLmNsYXNzTmFtZSA9ICdkb2N1bWVudC1jYXJkJzsKICAgICAgICAgICAgICAgIGRvY0NhcmQuc3R5bGUuY3NzVGV4dCA9ICdib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQ6ICNmOGY5ZmE7IHBvc2l0aW9uOiByZWxhdGl2ZTsnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGRvYy5uYW1lICYmIGRvYy5uYW1lLmxlbmd0aCA+IDIwID8gZG9jLm5hbWUuc3Vic3RyaW5nKDAsIDIwKSArICcuLi4nIDogKGRvYy5uYW1lIHx8ICfZhdiz2KrZhtivJyk7CiAgICAgICAgICAgICAgICBjb25zdCBmaWxlU2l6ZSA9IGRvYy5zaXplID8gKGRvYy5zaXplIC8gMTAyNCkudG9GaXhlZCgyKSArICcgS0InIDogJyc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGRvY0NhcmQuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAyNHB4OyI+8J+Tjjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZmxleDogMTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMzMzOyI+JHtmaWxlTmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICM2NjY7Ij4ke2ZpbGVTaXplfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsgZ2FwOiA1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiR7ZG9jLmRhdGEgfHwgZG9jLnVybH0iIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iYmFja2dyb3VuZDogIzY2N2VlYTsgY29sb3I6IHdoaXRlOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDRweDsgcGFkZGluZzogNXB4IDEwcHg7IGN1cnNvcjogcG9pbnRlcjsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBmb250LXNpemU6IDEycHg7Ij7Yudix2LY8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9Im1hcmtEb2N1bWVudEZvckRlbGV0aW9uKCcke2luZGV4fScsICcke2RvYy5kYXRhIHx8IGRvYy51cmx9JykiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjZGMzNTQ1OyBjb2xvcjogd2hpdGU7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogNHB4OyBwYWRkaW5nOiA1cHggMTBweDsgY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDEycHg7Ij7Yrdiw2YE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBkb2N1bWVudHNMaXN0LmFwcGVuZENoaWxkKGRvY0NhcmQpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vINiq2K3Yr9mK2K8g2YXYs9iq2YbYryDZhNmE2K3YsNmBCiAgICAgICAgZnVuY3Rpb24gbWFya0RvY3VtZW50Rm9yRGVsZXRpb24oaW5kZXgsIHVybCkgewogICAgICAgICAgICBpZiAoIWNvbmZpcm0oJ9mH2YQg2KPZhtiqINmF2KrYo9mD2K8g2YXZhiDYrdiw2YEg2YfYsNinINin2YTZhdiz2KrZhtiv2J8nKSkgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgZW1wbG95ZWVEb2N1bWVudHNUb0RlbGV0ZS5wdXNoKHVybCk7CiAgICAgICAgICAgIGNvbnN0IGRvY0NhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZXhpc3RpbmdEb2NfJHtpbmRleH1gKTsKICAgICAgICAgICAgaWYgKGRvY0NhcmQpIHsKICAgICAgICAgICAgICAgIGRvY0NhcmQuc3R5bGUub3BhY2l0eSA9ICcwLjUnOwogICAgICAgICAgICAgICAgZG9jQ2FyZC5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9ICdsaW5lLXRocm91Z2gnOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYqtit2K/ZitirINmF2YjYuNmBCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRW1wbG95ZWUoKSB7CiAgICAgICAgICAgIGlmICghZWRpdGluZ0VtcGxveWVlSWQpIHJldHVybjsKCiAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlRGF0YSA9IHsKICAgICAgICAgICAgICAgIG5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBOYW1lJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgbmFtZUVuOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wTmFtZUVuJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgZW1wbG95ZWVOdW1iZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBOdW1iZXJEaXNwbGF5JykudGV4dENvbnRlbnQudHJpbSgpLAogICAgICAgICAgICAgICAgZW1haWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBFbWFpbCcpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIHBob25lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wUGhvbmUnKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICBhZGRyZXNzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wQWRkcmVzcycpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIHdvcmtMb2NhdGlvbklkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wV29ya0xvY2F0aW9uJykudmFsdWUgfHwgbnVsbCwKICAgICAgICAgICAgICAgIGhpcmVEYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wSGlyZURhdGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wUG9zaXRpb24nKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICBlZHVjYXRpb246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBFZHVjYXRpb24nKS52YWx1ZSB8fCAnJywKICAgICAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wU3BlY2lhbGl6YXRpb24nKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICBzdGF0dXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBTdGF0dXMnKS52YWx1ZSB8fCAnYWN0aXZlJywKICAgICAgICAgICAgICAgIHNhbGFyeUNvZGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBTYWxhcnlDb2RlJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgcmVwbGFjZW1lbnRJZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcFJlcGxhY2VtZW50JykudmFsdWUgfHwgbnVsbCwKICAgICAgICAgICAgICAgIGRlcGFydG1lbnRJZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcERlcGFydG1lbnQnKS52YWx1ZSB8fCBudWxsLAogICAgICAgICAgICAgICAgc3lzdGVtRW50cnlEYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wU3lzdGVtRW50cnlEYXRlJykudmFsdWUgfHwgbnVsbCwKICAgICAgICAgICAgICAgIGluaXRpYWxMZWF2ZUJhbGFuY2U6IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEluaXRpYWxMZWF2ZUJhbGFuY2UnKS52YWx1ZSkgfHwgMCwKICAgICAgICAgICAgICAgIG1vbnRobHlMZWF2ZURheXM6IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcE1vbnRobHlMZWF2ZURheXMnKS52YWx1ZSkgfHwgMi41LAogICAgICAgICAgICAgICAgaG91cmx5TGVhdmVIb3VyczogcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wSG91cmx5TGVhdmVIb3VycycpLnZhbHVlKSB8fCA4LAogICAgICAgICAgICAgICAgaW5pdGlhbFNhbGFyeTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEluaXRpYWxTYWxhcnknKS52YWx1ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wSW5pdGlhbFNhbGFyeScpLnR5cGUgPT09ICdudW1iZXInID8gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wSW5pdGlhbFNhbGFyeScpLnZhbHVlKSA6IG51bGwsCiAgICAgICAgICAgICAgICBpbml0aWFsU2FsYXJ5Q3VycmVuY3k6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBJbml0aWFsU2FsYXJ5Q3VycmVuY3knKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBJbml0aWFsU2FsYXJ5Q3VycmVuY3knKS52YWx1ZSA6ICdJUUQnLAogICAgICAgICAgICAgICAgY3VycmVudFNhbGFyeTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcEN1cnJlbnRTYWxhcnknKS52YWx1ZSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wQ3VycmVudFNhbGFyeScpLnR5cGUgPT09ICdudW1iZXInID8gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wQ3VycmVudFNhbGFyeScpLnZhbHVlKSA6IG51bGwsCiAgICAgICAgICAgICAgICBjdXJyZW50U2FsYXJ5Q3VycmVuY3k6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBDdXJyZW50U2FsYXJ5Q3VycmVuY3knKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBDdXJyZW50U2FsYXJ5Q3VycmVuY3knKS52YWx1ZSA6ICdJUUQnLAogICAgICAgICAgICAgICAgY29udGFjdHM6IGVtcGxveWVlQ29udGFjdHMsCiAgICAgICAgICAgICAgICBwcm9qZWN0c0hpc3Rvcnk6IGVtcGxveWVlUHJvamVjdHNIaXN0b3J5LAogICAgICAgICAgICAgICAgcGVuYWx0aWVzOiBlbXBsb3llZVBlbmFsdGllcywKICAgICAgICAgICAgICAgIHJld2FyZHM6IGVtcGxveWVlUmV3YXJkcywKICAgICAgICAgICAgICAgIGV2YWx1YXRpb25zOiBlbXBsb3llZUV2YWx1YXRpb25zLAogICAgICAgICAgICAgICAgdXBkYXRlZEF0OiB3aW5kb3cuZmlyZXN0b3JlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICAgICAgdXBkYXRlZEJ5OiBjdXJyZW50VXNlcj8udWlkIHx8ICdzeXN0ZW0nCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAoIWVtcGxveWVlRGF0YS5uYW1lKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINil2K/Yrtin2YQg2KfYs9mFINin2YTZhdmI2LjZgScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNi12YTYp9it2YrYp9iqINmC2KjZhCDYp9mE2KrYrdiv2YrYqwogICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50VXNlcikgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfimqDvuI8g2YrYrNioINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEINij2YjZhNin2YsnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2KPZhiDYp9mE2YXYs9iq2K7Yr9mFINmE2K/ZitmHINi12YTYp9it2YrYp9iqINin2YTYqtit2K/ZitirINmI2KXYtdmE2KfYrSByb2xlINil2LDYpyDZhNiy2YUg2KfZhNij2YXYsQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0g2KfZhNiq2K3ZgtmCINmF2YYg2LXZhNin2K3Zitin2Kog2KfZhNmF2LPYqtiu2K/ZhS4uLicpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkaQgVXNlciBJRDonLCBjdXJyZW50VXNlci51aWQpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6cgRW1haWw6JywgY3VycmVudFVzZXIuZW1haWwpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmdldERvYygKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAndXNlcnMnLCBjdXJyZW50VXNlci51aWQpCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+ThCBVc2VyIGRvY3VtZW50IGV4aXN0czonLCB1c2VyRG9jLmV4aXN0cygpKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAodXNlckRvYy5leGlzdHMoKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJEb2MuZGF0YSgpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXNlclJvbGUgPSB1c2VyRGF0YS5yb2xlOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgVXNlciBkYXRhOicsIHVzZXJEYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq0gQ3VycmVudCByb2xlOicsIHVzZXJSb2xlKTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZhNmFINmK2YPZhiDZhNmE2YXYs9iq2K7Yr9mFIHJvbGXYjCDZhti22YrZgSByb2xlICdhZG1pbicg2KrZhNmC2KfYptmK2KfZiyAo2YTZhNmF2LPYqtiu2K/ZhSDYp9mE2KPZiNmEKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXVzZXJSb2xlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPINin2YTZhdiz2KrYrtiv2YUg2YTZitizINmE2K/ZitmHIHJvbGUgLSDYrNin2LHZiiDYpdi22KfZgdipIHJvbGUgYWRtaW4uLi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS51cGRhdGVEb2MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5maXJlc3RvcmUuZG9jKHdpbmRvdy5kYiwgJ3VzZXJzJywgY3VycmVudFVzZXIudWlkKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhZG1pbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlclJvbGUgPSAnYWRtaW4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg2KrZhSDYpdi22KfZgdipIHJvbGUgYWRtaW4g2YTZhNmF2LPYqtiu2K/ZhScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAodXBkYXRlRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg2K7Yt9ijINmB2Yog2KrYrdiv2YrYqyByb2xlINin2YTZhdiz2KrYrtiv2YU6JywgdXBkYXRlRXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBkZXRhaWxzOicsIHVwZGF0ZUVycm9yLmNvZGUsIHVwZGF0ZUVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINmG2KrYp9io2Lkg2KfZhNmF2K3Yp9mI2YTYqSDYudmE2Ykg2KPZiiDYrdin2YQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq0gRmluYWwgcm9sZTonLCB1c2VyUm9sZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlclJvbGUgIT09ICdhZG1pbicgJiYgdXNlclJvbGUgIT09ICdocicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfimqDvuI8g2YTZitizINmE2K/ZitmDINi12YTYp9it2YrYqSDZhNiq2K3Yr9mK2Ksg2KfZhNmF2YjYuNmB2YrZhi4g2YrYrNioINij2YYg2KrZg9mI2YYg2YXYr9mK2LHYp9mLINij2Ygg2YXZhiDZhdmI2KfYsdivINio2LTYsdmK2KkuXG5cblJvbGUg2KfZhNit2KfZhNmKOiAnICsgKHVzZXJSb2xlIHx8ICfYutmK2LEg2YXYrdiv2K8nKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg2LXZhNin2K3ZitipINi62YrYsSDZg9in2YHZitipLiBSb2xlOicsIHVzZXJSb2xlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDYtdmE2KfYrdmK2KfYqiDYp9mE2YXYs9iq2K7Yr9mFINi12K3Zitit2KknKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitmD2YYg2YTZhNmF2LPYqtiu2K/ZhSDYs9is2YQg2YHZiiBGaXJlc3RvcmXYjCDZhtmG2LTYptmHINmF2Lkgcm9sZSAnYWRtaW4nCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8g2KfZhNmF2LPYqtiu2K/ZhSDZhNmK2LMg2YTYr9mK2Ycg2LPYrNmEINmB2YogRmlyZXN0b3JlIC0g2KzYp9ix2Yog2KXZhti02KfYoSDYp9mE2LPYrNmEINmF2Lkgcm9sZSBhZG1pbi4uLicpOwogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS5zZXREb2MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAndXNlcnMnLCBjdXJyZW50VXNlci51aWQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY3VycmVudFVzZXIuZGlzcGxheU5hbWUgfHwgY3VycmVudFVzZXIuZW1haWw/LnNwbGl0KCdAJylbMF0gfHwgJ9mF2LPYqtiu2K/ZhScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBjdXJyZW50VXNlci5lbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2FkbWluJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHdpbmRvdy5maXJlc3RvcmUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogJ3N5c3RlbScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDYqtmFINil2YbYtNin2KEg2LPYrNmEINin2YTZhdiz2KrYrtiv2YUg2YXYuSByb2xlIGFkbWluJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGNyZWF0ZUVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg2K7Yt9ijINmB2Yog2KXZhti02KfYoSDYs9is2YQg2KfZhNmF2LPYqtiu2K/ZhTonLCBjcmVhdGVFcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZGV0YWlsczonLCBjcmVhdGVFcnJvci5jb2RlLCBjcmVhdGVFcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINmG2KrYp9io2Lkg2KfZhNmF2K3Yp9mI2YTYqSDYudmE2Ykg2KPZiiDYrdin2YQKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHBlcm1FcnJvcikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDYrti32KMg2YHZiiDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2LXZhNin2K3Zitin2Ko6JywgcGVybUVycm9yKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZGV0YWlsczonLCBwZXJtRXJyb3IuY29kZSwgcGVybUVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgIC8vINmG2KrYp9io2Lkg2KfZhNmF2K3Yp9mI2YTYqQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSDYrNin2LHZiiDYqtit2K/ZitirINio2YrYp9mG2KfYqiDYp9mE2YXZiNi42YEuLi4nKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IEVtcGxveWVlIElEOicsIGVkaXRpbmdFbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IEVtcGxveWVlIGRhdGEga2V5czonLCBPYmplY3Qua2V5cyhlbXBsb3llZURhdGEpKTsKCiAgICAgICAgICAgICAgICAvLyDYp9mE2K3YtdmI2YQg2LnZhNmJINin2YTYqNmK2KfZhtin2Kog2KfZhNmC2K/ZitmF2Kkg2YTZhNiq2LPYrNmK2YQKICAgICAgICAgICAgICAgIGNvbnN0IG9sZEVtcGxveWVlID0gZW1wbG95ZWVzRGF0YS5maW5kKGUgPT4gZS5pZCA9PT0gZWRpdGluZ0VtcGxveWVlSWQpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtit2K/ZitirINin2YTYqNmK2KfZhtin2Kog2KfZhNij2LPYp9iz2YrYqQogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAnZW1wbG95ZWVzJywgZWRpdGluZ0VtcGxveWVlSWQpLAogICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZURhdGEKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg2KrZhSDYqtit2K/ZitirINio2YrYp9mG2KfYqiDYp9mE2YXZiNi42YEg2KjZhtis2KfYrScpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINiq2LPYrNmK2YQg2YHZiiDYs9is2YQg2KfZhNiq2LnYr9mK2YTYp9iqCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbG9nQXVkaXQoJ2VtcGxveWVlJywgJ3VwZGF0ZScsIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVJZDogZWRpdGluZ0VtcGxveWVlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlTnVtYmVyOiBlbXBsb3llZURhdGEuZW1wbG95ZWVOdW1iZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlTmFtZTogZW1wbG95ZWVEYXRhLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG9sZERhdGE6IG9sZEVtcGxveWVlLAogICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhOiBlbXBsb3llZURhdGEKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHVwZGF0ZUVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MINiu2LfYoyDZgdmKINiq2K3Yr9mK2Ksg2KjZitin2YbYp9iqINin2YTZhdmI2LjZgTonLCB1cGRhdGVFcnJvcik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNvZGU6JywgdXBkYXRlRXJyb3IuY29kZSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIG1lc3NhZ2U6JywgdXBkYXRlRXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZ1bGwgZXJyb3I6JywgdXBkYXRlRXJyb3IpOwogICAgICAgICAgICAgICAgICAgIHRocm93IHVwZGF0ZUVycm9yOyAvLyDYpdi52KfYr9ipINix2YXZiiDYp9mE2K7Yt9ijINmE2YTYqti52KfZhdmEINmF2LnZhyDZgdmKIGNhdGNoINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g2LHZgdi5INin2YTYtdmI2LHYqSDYp9mE2KzYr9mK2K/YqSDYpdmGINmI2KzYr9iqCiAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVQaG90b0ZpbGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwaG90b1VSTCA9IGF3YWl0IHVwbG9hZEVtcGxveWVlUGhvdG8oZWRpdGluZ0VtcGxveWVlSWQpOwogICAgICAgICAgICAgICAgICAgIGlmIChwaG90b1VSTCkgewogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5maXJlc3RvcmUuZG9jKHdpbmRvdy5kYiwgJ2VtcGxveWVlcycsIGVkaXRpbmdFbXBsb3llZUlkKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcGhvdG9VUkw6IHBob3RvVVJMIH0KICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g2KfZhNit2LXZiNmEINi52YTZiSDYp9mE2YXYs9iq2YbYr9in2Kog2KfZhNit2KfZhNmK2KkKICAgICAgICAgICAgICAgIGNvbnN0IGVtcCA9IGVtcGxveWVlc0RhdGEuZmluZChlID0+IGUuaWQgPT09IGVkaXRpbmdFbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIGxldCBjdXJyZW50RG9jdW1lbnRzID0gZW1wPy5kb2N1bWVudHMgfHwgW107CgogICAgICAgICAgICAgICAgLy8g2K3YsNmBINin2YTZhdiz2KrZhtiv2KfYqiDYp9mE2YXYrdiv2K/YqSAo2KfZhNii2YYg2YbYrdiw2YHZh9inINmF2YYgRmlyZXN0b3JlINmF2KjYp9i02LHYqSkKICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZURvY3VtZW50c1RvRGVsZXRlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyDYrdiw2YEg2KfZhNmF2LPYqtmG2K/Yp9iqINmF2YYg2KfZhNmC2KfYptmF2KkgKNmG2LPYqtiu2K/ZhSBkYXRhINij2YggdXJsINmE2YTYqNit2KspCiAgICAgICAgICAgICAgICAgICAgY3VycmVudERvY3VtZW50cyA9IGN1cnJlbnREb2N1bWVudHMuZmlsdGVyKGRvYyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2KfZhNmF2LPYqtmG2K8g2YrYrdiq2YjZiiDYudmE2YkgZGF0YSAoYmFzZTY0KSDYo9mIIHVybAogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NJZGVudGlmaWVyID0gZG9jLmRhdGEgfHwgZG9jLnVybDsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFlbXBsb3llZURvY3VtZW50c1RvRGVsZXRlLmluY2x1ZGVzKGRvY0lkZW50aWZpZXIpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg2KrZhSDYrdiw2YEg2KfZhNmF2LPYqtmG2K/Yp9iqINmF2YYg2KfZhNmC2KfYptmF2KknKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDYsdmB2Lkg2KfZhNmF2LPYqtmG2K/Yp9iqINin2YTYrNiv2YrYr9ipCiAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVEb2N1bWVudHNUb1VwbG9hZC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBsb2FkZWREb2NzID0gYXdhaXQgdXBsb2FkRW1wbG95ZWVEb2N1bWVudHMoZWRpdGluZ0VtcGxveWVlSWQpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDYp9mE2YbZh9in2KbZiiDZhdmGINin2YTYrdis2YUg2KfZhNmD2YTZiiDZgtio2YQg2KfZhNit2YHYuAogICAgICAgICAgICAgICAgICAgIGxldCBhbGxEb2N1bWVudHMgPSBbLi4uY3VycmVudERvY3VtZW50cywgLi4udXBsb2FkZWREb2NzXTsKICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxTaXplID0gYWxsRG9jdW1lbnRzLnJlZHVjZSgoc3VtLCBkb2MpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jRGF0YSA9IGRvYy5kYXRhIHx8IGRvYy51cmwgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdW0gKyBuZXcgQmxvYihbZG9jRGF0YV0pLnNpemU7CiAgICAgICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxTaXplTUIgPSAodG90YWxTaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YPYp9mGINin2YTYrdis2YUg2YrYqtis2KfZiNiyIDEgTULYjCDZhtit2KfZiNmEINit2LDZgSDYp9mE2YXZhNmB2KfYqiDYp9mE2YLYr9mK2YXYqSDYqtmE2YLYp9im2YrYp9mLCiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsU2l6ZSA+IDEgKiAxMDI0ICogMTAyNCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDYqtix2KrZitioINin2YTZhdmE2YHYp9iqINit2LPYqCDYp9mE2KrYp9ix2YrYriAo2KfZhNij2YLYr9mFINij2YjZhNin2YspCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZERvY3MgPSBhbGxEb2N1bWVudHMuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZUEgPSBuZXcgRGF0ZShhLnVwbG9hZGVkQXQgfHwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlQiA9IG5ldyBEYXRlKGIudXBsb2FkZWRBdCB8fCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlQSAtIGRhdGVCOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINit2LDZgSDYp9mE2YXZhNmB2KfYqiDYp9mE2YLYr9mK2YXYqSDYrdiq2Ykg2YrYtdio2K0g2KfZhNit2KzZhSDYo9mC2YQg2YXZhiAxIE1CCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmVkQ291bnQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAodG90YWxTaXplID4gMSAqIDEwMjQgKiAxMDI0ICYmIHNvcnRlZERvY3MubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkZXN0RG9jID0gc29ydGVkRG9jcy5zaGlmdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9jU2l6ZSA9IG5ldyBCbG9iKFtvbGRlc3REb2MuZGF0YSB8fCBvbGRlc3REb2MudXJsIHx8ICcnXSkuc2l6ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsU2l6ZSAtPSBkb2NTaXplOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZENvdW50Kys7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkQ291bnQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25maXJtZWQgPSBjb25maXJtKGDimqDvuI8g2KXYrNmF2KfZhNmKINit2KzZhSDYp9mE2YXZhNmB2KfYqiAoJHt0b3RhbFNpemVNQn0gTUIpINmK2KrYrNin2YjYsiDYrdivIEZpcmVzdG9yZSAoMSBNQilcblxu2LPZitiq2YUg2K3YsNmBICR7cmVtb3ZlZENvdW50fSDZhdmE2YEg2YLYr9mK2YUg2KrZhNmC2KfYptmK2KfZiyDZhNmB2LPYrSDYp9mE2YXYrNin2YQg2YTZhNmF2YTZgdin2Kog2KfZhNis2K/Zitiv2KkuXG5cbtmH2YQg2KrYsdmK2K8g2KfZhNmF2KrYp9io2LnYqdifYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpcm1lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfYqtmFINil2YTYutin2KEg2KfZhNi52YXZhNmK2KkuINmE2YYg2YrYqtmFINit2YHYuCDYp9mE2YXZhNmB2KfYqiDYp9mE2KzYr9mK2K/YqS4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9iq2YUg2KXZhNi62KfYoSDYp9mE2LnZhdmE2YrYqSDZhdmGINmC2KjZhCDYp9mE2YXYs9iq2K7Yr9mFJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERvY3VtZW50cyA9IHNvcnRlZERvY3M7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChg4pyFINiq2YUg2K3YsNmBICR7cmVtb3ZlZENvdW50fSDZhdmE2YEg2YLYr9mK2YUg2KrZhNmC2KfYptmK2KfZiy5cblxu2LPZitiq2YUg2K3Zgdi4INin2YTZhdmE2YHYp9iqINin2YTYrNiv2YrYr9ipINin2YTYotmGLmApOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYOKaoO+4jyDYrti32KM6INil2KzZhdin2YTZiiDYrdis2YUg2KfZhNmF2YTZgdin2KogKCR7dG90YWxTaXplTUJ9IE1CKSDZitiq2KzYp9mI2LIg2K3YryBGaXJlc3RvcmUgKDEgTUIpXG5cbtmE2YYg2YrYqtmFINit2YHYuCDYp9mE2YXZhNmB2KfYqiDYp9mE2KzYr9mK2K/YqS5cblxu2KfZhNix2KzYp9ihINiq2YLZhNmK2YQg2LnYr9ivINin2YTZhdmE2YHYp9iqINij2Ygg2K3YrNmF2YfYpy5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg2K3YrNmFINin2YTZhdmE2YHYp9iqICgke3RvdGFsU2l6ZU1CfSBNQikg2YrYqtis2KfZiNiyINit2K8gRmlyZXN0b3JlICgxIE1CKWApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGN1cnJlbnREb2N1bWVudHMgPSBhbGxEb2N1bWVudHM7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g2KrYrdiv2YrYqyDYp9mE2YXYs9iq2YbYr9in2KoKICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZURvY3VtZW50c1RvVXBsb2FkLmxlbmd0aCA+IDAgfHwgZW1wbG95ZWVEb2N1bWVudHNUb0RlbGV0ZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINin2YTZhtmH2KfYptmKINmF2LHYqSDYo9iu2LHZiSDZgtio2YQg2KfZhNit2YHYuAogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVG90YWxTaXplID0gY3VycmVudERvY3VtZW50cy5yZWR1Y2UoKHN1bSwgZG9jKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY0RhdGEgPSBkb2MuZGF0YSB8fCBkb2MudXJsIHx8ICcnOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VtICsgbmV3IEJsb2IoW2RvY0RhdGFdKS5zaXplOwogICAgICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbFRvdGFsU2l6ZSA+IDEgKiAxMDI0ICogMTAyNCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaW5hbFNpemVNQiA9IChmaW5hbFRvdGFsU2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMik7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGDimqDvuI8g2K7Yt9ijOiDYpdis2YXYp9mE2Yog2K3YrNmFINin2YTZhdmE2YHYp9iqICgke2ZpbmFsU2l6ZU1CfSBNQikg2YrYqtis2KfZiNiyINit2K8gRmlyZXN0b3JlICgxIE1CKVxuXG7ZhNmGINmK2KrZhSDYrdmB2Lgg2KfZhNiq2LrZitmK2LHYp9iqLlxuXG7Yp9mE2LHYrNin2KEg2K3YsNmBINio2LnYtiDYp9mE2YXZhNmB2KfYqiDYo9mIINiq2YLZhNmK2YQg2K3YrNmF2YfYpy5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDYrdis2YUg2KfZhNmF2YTZgdin2KogKCR7ZmluYWxTaXplTUJ9IE1CKSDZitiq2KzYp9mI2LIg2K3YryBGaXJlc3RvcmUgKDEgTUIpYCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5maXJlc3RvcmUudXBkYXRlRG9jKAogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICdlbXBsb3llZXMnLCBlZGl0aW5nRW1wbG95ZWVJZCksCiAgICAgICAgICAgICAgICAgICAgICAgIHsgZG9jdW1lbnRzOiBjdXJyZW50RG9jdW1lbnRzIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGFsZXJ0KCfYqtmFINiq2K3Yr9mK2Ksg2KfZhNmF2YjYuNmBINio2YbYrNin2K0hJyk7CiAgICAgICAgICAgICAgICBoaWRlQWRkRW1wbG95ZWVGb3JtKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRW1wbG95ZWVzKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRGFzaGJvYXJkU3RhdHMoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYqtit2K/ZitirINin2YTZhdmI2LjZgTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINit2LDZgSDZhdmI2LjZgQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUVtcGxveWVlKGlkKSB7CiAgICAgICAgICAgIGlmICghY29uZmlybSgn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINit2LDZgSDZh9iw2Kcg2KfZhNmF2YjYuNmB2J8nKSkgcmV0dXJuOwoKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlID0gZW1wbG95ZWVzRGF0YS5maW5kKGUgPT4gZS5pZCA9PT0gaWQpOwogICAgICAgICAgICAgICAgaWYgKCFlbXBsb3llZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2YXZiNi42YEg2LrZitixINmF2YjYrNmI2K8nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS5kZWxldGVEb2MoCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAnZW1wbG95ZWVzJywgaWQpCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIC8vINiq2LPYrNmK2YQg2YHZiiDYs9is2YQg2KfZhNiq2LnYr9mK2YTYp9iqCiAgICAgICAgICAgICAgICBhd2FpdCBsb2dBdWRpdCgnZW1wbG95ZWUnLCAnZGVsZXRlJywgewogICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSWQ6IGlkLAogICAgICAgICAgICAgICAgICAgIGVtcGxveWVlTnVtYmVyOiBlbXBsb3llZS5lbXBsb3llZU51bWJlciwKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZU5hbWU6IGVtcGxveWVlLm5hbWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGFsZXJ0KCfYqtmFINit2LDZgSDYp9mE2YXZiNi42YEg2KjZhtis2KfYrSEnKTsKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRFbXBsb3llZXMoKTsKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWREYXNoYm9hcmRTdGF0cygpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgYWxlcnQoJ9iu2LfYoyDZgdmKINit2LDZgSDYp9mE2YXZiNi42YE6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2YbYuNin2YUg2LPYrNmEINin2YTYqti52K/ZitmE2KfYqiAoQXVkaXQgTG9nKQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9nQXVkaXQoZW50aXR5VHlwZSwgYWN0aW9uLCBkYXRhKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSB8fCAhY3VycmVudFVzZXIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDZhNinINmK2YXZg9mGINiq2LPYrNmK2YQg2KfZhNiq2LnYr9mK2YQgLSBGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMg2KPZiCDYp9mE2YXYs9iq2K7Yr9mFINi62YrYsSDZhdiz2KzZhCDYr9iu2YjZhCcpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBhdWRpdERhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgZW50aXR5VHlwZTogZW50aXR5VHlwZSwgLy8gJ2VtcGxveWVlJywgJ2V2YWx1YXRpb24nLCAncHJvamVjdCcsIGV0Yy4KICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGFjdGlvbiwgLy8gJ2NyZWF0ZScsICd1cGRhdGUnLCAnZGVsZXRlJywgJ3ZpZXcnCiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLnVpZCwKICAgICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IGN1cnJlbnRVc2VyLmVtYWlsLAogICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogd2luZG93LmZpcmVzdG9yZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAvLyDYrdmB2Lgg2YHZiiBGaXJlc3RvcmUKICAgICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuYWRkRG9jKAogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5maXJlc3RvcmUuY29sbGVjdGlvbih3aW5kb3cuZGIsICdhdWRpdExvZ3MnKSwKICAgICAgICAgICAgICAgICAgICBhdWRpdERhdGEKICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgLy8g2K3Zgdi4INmF2K3ZhNmK2KfZiyDYo9mK2LbYp9mLICjZhNmE2LnYsdi2INin2YTYs9ix2YrYuSkKICAgICAgICAgICAgICAgIGF1ZGl0TG9ncy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBpZDogJ2F1ZGl0XycgKyBEYXRlLm5vdygpLAogICAgICAgICAgICAgICAgICAgIC4uLmF1ZGl0RGF0YSwKICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8g2KfZhNin2K3YqtmB2KfYuCDYqNii2K7YsSAxMDAwINiz2KzZhCDZhdit2YTZitin2Ysg2YHZgti3CiAgICAgICAgICAgICAgICBpZiAoYXVkaXRMb2dzLmxlbmd0aCA+IDEwMDApIHsKICAgICAgICAgICAgICAgICAgICBhdWRpdExvZ3MgPSBhdWRpdExvZ3Muc2xpY2UoLTEwMDApOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg2KrZhSDYqtiz2KzZitmEINin2YTYqti52K/ZitmEOicsIHsgZW50aXR5VHlwZSwgYWN0aW9uIH0pOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MINiu2LfYoyDZgdmKINiq2LPYrNmK2YQg2KfZhNiq2LnYr9mK2YQ6JywgZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2K/ZiNin2YQg2KrZhtiz2YrZgiDYp9mE2KrZiNin2LHZitiuINmI2KfZhNij2LHZgtin2YUgKNin2YTYqtmC2YjZitmFINin2YTZhdmK2YTYp9iv2Yog2YjYp9mE2KPYsdmC2KfZhSDYp9mE2KXZhtis2YTZitiy2YrYqSDZgdmC2LcpCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICAKICAgICAgICAvKioKICAgICAgICAgKiDYqtmG2LPZitmCINin2YTYqtin2LHZitiuINio2KfYs9iq2K7Yr9in2YUg2KfZhNiq2YLZiNmK2YUg2KfZhNmF2YrZhNin2K/ZiiDZiNin2YTYo9ix2YLYp9mFINin2YTYpdmG2KzZhNmK2LLZitipINmB2YLYtwogICAgICAgICAqIEBwYXJhbSB7RGF0ZXxzdHJpbmd8bnVtYmVyfG9iamVjdH0gZGF0ZSAtINin2YTYqtin2LHZitiuINin2YTZhdix2KfYryDYqtmG2LPZitmC2YcgKNmK2K/YudmFIEZpcmVzdG9yZSBUaW1lc3RhbXAg2YXYuSAuc2Vjb25kcykKICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtINiu2YrYp9ix2KfYqiDYpdi22KfZgdmK2Kkg2YTZhNiq2YbYs9mK2YIKICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtINin2YTYqtin2LHZitiuINin2YTZhdmG2LPZggogICAgICAgICAqLwogICAgICAgIGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICghZGF0ZSkgcmV0dXJuICcnOwogICAgICAgICAgICAKICAgICAgICAgICAgbGV0IGRhdGVPYmo7CiAgICAgICAgICAgIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgICAgICAgZGF0ZU9iaiA9IGRhdGU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0ZSAmJiB0eXBlb2YgZGF0ZSA9PT0gJ29iamVjdCcgJiYgZGF0ZS5zZWNvbmRzKSB7CiAgICAgICAgICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUoZGF0ZS5zZWNvbmRzICogMTAwMCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUoZGF0ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGUgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUoZGF0ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUoZGF0ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChpc05hTihkYXRlT2JqLmdldFRpbWUoKSkpIHJldHVybiAnJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2LPYqtiu2K/Yp9mFIGVuLVVTINmE2LbZhdin2YYg2KfZhNiq2YLZiNmK2YUg2KfZhNmF2YrZhNin2K/ZiiDZiNin2YTYo9ix2YLYp9mFINin2YTYpdmG2KzZhNmK2LLZitipCiAgICAgICAgICAgIHJldHVybiBkYXRlT2JqLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCBvcHRpb25zKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyoqCiAgICAgICAgICog2KrZhtiz2YrZgiDYp9mE2KrYp9ix2YrYriDZiNin2YTZiNmC2Kog2KjYp9iz2KrYrtiv2KfZhSDYp9mE2KrZgtmI2YrZhSDYp9mE2YXZitmE2KfYr9mKINmI2KfZhNij2LHZgtin2YUg2KfZhNil2YbYrNmE2YrYstmK2Kkg2YHZgti3CiAgICAgICAgICogQHBhcmFtIHtEYXRlfHN0cmluZ3xudW1iZXJ8b2JqZWN0fSBkYXRlIC0g2KfZhNiq2KfYsdmK2K4g2KfZhNmF2LHYp9ivINiq2YbYs9mK2YLZhyAo2YrYr9i52YUgRmlyZXN0b3JlIFRpbWVzdGFtcCDZhdi5IC5zZWNvbmRzKQogICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRlT3B0aW9ucyAtINiu2YrYp9ix2KfYqiDYqtmG2LPZitmCINin2YTYqtin2LHZitiuCiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRpbWVPcHRpb25zIC0g2K7Zitin2LHYp9iqINiq2YbYs9mK2YIg2KfZhNmI2YLYqgogICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0g2KfZhNiq2KfYsdmK2K4g2YjYp9mE2YjZgtiqINin2YTZhdmG2LPZgtmK2YYKICAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBmb3JtYXREYXRlVGltZShkYXRlLCBkYXRlT3B0aW9ucyA9IHt9LCB0aW1lT3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmICghZGF0ZSkgcmV0dXJuICcnOwogICAgICAgICAgICAKICAgICAgICAgICAgbGV0IGRhdGVPYmo7CiAgICAgICAgICAgIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgICAgICAgZGF0ZU9iaiA9IGRhdGU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0ZSAmJiB0eXBlb2YgZGF0ZSA9PT0gJ29iamVjdCcgJiYgZGF0ZS5zZWNvbmRzKSB7CiAgICAgICAgICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUoZGF0ZS5zZWNvbmRzICogMTAwMCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUoZGF0ZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGUgPT09ICdudW1iZXInKSB7CiAgICAgICAgICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUoZGF0ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkYXRlT2JqID0gbmV3IERhdGUoZGF0ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChpc05hTihkYXRlT2JqLmdldFRpbWUoKSkpIHJldHVybiAnJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2LPYqtiu2K/Yp9mFIGVuLVVTINmE2LbZhdin2YYg2KfZhNiq2YLZiNmK2YUg2KfZhNmF2YrZhNin2K/ZiiDZiNin2YTYo9ix2YLYp9mFINin2YTYpdmG2KzZhNmK2LLZitipCiAgICAgICAgICAgIHJldHVybiBkYXRlT2JqLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCBkYXRlT3B0aW9ucykgKyAnICcgKyAKICAgICAgICAgICAgICAgICAgIGRhdGVPYmoudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHRpbWVPcHRpb25zKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyoqCiAgICAgICAgICog2KrZhtiz2YrZgiDYp9mE2KPYsdmC2KfZhSDYqNin2LPYqtiu2K/Yp9mFINin2YTYo9ix2YLYp9mFINin2YTYpdmG2KzZhNmK2LLZitipINmB2YLYtwogICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgLSDYp9mE2LHZgtmFINin2YTZhdix2KfYryDYqtmG2LPZitmC2YcKICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtINiu2YrYp9ix2KfYqiDYpdi22KfZgdmK2Kkg2YTZhNiq2YbYs9mK2YIKICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtINin2YTYsdmC2YUg2KfZhNmF2YbYs9mCCiAgICAgICAgICovCiAgICAgICAgZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG51bWJlciwgb3B0aW9ucyA9IHt9KSB7CiAgICAgICAgICAgIGlmIChudW1iZXIgPT09IG51bGwgfHwgbnVtYmVyID09PSB1bmRlZmluZWQpIHJldHVybiAnMCc7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYp9iz2KrYrtiv2KfZhSBlbi1VUyDZhNi22YXYp9mGINin2YTYo9ix2YLYp9mFINin2YTYpdmG2KzZhNmK2LLZitipCiAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VuLVVTJywgb3B0aW9ucykuZm9ybWF0KG51bWJlcik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vINiq2K3ZhdmK2YQg2LPYrNmEINin2YTYqti52K/ZitmE2KfYqgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRBdWRpdExvZ3MobGltaXQgPSAxMDApIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgYXVkaXRSZWYgPSB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAnYXVkaXRMb2dzJyk7CiAgICAgICAgICAgICAgICBjb25zdCBxID0gd2luZG93LmZpcmVzdG9yZS5xdWVyeSgKICAgICAgICAgICAgICAgICAgICBhdWRpdFJlZiwKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLm9yZGVyQnkoJ3RpbWVzdGFtcCcsICdkZXNjJykKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgd2luZG93LmZpcmVzdG9yZS5nZXREb2NzKHEpOwogICAgICAgICAgICAgICAgYXVkaXRMb2dzID0gW107CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgICAgICAgICBhdWRpdExvZ3MucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogZGF0YS50aW1lc3RhbXA/LnRvRGF0ZT8uKCk/LnRvSVNPU3RyaW5nKCkgfHwgZGF0YS5jcmVhdGVkQXQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyDYp9mE2KfYrdiq2YHYp9i4INio2KLYrtixIGxpbWl0INiz2KzZhAogICAgICAgICAgICAgICAgYXVkaXRMb2dzID0gYXVkaXRMb2dzLnNsaWNlKDAsIGxpbWl0KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSDYqtmFINiq2K3ZhdmK2YQgJHthdWRpdExvZ3MubGVuZ3RofSDYs9is2YQg2KrYudiv2YrZhGApOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MINiu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2LPYrNmEINin2YTYqti52K/ZitmE2KfYqjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAvLyDZgdmKINit2KfZhNipINin2YTYrti32KPYjCDZhtiz2KrYrtiv2YUg2KfZhNiz2KzZhNin2Kog2KfZhNmF2K3ZhNmK2KkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8g2KfYs9iq2K7Yr9in2YUg2KfZhNiz2KzZhNin2Kog2KfZhNmF2K3ZhNmK2KknKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDYudix2LYg2LPYrNmEINin2YTYqti52K/ZitmE2KfYqgogICAgICAgIGZ1bmN0aW9uIGRpc3BsYXlBdWRpdExvZ3MoKSB7CiAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1ZGl0TG9nc1RhYmxlQm9keScpOwogICAgICAgICAgICBpZiAoIXRib2R5KSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoYXVkaXRMb2dzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gJzx0cj48dGQgY29sc3Bhbj0iNSIgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogNDBweDsgY29sb3I6ICM2NjY7Ij7ZhNinINiq2YjYrNivINiz2KzZhNin2Kog2KrYudiv2YrZhDwvdGQ+PC90cj4nOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBhY3Rpb25OYW1lcyA9IHsKICAgICAgICAgICAgICAgICdjcmVhdGUnOiAn2KXYttin2YHYqScsCiAgICAgICAgICAgICAgICAndXBkYXRlJzogJ9iq2LnYr9mK2YQnLAogICAgICAgICAgICAgICAgJ2RlbGV0ZSc6ICfYrdiw2YEnLAogICAgICAgICAgICAgICAgJ3ZpZXcnOiAn2LnYsdi2JwogICAgICAgICAgICB9OwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgZW50aXR5TmFtZXMgPSB7CiAgICAgICAgICAgICAgICAnZW1wbG95ZWUnOiAn2YXZiNi42YEnLAogICAgICAgICAgICAgICAgJ2V2YWx1YXRpb24nOiAn2KrZgtmK2YrZhSDYs9mG2YjZiicsCiAgICAgICAgICAgICAgICAncHJvamVjdCc6ICfZhdi02LHZiNi5JywKICAgICAgICAgICAgICAgICdsZWF2ZSc6ICfYpdis2KfYstipJywKICAgICAgICAgICAgICAgICd1c2VyJzogJ9mF2LPYqtiu2K/ZhScKICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9IGF1ZGl0TG9ncy5tYXAobG9nID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShsb2cudGltZXN0YW1wIHx8IGxvZy5jcmVhdGVkQXQpOwogICAgICAgICAgICAgICAgY29uc3QgZGF0ZVN0ciA9IGZvcm1hdERhdGVUaW1lKGRhdGUpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgZGV0YWlscyA9ICcnOwogICAgICAgICAgICAgICAgaWYgKGxvZy5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZy5lbnRpdHlUeXBlID09PSAnZW1wbG95ZWUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBsb2cuZGF0YS5lbXBsb3llZU5hbWUgfHwgbG9nLmRhdGEuZW1wbG95ZWVOdW1iZXIgfHwgJy0nOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9nLmVudGl0eVR5cGUgPT09ICdldmFsdWF0aW9uJykgewogICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gYNiz2YbYqSAke2xvZy5kYXRhLmV2YWx1YXRpb25ZZWFyIHx8IGxvZy5kYXRhLmV2YWx1YXRpb24/LnllYXIgfHwgJy0nfSAtINiq2YLZitmK2YUgJHtsb2cuZGF0YS5ldmFsdWF0aW9uUmF0aW5nIHx8IGxvZy5kYXRhLmV2YWx1YXRpb24/LnJhdGluZyB8fCAnLSd9LzVgOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBKU09OLnN0cmluZ2lmeShsb2cuZGF0YSkuc3Vic3RyaW5nKDAsIDUwKSArICcuLi4nOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcmV0dXJuIGAKICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2RhdGVTdHJ9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJiYWRnZSBiYWRnZS1pbmZvIj4ke2VudGl0eU5hbWVzW2xvZy5lbnRpdHlUeXBlXSB8fCBsb2cuZW50aXR5VHlwZX08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJiYWRnZSAke2xvZy5hY3Rpb24gPT09ICdkZWxldGUnID8gJ2JhZGdlLWRhbmdlcicgOiBsb2cuYWN0aW9uID09PSAnY3JlYXRlJyA/ICdiYWRnZS1zdWNjZXNzJyA6ICdiYWRnZS13YXJuaW5nJ30iPiR7YWN0aW9uTmFtZXNbbG9nLmFjdGlvbl0gfHwgbG9nLmFjdGlvbn08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7bG9nLnVzZXJFbWFpbCB8fCBsb2cudXNlcklkIHx8ICctJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9Im1heC13aWR0aDogMzAwcHg7IG92ZXJmbG93OiBoaWRkZW47IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyB3aGl0ZS1zcGFjZTogbm93cmFwOyIgdGl0bGU9IiR7ZGV0YWlsc30iPiR7ZGV0YWlscyB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgfSkuam9pbignJyk7CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vINil2K/Yp9ix2Kkg2KfZhNmF2LTYp9ix2YrYuQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9hZFByb2plY3RzKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlINi62YrYsSDZhdmH2YrYoycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0c1JlZiA9IHdpbmRvdy5maXJlc3RvcmUuY29sbGVjdGlvbih3aW5kb3cuZGIsICdwcm9qZWN0cycpOwogICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmdldERvY3MocHJvamVjdHNSZWYpOwogICAgICAgICAgICAgICAgcHJvamVjdHNEYXRhID0gW107CiAgICAgICAgICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNEYXRhLnB1c2goeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgZGlzcGxheVByb2plY3RzKCk7CiAgICAgICAgICAgICAgICB1cGRhdGVQcm9qZWN0c0NvdW50KCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTZhdi02KfYsdmK2Lk6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzVGFibGVCb2R5JykuaW5uZXJIVE1MID0gJzx0cj48dGQgY29sc3Bhbj0iNiIgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogNDBweDsgY29sb3I6ICNkYzM1NDU7Ij7Yrti32KMg2YHZiiDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2Ko8L3RkPjwvdHI+JzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZGlzcGxheVByb2plY3RzKCkgewogICAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0c1RhYmxlQm9keScpOwogICAgICAgICAgICBpZiAocHJvamVjdHNEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gJzx0cj48dGQgY29sc3Bhbj0iNyIgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogNDBweDsiPtmE2Kcg2KrZiNis2K8g2KjZitin2YbYp9iqPC90ZD48L3RyPic7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9IHByb2plY3RzRGF0YS5tYXAocHJvaiA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCByZWdpb24gPSByZWdpb25zRGF0YS5maW5kKHIgPT4gci5pZCA9PT0gcHJvai5yZWdpb25JZCk7CiAgICAgICAgICAgICAgICBjb25zdCByZWdpb25OYW1lID0gcmVnaW9uID8gcmVnaW9uLm5hbWUgOiAnLSc7CiAgICAgICAgICAgICAgICByZXR1cm4gYAogICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzdHJvbmcgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyI+JHtwcm9qLmNvZGUgfHwgJy0nfTwvc3Ryb25nPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+JHtwcm9qLm5hbWUgfHwgJy0nfTwvc3Ryb25nPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtwcm9qLm5hbWVFbiA/IGA8YnI+PHNtYWxsIHN0eWxlPSJjb2xvcjogIzk5OTsgZm9udC1zaXplOiAwLjg1ZW07Ij4ke3Byb2oubmFtZUVufTwvc21hbGw+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtyZWdpb25OYW1lfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Byb2ouc3RhcnREYXRlIHx8ICctJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwcm9qLmVuZERhdGUgfHwgJy0nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48c3BhbiBjbGFzcz0iYmFkZ2UgJHtnZXRTdGF0dXNCYWRnZShwcm9qLnN0YXR1cyl9Ij4ke2dldFN0YXR1c05hbWUocHJvai5zdGF0dXMpfTwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImFjdGlvbi1idXR0b25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZWRpdFByb2plY3QoJyR7cHJvai5pZH0nKSI+2KrYudiv2YrZhDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRlbGV0ZVByb2plY3QoJyR7cHJvai5pZH0nKSI+2K3YsNmBPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZmlsdGVyUHJvamVjdHMoKSB7CiAgICAgICAgICAgIGNvbnN0IHNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0U2VhcmNoJykudmFsdWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgY29uc3Qgc3RhdHVzRmlsdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RTdGF0dXNGaWx0ZXInKS52YWx1ZTsKCiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gcHJvamVjdHNEYXRhLmZpbHRlcihwcm9qID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoU2VhcmNoID0gIXNlYXJjaCB8fCAKICAgICAgICAgICAgICAgICAgICAocHJvai5uYW1lICYmIHByb2oubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkpIHx8CiAgICAgICAgICAgICAgICAgICAgKHByb2oubmFtZUVuICYmIHByb2oubmFtZUVuLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSkgfHwKICAgICAgICAgICAgICAgICAgICAocHJvai5jb2RlICYmIHByb2ouY29kZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaFN0YXR1cyA9ICFzdGF0dXNGaWx0ZXIgfHwgcHJvai5zdGF0dXMgPT09IHN0YXR1c0ZpbHRlcjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoU2VhcmNoICYmIG1hdGNoU3RhdHVzOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49IjciIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7Ij7ZhNinINiq2YjYrNivINmG2KrYp9im2Kw8L3RkPjwvdHI+JzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9IGZpbHRlcmVkLm1hcChwcm9qID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdpb24gPSByZWdpb25zRGF0YS5maW5kKHIgPT4gci5pZCA9PT0gcHJvai5yZWdpb25JZCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaW9uTmFtZSA9IHJlZ2lvbiA/IHJlZ2lvbi5uYW1lIDogJy0nOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBgCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48c3Ryb25nIHN0eWxlPSJjb2xvcjogIzY2N2VlYTsiPiR7cHJvai5jb2RlIHx8ICctJ308L3N0cm9uZz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+JHtwcm9qLm5hbWUgfHwgJy0nfTwvc3Ryb25nPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7cHJvai5uYW1lRW4gPyBgPGJyPjxzbWFsbCBzdHlsZT0iY29sb3I6ICM5OTk7IGZvbnQtc2l6ZTogMC44NWVtOyI+JHtwcm9qLm5hbWVFbn08L3NtYWxsPmAgOiAnJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtyZWdpb25OYW1lfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwcm9qLnN0YXJ0RGF0ZSB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Byb2ouZW5kRGF0ZSB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48c3BhbiBjbGFzcz0iYmFkZ2UgJHtnZXRTdGF0dXNCYWRnZShwcm9qLnN0YXR1cyl9Ij4ke2dldFN0YXR1c05hbWUocHJvai5zdGF0dXMpfTwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJhY3Rpb24tYnV0dG9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJlZGl0UHJvamVjdCgnJHtwcm9qLmlkfScpIj7Yqti52K/ZitmEPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRlbGV0ZVByb2plY3QoJyR7cHJvai5pZH0nKSI+2K3YsNmBPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzQ291bnQnKS50ZXh0Q29udGVudCA9IGDYpdis2YXYp9mE2Yog2KfZhNmF2LTYp9ix2YrYuTogJHtmaWx0ZXJlZC5sZW5ndGh9YDsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNsZWFyUHJvamVjdEZpbHRlcnMoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0U2VhcmNoJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RTdGF0dXNGaWx0ZXInKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkaXNwbGF5UHJvamVjdHMoKTsKICAgICAgICAgICAgdXBkYXRlUHJvamVjdHNDb3VudCgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlUHJvamVjdHNDb3VudCgpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RzQ291bnQnKS50ZXh0Q29udGVudCA9IGDYpdis2YXYp9mE2Yog2KfZhNmF2LTYp9ix2YrYuTogJHtwcm9qZWN0c0RhdGEubGVuZ3RofWA7CiAgICAgICAgfQoKICAgICAgICAvLyDYqtmI2YTZitivINix2YXYsiDYp9mE2YXYtNix2YjYuSDYqtmE2YLYp9im2YrYp9mLCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVQcm9qZWN0Q29kZSgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdQUkotMDAxJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0c1JlZiA9IHdpbmRvdy5maXJlc3RvcmUuY29sbGVjdGlvbih3aW5kb3cuZGIsICdwcm9qZWN0cycpOwogICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmdldERvY3MocHJvamVjdHNSZWYpOwogICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBzbmFwc2hvdC5zaXplOwogICAgICAgICAgICAgICAgY29uc3QgY29kZU51bWJlciA9IFN0cmluZyhjb3VudCArIDEpLnBhZFN0YXJ0KDMsICcwJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gYFBSSi0ke2NvZGVOdW1iZXJ9YDsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2LHZhdiyINin2YTZhdi02LHZiNi5OicsIGVycm9yKTsKICAgICAgICAgICAgICAgIHJldHVybiAnUFJKLTAwMSc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINi52LHYtiDZhtin2YHYsNipINil2LbYp9mB2Kkg2YXYtNix2YjYuQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHNob3dBZGRQcm9qZWN0Rm9ybSgpIHsKICAgICAgICAgICAgZWRpdGluZ1Byb2plY3RJZCA9IG51bGw7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RNb2RhbCcpOwogICAgICAgICAgICBpZiAoIW1vZGFsKSByZXR1cm47CgogICAgICAgICAgICAvLyDYqti32KjZitmCINin2YTYqtix2KzZhdin2Kog2YLYqNmEINmB2KrYrSDYp9mE2YbYp9mB2LDYqQogICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9ucygpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFN1Ym1pdEJ0bicpLnNldEF0dHJpYnV0ZSgnb25jbGljaycsICdhZGRQcm9qZWN0KCknKTsKCiAgICAgICAgICAgIC8vINiq2YjZhNmK2K8g2LHZhdiyINin2YTZhdi02LHZiNi5CiAgICAgICAgICAgIGNvbnN0IHByb2plY3RDb2RlID0gYXdhaXQgZ2VuZXJhdGVQcm9qZWN0Q29kZSgpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdENvZGUnKS50ZXh0Q29udGVudCA9IHByb2plY3RDb2RlOwoKICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDYp9mE2YXZhtin2LfZggogICAgICAgICAgICBhd2FpdCBsb2FkUmVnaW9ucygpOwogICAgICAgICAgICBjb25zdCByZWdpb25TZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFJlZ2lvbicpOwogICAgICAgICAgICBpZiAocmVnaW9uU2VsZWN0KSB7CiAgICAgICAgICAgICAgICByZWdpb25TZWxlY3QuaW5uZXJIVE1MID0gJzxvcHRpb24gdmFsdWU9IiI+LS0g2KfYrtiq2LEg2KfZhNmF2YbYt9mC2KkgLS08L29wdGlvbj4nOwogICAgICAgICAgICAgICAgcmVnaW9uc0RhdGEuZm9yRWFjaChyZWdpb24gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOwogICAgICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IHJlZ2lvbi5pZDsKICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSByZWdpb24ubmFtZTsKICAgICAgICAgICAgICAgICAgICByZWdpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDZhdiz2K0g2KfZhNit2YLZiNmECiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0TmFtZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0TmFtZUVuJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3REZXNjcmlwdGlvbicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0U3RhcnREYXRlJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RFbmREYXRlJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RTdGF0dXMnKS52YWx1ZSA9ICdhY3RpdmUnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFJlZ2lvbicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0SXNHZW5lcmFsTWFuYWdlbWVudCcpLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RHZW5lcmFsTWFuYWdlcicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0RXhlY3V0aXZlTWFuYWdlcicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZW5lcmFsTWFuYWdlbWVudEZpZWxkcycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgogICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICB9CgogICAgICAgIC8vINiq2KjYr9mK2YQg2LnYsdi2INit2YLZiNmEINin2YTYpdiv2KfYsdipINin2YTYudin2YXYqQogICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUdlbmVyYWxNYW5hZ2VtZW50RmllbGRzKCkgewogICAgICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0SXNHZW5lcmFsTWFuYWdlbWVudCcpOwogICAgICAgICAgICBjb25zdCBmaWVsZHNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2VuZXJhbE1hbmFnZW1lbnRGaWVsZHMnKTsKICAgICAgICAgICAgaWYgKGNoZWNrYm94ICYmIGZpZWxkc0RpdikgewogICAgICAgICAgICAgICAgZmllbGRzRGl2LnN0eWxlLmRpc3BsYXkgPSBjaGVja2JveC5jaGVja2VkID8gJ2Jsb2NrJyA6ICdub25lJzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KXYrtmB2KfYoSDZhtin2YHYsNipINil2LbYp9mB2Kkg2YXYtNix2YjYuQogICAgICAgIGZ1bmN0aW9uIGhpZGVBZGRQcm9qZWN0Rm9ybSgpIHsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdE1vZGFsJyk7CiAgICAgICAgICAgIGlmIChtb2RhbCkgewogICAgICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWRpdGluZ1Byb2plY3RJZCA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICAvLyDYpdi22KfZgdipINmF2LTYsdmI2LkKICAgICAgICBhc3luYyBmdW5jdGlvbiBhZGRQcm9qZWN0KCkgewogICAgICAgICAgICBpZiAoZWRpdGluZ1Byb2plY3RJZCkgewogICAgICAgICAgICAgICAgdXBkYXRlUHJvamVjdCgpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ0ZpcmViYXNlINi62YrYsSDZhdmH2YrYoycpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBpc0dlbmVyYWxNYW5hZ2VtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RJc0dlbmVyYWxNYW5hZ2VtZW50JykuY2hlY2tlZDsKICAgICAgICAgICAgY29uc3QgcHJvamVjdERhdGEgPSB7CiAgICAgICAgICAgICAgICBjb2RlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdENvZGUnKS50ZXh0Q29udGVudCwKICAgICAgICAgICAgICAgIG5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0TmFtZScpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIG5hbWVFbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3ROYW1lRW4nKS52YWx1ZS50cmltKCkgfHwgbnVsbCwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdERlc2NyaXB0aW9uJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgc3RhcnREYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFN0YXJ0RGF0ZScpLnZhbHVlLAogICAgICAgICAgICAgICAgZW5kRGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RFbmREYXRlJykudmFsdWUsCiAgICAgICAgICAgICAgICBzdGF0dXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0U3RhdHVzJykudmFsdWUgfHwgJ2FjdGl2ZScsCiAgICAgICAgICAgICAgICByZWdpb25JZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RSZWdpb24nKS52YWx1ZSB8fCBudWxsLAogICAgICAgICAgICAgICAgaXNHZW5lcmFsTWFuYWdlbWVudDogaXNHZW5lcmFsTWFuYWdlbWVudCwKICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogd2luZG93LmZpcmVzdG9yZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogY3VycmVudFVzZXI/LnVpZCB8fCAnc3lzdGVtJwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8g2KXYttin2YHYqSDZhdi52YTZiNmF2KfYqiDYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2Kkg2KXYsNinINmD2KfZhiDYp9mE2YXYtNix2YjYuSDYpdiv2KfYsdipINi52KfZhdipCiAgICAgICAgICAgIGlmIChpc0dlbmVyYWxNYW5hZ2VtZW50KSB7CiAgICAgICAgICAgICAgICBwcm9qZWN0RGF0YS5nZW5lcmFsTWFuYWdlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0R2VuZXJhbE1hbmFnZXInKS52YWx1ZS50cmltKCk7CiAgICAgICAgICAgICAgICBwcm9qZWN0RGF0YS5leGVjdXRpdmVNYW5hZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RFeGVjdXRpdmVNYW5hZ2VyJykudmFsdWUudHJpbSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXByb2plY3REYXRhLm5hbWUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDYp9iz2YUg2KfZhNmF2LTYsdmI2LknKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuYWRkRG9jKAogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5maXJlc3RvcmUuY29sbGVjdGlvbih3aW5kb3cuZGIsICdwcm9qZWN0cycpLAogICAgICAgICAgICAgICAgICAgIHByb2plY3REYXRhCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIGFsZXJ0KCfYqtmFINil2LbYp9mB2Kkg2KfZhNmF2LTYsdmI2Lkg2KjZhtis2KfYrSEnKTsKICAgICAgICAgICAgICAgIGhpZGVBZGRQcm9qZWN0Rm9ybSgpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZFByb2plY3RzKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRGFzaGJvYXJkU3RhdHMoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYpdi22KfZgdipINin2YTZhdi02LHZiNi5OiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KrYudiv2YrZhCDZhdi02LHZiNi5CiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZWRpdFByb2plY3QoaWQpIHsKICAgICAgICAgICAgZWRpdGluZ1Byb2plY3RJZCA9IGlkOwogICAgICAgICAgICBjb25zdCBwcm9qID0gcHJvamVjdHNEYXRhLmZpbmQocCA9PiBwLmlkID09PSBpZCk7CiAgICAgICAgICAgIGlmICghcHJvaikgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTZhdi02LHZiNi5INi62YrYsSDZhdmI2KzZiNivJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RNb2RhbCcpOwogICAgICAgICAgICBpZiAoIW1vZGFsKSByZXR1cm47CgogICAgICAgICAgICAvLyDYqti32KjZitmCINin2YTYqtix2KzZhdin2Kog2YLYqNmEINmB2KrYrSDYp9mE2YbYp9mB2LDYqQogICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9ucygpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFN1Ym1pdEJ0bicpLnNldEF0dHJpYnV0ZSgnb25jbGljaycsICd1cGRhdGVQcm9qZWN0KCknKTsKCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0Q29kZScpLnRleHRDb250ZW50ID0gcHJvai5jb2RlIHx8ICdQUkotMDAxJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3ROYW1lJykudmFsdWUgPSBwcm9qLm5hbWUgfHwgJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0TmFtZUVuJykudmFsdWUgPSBwcm9qLm5hbWVFbiB8fCAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3REZXNjcmlwdGlvbicpLnZhbHVlID0gcHJvai5kZXNjcmlwdGlvbiB8fCAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RTdGFydERhdGUnKS52YWx1ZSA9IHByb2ouc3RhcnREYXRlIHx8ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdEVuZERhdGUnKS52YWx1ZSA9IHByb2ouZW5kRGF0ZSB8fCAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RTdGF0dXMnKS52YWx1ZSA9IHByb2ouc3RhdHVzIHx8ICdhY3RpdmUnOwoKICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDYp9mE2YXZhtin2LfZgiDZiNiq2LnZitmK2YYg2KfZhNmF2YbYt9mC2Kkg2KfZhNmF2K3Yr9iv2KkKICAgICAgICAgICAgYXdhaXQgbG9hZFJlZ2lvbnMoKTsKICAgICAgICAgICAgY29uc3QgcmVnaW9uU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RSZWdpb24nKTsKICAgICAgICAgICAgaWYgKHJlZ2lvblNlbGVjdCkgewogICAgICAgICAgICAgICAgcmVnaW9uU2VsZWN0LmlubmVySFRNTCA9ICc8b3B0aW9uIHZhbHVlPSIiPi0tINin2K7YqtixINin2YTZhdmG2LfZgtipIC0tPC9vcHRpb24+JzsKICAgICAgICAgICAgICAgIHJlZ2lvbnNEYXRhLmZvckVhY2gocmVnaW9uID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSByZWdpb24uaWQ7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gcmVnaW9uLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2oucmVnaW9uSWQgPT09IHJlZ2lvbi5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZWdpb25TZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYqtit2YXZitmEINio2YrYp9mG2KfYqiDYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2KkKICAgICAgICAgICAgY29uc3QgaXNHZW5lcmFsTWFuYWdlbWVudCA9IHByb2ouaXNHZW5lcmFsTWFuYWdlbWVudCB8fCBmYWxzZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RJc0dlbmVyYWxNYW5hZ2VtZW50JykuY2hlY2tlZCA9IGlzR2VuZXJhbE1hbmFnZW1lbnQ7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0R2VuZXJhbE1hbmFnZXInKS52YWx1ZSA9IHByb2ouZ2VuZXJhbE1hbmFnZXIgfHwgJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0RXhlY3V0aXZlTWFuYWdlcicpLnZhbHVlID0gcHJvai5leGVjdXRpdmVNYW5hZ2VyIHx8ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2VuZXJhbE1hbmFnZW1lbnRGaWVsZHMnKS5zdHlsZS5kaXNwbGF5ID0gaXNHZW5lcmFsTWFuYWdlbWVudCA/ICdibG9jaycgOiAnbm9uZSc7CgogICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICB9CgogICAgICAgIC8vINiq2K3Yr9mK2Ksg2YXYtNix2YjYuQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVByb2plY3QoKSB7CiAgICAgICAgICAgIGlmICghZWRpdGluZ1Byb2plY3RJZCkgcmV0dXJuOwoKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgaXNHZW5lcmFsTWFuYWdlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0SXNHZW5lcmFsTWFuYWdlbWVudCcpLmNoZWNrZWQ7CiAgICAgICAgICAgIGNvbnN0IHByb2plY3REYXRhID0gewogICAgICAgICAgICAgICAgbmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3ROYW1lJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgbmFtZUVuOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdE5hbWVFbicpLnZhbHVlLnRyaW0oKSB8fCBudWxsLAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0RGVzY3JpcHRpb24nKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICBzdGFydERhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0U3RhcnREYXRlJykudmFsdWUsCiAgICAgICAgICAgICAgICBlbmREYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdEVuZERhdGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgIHN0YXR1czogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RTdGF0dXMnKS52YWx1ZSB8fCAnYWN0aXZlJywKICAgICAgICAgICAgICAgIHJlZ2lvbklkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdFJlZ2lvbicpLnZhbHVlIHx8IG51bGwsCiAgICAgICAgICAgICAgICBpc0dlbmVyYWxNYW5hZ2VtZW50OiBpc0dlbmVyYWxNYW5hZ2VtZW50LAogICAgICAgICAgICAgICAgdXBkYXRlZEF0OiB3aW5kb3cuZmlyZXN0b3JlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICAgICAgdXBkYXRlZEJ5OiBjdXJyZW50VXNlcj8udWlkIHx8ICdzeXN0ZW0nCiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvLyDYpdi22KfZgdipINmF2LnZhNmI2YXYp9iqINin2YTYpdiv2KfYsdipINin2YTYudin2YXYqSDYpdiw2Kcg2YPYp9mGINin2YTZhdi02LHZiNi5INil2K/Yp9ix2Kkg2LnYp9mF2KkKICAgICAgICAgICAgaWYgKGlzR2VuZXJhbE1hbmFnZW1lbnQpIHsKICAgICAgICAgICAgICAgIHByb2plY3REYXRhLmdlbmVyYWxNYW5hZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3RHZW5lcmFsTWFuYWdlcicpLnZhbHVlLnRyaW0oKTsKICAgICAgICAgICAgICAgIHByb2plY3REYXRhLmV4ZWN1dGl2ZU1hbmFnZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdEV4ZWN1dGl2ZU1hbmFnZXInKS52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDYpdiy2KfZhNipINmF2LnZhNmI2YXYp9iqINin2YTYpdiv2KfYsdipINin2YTYudin2YXYqSDYpdiw2Kcg2YTZhSDZiti52K8g2KfZhNmF2LTYsdmI2Lkg2KXYr9in2LHYqSDYudin2YXYqQogICAgICAgICAgICAgICAgcHJvamVjdERhdGEuZ2VuZXJhbE1hbmFnZXIgPSBudWxsOwogICAgICAgICAgICAgICAgcHJvamVjdERhdGEuZXhlY3V0aXZlTWFuYWdlciA9IG51bGw7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghcHJvamVjdERhdGEubmFtZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYsdis2KfYoSDYpdiv2K7Yp9mEINin2LPZhSDYp9mE2YXYtNix2YjYuScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS51cGRhdGVEb2MoCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAncHJvamVjdHMnLCBlZGl0aW5nUHJvamVjdElkKSwKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0RGF0YQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICBhbGVydCgn2KrZhSDYqtit2K/ZitirINin2YTZhdi02LHZiNi5INio2YbYrNin2K0hJyk7CiAgICAgICAgICAgICAgICBoaWRlQWRkUHJvamVjdEZvcm0oKTsKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRQcm9qZWN0cygpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZERhc2hib2FyZFN0YXRzKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2KrYrdiv2YrYqyDYp9mE2YXYtNix2YjYuTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINit2LDZgSDZhdi02LHZiNi5CiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUHJvamVjdChpZCkgewogICAgICAgICAgICBpZiAoIWNvbmZpcm0oJ9mH2YQg2KPZhtiqINmF2KrYo9mD2K8g2YXZhiDYrdiw2YEg2YfYsNinINin2YTZhdi02LHZiNi52J8nKSkgcmV0dXJuOwoKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuZGVsZXRlRG9jKAogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5maXJlc3RvcmUuZG9jKHdpbmRvdy5kYiwgJ3Byb2plY3RzJywgaWQpCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIGFsZXJ0KCfYqtmFINit2LDZgSDYp9mE2YXYtNix2YjYuSDYqNmG2KzYp9itIScpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZFByb2plY3RzKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRGFzaGJvYXJkU3RhdHMoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYrdiw2YEg2KfZhNmF2LTYsdmI2Lk6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vINil2K/Yp9ix2Kkg2KfZhNmF2YbYp9i32YIKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRSZWdpb25zKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlINi62YrYsSDZhdmH2YrYoycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCByZWdpb25zUmVmID0gd2luZG93LmZpcmVzdG9yZS5jb2xsZWN0aW9uKHdpbmRvdy5kYiwgJ3JlZ2lvbnMnKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgd2luZG93LmZpcmVzdG9yZS5nZXREb2NzKHJlZ2lvbnNSZWYpOwogICAgICAgICAgICAgICAgcmVnaW9uc0RhdGEgPSBbXTsKICAgICAgICAgICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICAgICAgICAgICAgICByZWdpb25zRGF0YS5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uc1RhYmxlQm9keScpKSB7CiAgICAgICAgICAgICAgICAgICAgZGlzcGxheVJlZ2lvbnMoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNmF2YbYp9i32YI6JywgZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkaXNwbGF5UmVnaW9ucygpIHsKICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uc1RhYmxlQm9keScpOwogICAgICAgICAgICBpZiAoIXRib2R5KSByZXR1cm47CgogICAgICAgICAgICBpZiAocmVnaW9uc0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSAnPHRyPjx0ZCBjb2xzcGFuPSI0IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyI+2YTYpyDYqtmI2KzYryDYqNmK2KfZhtin2Ko8L3RkPjwvdHI+JzsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gcmVnaW9uc0RhdGEubWFwKHJlZ2lvbiA9PiB7CiAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYudiv2K8g2KfZhNmF2LTYp9ix2YrYuSDZgdmKINmH2LDZhyDYp9mE2YXZhti32YLYqQogICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdHNDb3VudCA9IHByb2plY3RzRGF0YS5maWx0ZXIocCA9PiBwLnJlZ2lvbklkID09PSByZWdpb24uaWQpLmxlbmd0aDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcmV0dXJuIGAKICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyI+JHtyZWdpb24ubmFtZSB8fCAnLSd9PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3JlZ2lvbi5uYW1lRW4gPyBgPGJyPjxzbWFsbCBzdHlsZT0iY29sb3I6ICM5OTk7IGZvbnQtc2l6ZTogMC44NWVtOyI+JHtyZWdpb24ubmFtZUVufTwvc21hbGw+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtyZWdpb24uZGVzY3JpcHRpb24gfHwgJy0nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48c3BhbiBjbGFzcz0iYmFkZ2UgYmFkZ2UtaW5mbyI+JHtwcm9qZWN0c0NvdW50fTwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImFjdGlvbi1idXR0b25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZWRpdFJlZ2lvbignJHtyZWdpb24uaWR9JykiPtiq2LnYr9mK2YQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJkZWxldGVSZWdpb24oJyR7cmVnaW9uLmlkfScpIj7Yrdiw2YE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgfSkuam9pbignJyk7CgogICAgICAgICAgICB1cGRhdGVSZWdpb25zQ291bnQoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGZpbHRlclJlZ2lvbnMoKSB7CiAgICAgICAgICAgIGNvbnN0IHNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpb25TZWFyY2gnKS52YWx1ZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHJlZ2lvbnNEYXRhLmZpbHRlcihyZWdpb24gPT4gewogICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hTZWFyY2ggPSAhc2VhcmNoIHx8IAogICAgICAgICAgICAgICAgICAgIChyZWdpb24ubmFtZSAmJiByZWdpb24ubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkpIHx8CiAgICAgICAgICAgICAgICAgICAgKHJlZ2lvbi5uYW1lRW4gJiYgcmVnaW9uLm5hbWVFbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkpIHx8CiAgICAgICAgICAgICAgICAgICAgKHJlZ2lvbi5kZXNjcmlwdGlvbiAmJiByZWdpb24uZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpKTsKICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaFNlYXJjaDsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpb25zVGFibGVCb2R5Jyk7CiAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49IjQiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7Ij7ZhNinINiq2YjYrNivINmG2KrYp9im2Kw8L3RkPjwvdHI+JzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9IGZpbHRlcmVkLm1hcChyZWdpb24gPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RzQ291bnQgPSBwcm9qZWN0c0RhdGEuZmlsdGVyKHAgPT4gcC5yZWdpb25JZCA9PT0gcmVnaW9uLmlkKS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAKICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyI+JHtyZWdpb24ubmFtZSB8fCAnLSd9PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtyZWdpb24ubmFtZUVuID8gYDxicj48c21hbGwgc3R5bGU9ImNvbG9yOiAjOTk5OyBmb250LXNpemU6IDAuODVlbTsiPiR7cmVnaW9uLm5hbWVFbn08L3NtYWxsPmAgOiAnJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtyZWdpb24uZGVzY3JpcHRpb24gfHwgJy0nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9ImJhZGdlIGJhZGdlLWluZm8iPiR7cHJvamVjdHNDb3VudH08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYWN0aW9uLWJ1dHRvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZWRpdFJlZ2lvbignJHtyZWdpb24uaWR9JykiPtiq2LnYr9mK2YQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iZGVsZXRlUmVnaW9uKCcke3JlZ2lvbi5pZH0nKSI+2K3YsNmBPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgY291bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpb25zQ291bnQnKTsKICAgICAgICAgICAgaWYgKGNvdW50RWwpIHsKICAgICAgICAgICAgICAgIGNvdW50RWwudGV4dENvbnRlbnQgPSBg2KXYrNmF2KfZhNmKINin2YTZhdmG2KfYt9mCOiAke2ZpbHRlcmVkLmxlbmd0aH1gOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjbGVhclJlZ2lvbkZpbHRlcnMoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpb25TZWFyY2gnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkaXNwbGF5UmVnaW9ucygpOwogICAgICAgICAgICB1cGRhdGVSZWdpb25zQ291bnQoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVJlZ2lvbnNDb3VudCgpIHsKICAgICAgICAgICAgY29uc3QgY291bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpb25zQ291bnQnKTsKICAgICAgICAgICAgaWYgKGNvdW50RWwpIHsKICAgICAgICAgICAgICAgIGNvdW50RWwudGV4dENvbnRlbnQgPSBg2KXYrNmF2KfZhNmKINin2YTZhdmG2KfYt9mCOiAke3JlZ2lvbnNEYXRhLmxlbmd0aH1gOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBzaG93QWRkUmVnaW9uRm9ybSgpIHsKICAgICAgICAgICAgZWRpdGluZ1JlZ2lvbklkID0gbnVsbDsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uTW9kYWwnKTsKICAgICAgICAgICAgaWYgKCFtb2RhbCkgcmV0dXJuOwoKICAgICAgICAgICAgLy8g2KrYt9io2YrZgiDYp9mE2KrYsdis2YXYp9iqINmC2KjZhCDZgdiq2K0g2KfZhNmG2KfZgdiw2KkKICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbnMoKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lvblN1Ym1pdEJ0bicpLnNldEF0dHJpYnV0ZSgnb25jbGljaycsICdhZGRSZWdpb24oKScpOwoKICAgICAgICAgICAgLy8g2YXYs9itINin2YTYrdmC2YjZhAogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uTmFtZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpb25OYW1lRW4nKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uRGVzY3JpcHRpb24nKS52YWx1ZSA9ICcnOwoKICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoaWRlQWRkUmVnaW9uRm9ybSgpIHsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uTW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlZGl0aW5nUmVnaW9uSWQgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gYWRkUmVnaW9uKCkgewogICAgICAgICAgICBpZiAoZWRpdGluZ1JlZ2lvbklkKSB7CiAgICAgICAgICAgICAgICB1cGRhdGVSZWdpb24oKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgcmVnaW9uRGF0YSA9IHsKICAgICAgICAgICAgICAgIG5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpb25OYW1lJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgbmFtZUVuOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uTmFtZUVuJykudmFsdWUudHJpbSgpIHx8IG51bGwsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lvbkRlc2NyaXB0aW9uJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgY3JlYXRlZEF0OiB3aW5kb3cuZmlyZXN0b3JlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlcj8udWlkIHx8ICdzeXN0ZW0nCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAoIXJlZ2lvbkRhdGEubmFtZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYsdis2KfYoSDYpdiv2K7Yp9mEINin2LPZhSDYp9mE2YXZhti32YLYqScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS5hZGREb2MoCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5jb2xsZWN0aW9uKHdpbmRvdy5kYiwgJ3JlZ2lvbnMnKSwKICAgICAgICAgICAgICAgICAgICByZWdpb25EYXRhCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIGFsZXJ0KCfYqtmFINil2LbYp9mB2Kkg2KfZhNmF2YbYt9mC2Kkg2KjZhtis2KfYrSEnKTsKICAgICAgICAgICAgICAgIGhpZGVBZGRSZWdpb25Gb3JtKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkUmVnaW9ucygpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgYWxlcnQoJ9iu2LfYoyDZgdmKINil2LbYp9mB2Kkg2KfZhNmF2YbYt9mC2Kk6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBhc3luYyBmdW5jdGlvbiBlZGl0UmVnaW9uKGlkKSB7CiAgICAgICAgICAgIGVkaXRpbmdSZWdpb25JZCA9IGlkOwogICAgICAgICAgICBjb25zdCByZWdpb24gPSByZWdpb25zRGF0YS5maW5kKHIgPT4gci5pZCA9PT0gaWQpOwogICAgICAgICAgICBpZiAoIXJlZ2lvbikgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTZhdmG2LfZgtipINi62YrYsSDZhdmI2KzZiNiv2KknKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uTW9kYWwnKTsKICAgICAgICAgICAgaWYgKCFtb2RhbCkgcmV0dXJuOwoKICAgICAgICAgICAgLy8g2KrYt9io2YrZgiDYp9mE2KrYsdis2YXYp9iqINmC2KjZhCDZgdiq2K0g2KfZhNmG2KfZgdiw2KkKICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbnMoKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lvblN1Ym1pdEJ0bicpLnNldEF0dHJpYnV0ZSgnb25jbGljaycsICd1cGRhdGVSZWdpb24oKScpOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lvbk5hbWUnKS52YWx1ZSA9IHJlZ2lvbi5uYW1lIHx8ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uTmFtZUVuJykudmFsdWUgPSByZWdpb24ubmFtZUVuIHx8ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uRGVzY3JpcHRpb24nKS52YWx1ZSA9IHJlZ2lvbi5kZXNjcmlwdGlvbiB8fCAnJzsKCiAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUmVnaW9uKCkgewogICAgICAgICAgICBpZiAoIWVkaXRpbmdSZWdpb25JZCkgcmV0dXJuOwoKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgcmVnaW9uRGF0YSA9IHsKICAgICAgICAgICAgICAgIG5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpb25OYW1lJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgbmFtZUVuOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaW9uTmFtZUVuJykudmFsdWUudHJpbSgpIHx8IG51bGwsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lvbkRlc2NyaXB0aW9uJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgdXBkYXRlZEF0OiB3aW5kb3cuZmlyZXN0b3JlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICAgICAgdXBkYXRlZEJ5OiBjdXJyZW50VXNlcj8udWlkIHx8ICdzeXN0ZW0nCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAoIXJlZ2lvbkRhdGEubmFtZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYsdis2KfYoSDYpdiv2K7Yp9mEINin2LPZhSDYp9mE2YXZhti32YLYqScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS51cGRhdGVEb2MoCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAncmVnaW9ucycsIGVkaXRpbmdSZWdpb25JZCksCiAgICAgICAgICAgICAgICAgICAgcmVnaW9uRGF0YQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICBhbGVydCgn2KrZhSDYqtit2K/ZitirINin2YTZhdmG2LfZgtipINio2YbYrNin2K0hJyk7CiAgICAgICAgICAgICAgICBoaWRlQWRkUmVnaW9uRm9ybSgpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZFJlZ2lvbnMoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYqtit2K/ZitirINin2YTZhdmG2LfZgtipOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUmVnaW9uKGlkKSB7CiAgICAgICAgICAgIGlmICghY29uZmlybSgn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINit2LDZgSDZh9iw2Ycg2KfZhNmF2YbYt9mC2KnYn1xuXG7ZhdmE2KfYrdi42Kk6INiz2YrYqtmFINil2LLYp9mE2Kkg2LHYqNi3INin2YTZhdi02KfYsdmK2Lkg2KjZh9iw2Ycg2KfZhNmF2YbYt9mC2KkuJykpIHJldHVybjsKCiAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyDYpdiy2KfZhNipINix2KjYtyDYp9mE2YXYtNin2LHZiti5INio2YfYsNmHINin2YTZhdmG2LfZgtipCiAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0c0luUmVnaW9uID0gcHJvamVjdHNEYXRhLmZpbHRlcihwID0+IHAucmVnaW9uSWQgPT09IGlkKTsKICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvamVjdCBvZiBwcm9qZWN0c0luUmVnaW9uKSB7CiAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS51cGRhdGVEb2MoCiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5maXJlc3RvcmUuZG9jKHdpbmRvdy5kYiwgJ3Byb2plY3RzJywgcHJvamVjdC5pZCksCiAgICAgICAgICAgICAgICAgICAgICAgIHsgcmVnaW9uSWQ6IG51bGwgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS5kZWxldGVEb2MoCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAncmVnaW9ucycsIGlkKQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICBhbGVydCgn2KrZhSDYrdiw2YEg2KfZhNmF2YbYt9mC2Kkg2KjZhtis2KfYrSEnKTsKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRSZWdpb25zKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkUHJvamVjdHMoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYrdiw2YEg2KfZhNmF2YbYt9mC2Kk6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vINil2K/Yp9ix2Kkg2KfZhNij2YLYs9in2YUKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWREZXBhcnRtZW50cygpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgZGVwYXJ0bWVudHNSZWYgPSB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAnZGVwYXJ0bWVudHMnKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgd2luZG93LmZpcmVzdG9yZS5nZXREb2NzKGRlcGFydG1lbnRzUmVmKTsKICAgICAgICAgICAgICAgIGRlcGFydG1lbnRzRGF0YSA9IFtdOwogICAgICAgICAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRzRGF0YS5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudHNUYWJsZUJvZHknKSkgewogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlEZXBhcnRtZW50cygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDYp9mE2KPZgtiz2KfZhTonLCBlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRpc3BsYXlEZXBhcnRtZW50cygpIHsKICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudHNUYWJsZUJvZHknKTsKICAgICAgICAgICAgaWYgKCF0Ym9keSkgcmV0dXJuOwoKICAgICAgICAgICAgaWYgKGRlcGFydG1lbnRzRGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49IjUiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7Ij7ZhNinINiq2YjYrNivINio2YrYp9mG2KfYqjwvdGQ+PC90cj4nOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSBkZXBhcnRtZW50c0RhdGEubWFwKGRlcHQgPT4gewogICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVzQ291bnQgPSBlbXBsb3llZXNEYXRhLmZpbHRlcihlID0+IGUuZGVwYXJ0bWVudElkID09PSBkZXB0LmlkKS5sZW5ndGg7CiAgICAgICAgICAgICAgICBsZXQgcHJvamVjdE5hbWUgPSAnLSc7CiAgICAgICAgICAgICAgICBpZiAoZGVwdC5wcm9qZWN0SWQgPT09ICdnZW5lcmFsX21hbmFnZW1lbnQnKSB7CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWUgPSAn2KfZhNil2K/Yp9ix2Kkg2KfZhNi52KfZhdipJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVwdC5wcm9qZWN0SWQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gcHJvamVjdHNEYXRhLmZpbmQocCA9PiBwLmlkID09PSBkZXB0LnByb2plY3RJZCk7CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWUgPSBwcm9qZWN0ID8gcHJvamVjdC5uYW1lIDogJ9mF2LTYsdmI2Lkg2YXYrdiw2YjZgSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiBgCiAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIHN0eWxlPSJjb2xvcjogIzY2N2VlYTsiPiR7ZGVwdC5uYW1lIHx8ICctJ308L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7ZGVwdC5uYW1lRW4gPyBgPGJyPjxzbWFsbCBzdHlsZT0iY29sb3I6ICM5OTk7IGZvbnQtc2l6ZTogMC44NWVtOyI+JHtkZXB0Lm5hbWVFbn08L3NtYWxsPmAgOiAnJ30KICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7cHJvamVjdE5hbWV9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZGVwdC5kZXNjcmlwdGlvbiB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJiYWRnZSBiYWRnZS1pbmZvIj4ke2VtcGxveWVlc0NvdW50fTwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImFjdGlvbi1idXR0b25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZWRpdERlcGFydG1lbnQoJyR7ZGVwdC5pZH0nKSI+2KrYudiv2YrZhDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRlbGV0ZURlcGFydG1lbnQoJyR7ZGVwdC5pZH0nKSI+2K3YsNmBPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgIH0pLmpvaW4oJycpOwoKICAgICAgICAgICAgdXBkYXRlRGVwYXJ0bWVudHNDb3VudCgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZmlsdGVyRGVwYXJ0bWVudHMoKSB7CiAgICAgICAgICAgIGNvbnN0IHNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXBhcnRtZW50U2VhcmNoJykudmFsdWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBkZXBhcnRtZW50c0RhdGEuZmlsdGVyKGRlcHQgPT4gewogICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hTZWFyY2ggPSAhc2VhcmNoIHx8IAogICAgICAgICAgICAgICAgICAgIChkZXB0Lm5hbWUgJiYgZGVwdC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSkgfHwKICAgICAgICAgICAgICAgICAgICAoZGVwdC5uYW1lRW4gJiYgZGVwdC5uYW1lRW4udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpKSB8fAogICAgICAgICAgICAgICAgICAgIChkZXB0LmRlc2NyaXB0aW9uICYmIGRlcHQuZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpKTsKICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaFNlYXJjaDsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXBhcnRtZW50c1RhYmxlQm9keScpOwogICAgICAgICAgICBpZiAoZmlsdGVyZWQubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSAnPHRyPjx0ZCBjb2xzcGFuPSI1IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyI+2YTYpyDYqtmI2KzYryDZhtiq2KfYptisPC90ZD48L3RyPic7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSBmaWx0ZXJlZC5tYXAoZGVwdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVzQ291bnQgPSBlbXBsb3llZXNEYXRhLmZpbHRlcihlID0+IGUuZGVwYXJ0bWVudElkID09PSBkZXB0LmlkKS5sZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2plY3ROYW1lID0gJy0nOwogICAgICAgICAgICAgICAgICAgIGlmIChkZXB0LnByb2plY3RJZCA9PT0gJ2dlbmVyYWxfbWFuYWdlbWVudCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWUgPSAn2KfZhNil2K/Yp9ix2Kkg2KfZhNi52KfZhdipJzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRlcHQucHJvamVjdElkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0c0RhdGEuZmluZChwID0+IHAuaWQgPT09IGRlcHQucHJvamVjdElkKTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdE5hbWUgPSBwcm9qZWN0ID8gcHJvamVjdC5uYW1lIDogJ9mF2LTYsdmI2Lkg2YXYrdiw2YjZgSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBgCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIHN0eWxlPSJjb2xvcjogIzY2N2VlYTsiPiR7ZGVwdC5uYW1lIHx8ICctJ308L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2RlcHQubmFtZUVuID8gYDxicj48c21hbGwgc3R5bGU9ImNvbG9yOiAjOTk5OyBmb250LXNpemU6IDAuODVlbTsiPiR7ZGVwdC5uYW1lRW59PC9zbWFsbD5gIDogJyd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7cHJvamVjdE5hbWV9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2RlcHQuZGVzY3JpcHRpb24gfHwgJy0nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9ImJhZGdlIGJhZGdlLWluZm8iPiR7ZW1wbG95ZWVzQ291bnR9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImFjdGlvbi1idXR0b25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9ImVkaXREZXBhcnRtZW50KCcke2RlcHQuaWR9JykiPtiq2LnYr9mK2YQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iZGVsZXRlRGVwYXJ0bWVudCgnJHtkZXB0LmlkfScpIj7Yrdiw2YE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBjb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGFydG1lbnRzQ291bnQnKTsKICAgICAgICAgICAgaWYgKGNvdW50RWwpIHsKICAgICAgICAgICAgICAgIGNvdW50RWwudGV4dENvbnRlbnQgPSBg2KXYrNmF2KfZhNmKINin2YTYo9mC2LPYp9mFOiAke2ZpbHRlcmVkLmxlbmd0aH1gOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjbGVhckRlcGFydG1lbnRGaWx0ZXJzKCkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudFNlYXJjaCcpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRpc3BsYXlEZXBhcnRtZW50cygpOwogICAgICAgICAgICB1cGRhdGVEZXBhcnRtZW50c0NvdW50KCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiB1cGRhdGVEZXBhcnRtZW50c0NvdW50KCkgewogICAgICAgICAgICBjb25zdCBjb3VudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGFydG1lbnRzQ291bnQnKTsKICAgICAgICAgICAgaWYgKGNvdW50RWwpIHsKICAgICAgICAgICAgICAgIGNvdW50RWwudGV4dENvbnRlbnQgPSBg2KXYrNmF2KfZhNmKINin2YTYo9mC2LPYp9mFOiAke2RlcGFydG1lbnRzRGF0YS5sZW5ndGh9YDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc2hvd0FkZERlcGFydG1lbnRGb3JtKCkgewogICAgICAgICAgICBlZGl0aW5nRGVwYXJ0bWVudElkID0gbnVsbDsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudE1vZGFsJyk7CiAgICAgICAgICAgIGlmICghbW9kYWwpIHJldHVybjsKCiAgICAgICAgICAgIC8vINiq2LfYqNmK2YIg2KfZhNiq2LHYrNmF2KfYqiDZgtio2YQg2YHYqtitINin2YTZhtin2YHYsNipCiAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb25zKCk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXBhcnRtZW50U3VibWl0QnRuJykuc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgJ2FkZERlcGFydG1lbnQoKScpOwoKICAgICAgICAgICAgYXdhaXQgbG9hZFByb2plY3RzKCk7CiAgICAgICAgICAgIGNvbnN0IHByb2plY3RTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudFByb2plY3RJZCcpOwogICAgICAgICAgICBpZiAocHJvamVjdFNlbGVjdCkgewogICAgICAgICAgICAgICAgcHJvamVjdFNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIj4tLSDYp9iu2KrYsSDYp9mE2YXYtNix2YjYuSAtLTwvb3B0aW9uPic7CiAgICAgICAgICAgICAgICBwcm9qZWN0U2VsZWN0LmlubmVySFRNTCArPSAnPG9wdGlvbiB2YWx1ZT0iZ2VuZXJhbF9tYW5hZ2VtZW50Ij7Yp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2Kk8L29wdGlvbj4nOwogICAgICAgICAgICAgICAgcHJvamVjdHNEYXRhLmZvckVhY2gocHJvamVjdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gcHJvamVjdC5pZDsKICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0LmNvZGUgfHwgJyd9IC0gJHtwcm9qZWN0Lm5hbWV9YDsKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGFydG1lbnROYW1lJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGFydG1lbnROYW1lRW4nKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudERlc2NyaXB0aW9uJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgaWYgKHByb2plY3RTZWxlY3QpIHByb2plY3RTZWxlY3QudmFsdWUgPSAnJzsKCiAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaGlkZUFkZERlcGFydG1lbnRGb3JtKCkgewogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXBhcnRtZW50TW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlZGl0aW5nRGVwYXJ0bWVudElkID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGFkZERlcGFydG1lbnQoKSB7CiAgICAgICAgICAgIGlmIChlZGl0aW5nRGVwYXJ0bWVudElkKSB7CiAgICAgICAgICAgICAgICB1cGRhdGVEZXBhcnRtZW50KCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGRlcGFydG1lbnREYXRhID0gewogICAgICAgICAgICAgICAgbmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGFydG1lbnROYW1lJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgbmFtZUVuOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudE5hbWVFbicpLnZhbHVlLnRyaW0oKSB8fCBudWxsLAogICAgICAgICAgICAgICAgcHJvamVjdElkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudFByb2plY3RJZCcpLnZhbHVlIHx8IG51bGwsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGFydG1lbnREZXNjcmlwdGlvbicpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogd2luZG93LmZpcmVzdG9yZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogY3VycmVudFVzZXI/LnVpZCB8fCAnc3lzdGVtJwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgaWYgKCFkZXBhcnRtZW50RGF0YS5uYW1lKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINil2K/Yrtin2YQg2KfYs9mFINin2YTZgtiz2YUnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFkZXBhcnRtZW50RGF0YS5wcm9qZWN0SWQpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KfYrtiq2YrYp9ixINin2YTZhdi02LHZiNi5INij2Ygg2KfZhNil2K/Yp9ix2Kkg2KfZhNi52KfZhdipJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmFkZERvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAnZGVwYXJ0bWVudHMnKSwKICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50RGF0YQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICBhbGVydCgn2KrZhSDYpdi22KfZgdipINin2YTZgtiz2YUg2KjZhtis2KfYrSEnKTsKICAgICAgICAgICAgICAgIGhpZGVBZGREZXBhcnRtZW50Rm9ybSgpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZERlcGFydG1lbnRzKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2KXYttin2YHYqSDYp9mE2YLYs9mFOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZWRpdERlcGFydG1lbnQoaWQpIHsKICAgICAgICAgICAgZWRpdGluZ0RlcGFydG1lbnRJZCA9IGlkOwogICAgICAgICAgICBjb25zdCBkZXBhcnRtZW50ID0gZGVwYXJ0bWVudHNEYXRhLmZpbmQoZCA9PiBkLmlkID09PSBpZCk7CiAgICAgICAgICAgIGlmICghZGVwYXJ0bWVudCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTZgtiz2YUg2LrZitixINmF2YjYrNmI2K8nKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudE1vZGFsJyk7CiAgICAgICAgICAgIGlmICghbW9kYWwpIHJldHVybjsKCiAgICAgICAgICAgIC8vINiq2LfYqNmK2YIg2KfZhNiq2LHYrNmF2KfYqiDZgtio2YQg2YHYqtitINin2YTZhtin2YHYsNipCiAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb25zKCk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXBhcnRtZW50U3VibWl0QnRuJykuc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgJ3VwZGF0ZURlcGFydG1lbnQoKScpOwoKICAgICAgICAgICAgYXdhaXQgbG9hZFByb2plY3RzKCk7CiAgICAgICAgICAgIGNvbnN0IHByb2plY3RTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudFByb2plY3RJZCcpOwogICAgICAgICAgICBpZiAocHJvamVjdFNlbGVjdCkgewogICAgICAgICAgICAgICAgcHJvamVjdFNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIj4tLSDYp9iu2KrYsSDYp9mE2YXYtNix2YjYuSAtLTwvb3B0aW9uPic7CiAgICAgICAgICAgICAgICBwcm9qZWN0U2VsZWN0LmlubmVySFRNTCArPSAnPG9wdGlvbiB2YWx1ZT0iZ2VuZXJhbF9tYW5hZ2VtZW50Ij7Yp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2Kk8L29wdGlvbj4nOwogICAgICAgICAgICAgICAgcHJvamVjdHNEYXRhLmZvckVhY2gocHJvamVjdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gcHJvamVjdC5pZDsKICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0LmNvZGUgfHwgJyd9IC0gJHtwcm9qZWN0Lm5hbWV9YDsKICAgICAgICAgICAgICAgICAgICBpZiAoZGVwYXJ0bWVudC5wcm9qZWN0SWQgPT09IHByb2plY3QuaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdFNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoZGVwYXJ0bWVudC5wcm9qZWN0SWQgPT09ICdnZW5lcmFsX21hbmFnZW1lbnQnKSB7CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdFNlbGVjdC52YWx1ZSA9ICdnZW5lcmFsX21hbmFnZW1lbnQnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudE5hbWUnKS52YWx1ZSA9IGRlcGFydG1lbnQubmFtZSB8fCAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGFydG1lbnROYW1lRW4nKS52YWx1ZSA9IGRlcGFydG1lbnQubmFtZUVuIHx8ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudERlc2NyaXB0aW9uJykudmFsdWUgPSBkZXBhcnRtZW50LmRlc2NyaXB0aW9uIHx8ICcnOwoKICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgfQoKICAgICAgICBhc3luYyBmdW5jdGlvbiB1cGRhdGVEZXBhcnRtZW50KCkgewogICAgICAgICAgICBpZiAoIWVkaXRpbmdEZXBhcnRtZW50SWQpIHJldHVybjsKCiAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGRlcGFydG1lbnREYXRhID0gewogICAgICAgICAgICAgICAgbmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGFydG1lbnROYW1lJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgbmFtZUVuOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudE5hbWVFbicpLnZhbHVlLnRyaW0oKSB8fCBudWxsLAogICAgICAgICAgICAgICAgcHJvamVjdElkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVwYXJ0bWVudFByb2plY3RJZCcpLnZhbHVlIHx8IG51bGwsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlcGFydG1lbnREZXNjcmlwdGlvbicpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogd2luZG93LmZpcmVzdG9yZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICAgICAgICAgIHVwZGF0ZWRCeTogY3VycmVudFVzZXI/LnVpZCB8fCAnc3lzdGVtJwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgaWYgKCFkZXBhcnRtZW50RGF0YS5uYW1lKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINil2K/Yrtin2YQg2KfYs9mFINin2YTZgtiz2YUnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFkZXBhcnRtZW50RGF0YS5wcm9qZWN0SWQpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KfYrtiq2YrYp9ixINin2YTZhdi02LHZiNi5INij2Ygg2KfZhNil2K/Yp9ix2Kkg2KfZhNi52KfZhdipJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICdkZXBhcnRtZW50cycsIGVkaXRpbmdEZXBhcnRtZW50SWQpLAogICAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnREYXRhCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIGFsZXJ0KCfYqtmFINiq2K3Yr9mK2Ksg2KfZhNmC2LPZhSDYqNmG2KzYp9itIScpOwogICAgICAgICAgICAgICAgaGlkZUFkZERlcGFydG1lbnRGb3JtKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRGVwYXJ0bWVudHMoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYqtit2K/ZitirINin2YTZgtiz2YU6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBhc3luYyBmdW5jdGlvbiBkZWxldGVEZXBhcnRtZW50KGlkKSB7CiAgICAgICAgICAgIGlmICghY29uZmlybSgn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINit2LDZgSDZh9iw2Kcg2KfZhNmC2LPZhdifXG5cbtmF2YTYp9it2LjYqTog2LPZitiq2YUg2KXYstin2YTYqSDYsdio2Lcg2KfZhNmF2YjYuNmB2YrZhiDYqNmH2LDYpyDYp9mE2YLYs9mFLicpKSByZXR1cm47CgogICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ0ZpcmViYXNlINi62YrYsSDZhdmH2YrYoycpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVzSW5EZXBhcnRtZW50ID0gZW1wbG95ZWVzRGF0YS5maWx0ZXIoZSA9PiBlLmRlcGFydG1lbnRJZCA9PT0gaWQpOwogICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbXBsb3llZSBvZiBlbXBsb3llZXNJbkRlcGFydG1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAnZW1wbG95ZWVzJywgZW1wbG95ZWUuaWQpLAogICAgICAgICAgICAgICAgICAgICAgICB7IGRlcGFydG1lbnRJZDogbnVsbCB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmRlbGV0ZURvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICdkZXBhcnRtZW50cycsIGlkKQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICBhbGVydCgn2KrZhSDYrdiw2YEg2KfZhNmC2LPZhSDYqNmG2KzYp9itIScpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZERlcGFydG1lbnRzKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRW1wbG95ZWVzKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2K3YsNmBINin2YTZgtiz2YU6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vINiv2YjYp9mEINmF2LPYp9i52K/YqQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgZnVuY3Rpb24gZ2V0U3RhdHVzTmFtZShzdGF0dXMpIHsKICAgICAgICAgICAgY29uc3Qgc3RhdHVzTmFtZXMgPSB7CiAgICAgICAgICAgICAgICAnYWN0aXZlJzogJ9mG2LTYtycsCiAgICAgICAgICAgICAgICAnaW5hY3RpdmUnOiAn2LrZitixINmG2LTYtycsCiAgICAgICAgICAgICAgICAnb24tbGVhdmUnOiAn2YHZiiDYpdis2KfYstipJywKICAgICAgICAgICAgICAgICdjb21wbGV0ZWQnOiAn2YXZg9iq2YXZhCcsCiAgICAgICAgICAgICAgICAnb24taG9sZCc6ICfZhdiq2YjZgtmBJwogICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm4gc3RhdHVzTmFtZXNbc3RhdHVzXSB8fCBzdGF0dXM7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRTdGF0dXNCYWRnZShzdGF0dXMpIHsKICAgICAgICAgICAgY29uc3QgYmFkZ2VzID0gewogICAgICAgICAgICAgICAgJ2FjdGl2ZSc6ICdiYWRnZS1zdWNjZXNzJywKICAgICAgICAgICAgICAgICdpbmFjdGl2ZSc6ICdiYWRnZS1kYW5nZXInLAogICAgICAgICAgICAgICAgJ29uLWxlYXZlJzogJ2JhZGdlLXdhcm5pbmcnLAogICAgICAgICAgICAgICAgJ2NvbXBsZXRlZCc6ICdiYWRnZS1zdWNjZXNzJywKICAgICAgICAgICAgICAgICdvbi1ob2xkJzogJ2JhZGdlLWluZm8nCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBiYWRnZXNbc3RhdHVzXSB8fCAnYmFkZ2UtaW5mbyc7CiAgICAgICAgfQoKICAgICAgICAvLyDYr9in2YTYqSDZhNmE2K3YtdmI2YQg2LnZhNmJINin2LPZhSDYrdin2YTYqSDYp9mE2YXZiNi42YEKICAgICAgICBmdW5jdGlvbiBnZXRFbXBsb3llZVN0YXR1c05hbWUoc3RhdHVzKSB7CiAgICAgICAgICAgIGNvbnN0IHN0YXR1c05hbWVzID0gewogICAgICAgICAgICAgICAgJ2FjdGl2ZSc6ICfZhti02LcnLAogICAgICAgICAgICAgICAgJ2luYWN0aXZlJzogJ9i62YrYsSDZhti02LcnLAogICAgICAgICAgICAgICAgJ29uLWxlYXZlJzogJ9mB2Yog2KXYrNin2LLYqScsCiAgICAgICAgICAgICAgICAnc3VzcGVuZGVkJzogJ9mF2YjZgtmI2YEnLAogICAgICAgICAgICAgICAgJ3Rlcm1pbmF0ZWQnOiAn2YXZhtiq2YfZiiDYp9mE2K7Yr9mF2KknCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBzdGF0dXNOYW1lc1tzdGF0dXNdIHx8IHN0YXR1cyB8fCAn2LrZitixINmF2K3Yr9ivJzsKICAgICAgICB9CgogICAgICAgIC8vINiv2KfZhNipINmE2YTYrdi12YjZhCDYudmE2YkgYmFkZ2Ug2K3Yp9mE2Kkg2KfZhNmF2YjYuNmBCiAgICAgICAgZnVuY3Rpb24gZ2V0RW1wbG95ZWVTdGF0dXNCYWRnZShzdGF0dXMpIHsKICAgICAgICAgICAgY29uc3QgYmFkZ2VzID0gewogICAgICAgICAgICAgICAgJ2FjdGl2ZSc6ICdiYWRnZS1zdWNjZXNzJywKICAgICAgICAgICAgICAgICdpbmFjdGl2ZSc6ICdiYWRnZS1kYW5nZXInLAogICAgICAgICAgICAgICAgJ29uLWxlYXZlJzogJ2JhZGdlLXdhcm5pbmcnLAogICAgICAgICAgICAgICAgJ3N1c3BlbmRlZCc6ICdiYWRnZS1kYW5nZXInLAogICAgICAgICAgICAgICAgJ3Rlcm1pbmF0ZWQnOiAnYmFkZ2Utc2Vjb25kYXJ5JwogICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm4gYmFkZ2VzW3N0YXR1c10gfHwgJ2JhZGdlLXNlY29uZGFyeSc7CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vINiv2YjYp9mEINil2K/Yp9ix2Kkg2KfZhNi12YjYsSDZiNin2YTZhdiz2KrZhtiv2KfYqgogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2LbYuti3INin2YTYtdmI2LHYqSDZgtio2YQg2KfZhNix2YHYuSAo2YXYuSDYpdi52K/Yp9iv2KfYqiDYtti62Lcg2KPZgtmI2YkpCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gY29tcHJlc3NJbWFnZShmaWxlLCBtYXhXaWR0aCA9IDE2MDAsIG1heEhlaWdodCA9IDE2MDAsIHF1YWxpdHkgPSAwLjYpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2KPYqNi52KfYryDYp9mE2KzYr9mK2K/YqSDZhdi5INin2YTYrdmB2KfYuCDYudmE2Ykg2YbYs9io2Kkg2KfZhNi52LHYtiDYpdmE2Ykg2KfZhNin2LHYqtmB2KfYuQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgd2lkdGggPSBpbWcud2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoZWlnaHQgPSBpbWcuaGVpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gbWF4V2lkdGggfHwgaGVpZ2h0ID4gbWF4SGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiBoZWlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSAoaGVpZ2h0ICogbWF4V2lkdGgpIC8gd2lkdGg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBtYXhXaWR0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAod2lkdGggKiBtYXhIZWlnaHQpIC8gaGVpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IG1heEhlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXZhti02KfYoSBDYW52YXMg2YjYtti62Lcg2KfZhNi12YjYsdipCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDsKICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2K3ZiNmK2YQgQ2FudmFzINil2YTZiSBCbG9iCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy50b0Jsb2IoKGJsb2IpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXZhti02KfYoSBGaWxlINis2K/ZitivINmF2YYgQmxvYgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWRGaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCBmaWxlLm5hbWUsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlL2pwZWcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IERhdGUubm93KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFINiq2YUg2LbYuti3INin2YTYtdmI2LHYqTogJHsoZmlsZS5zaXplIC8gMTAyNCkudG9GaXhlZCgyKX0gS0Ig4oaSICR7KGNvbXByZXNzZWRGaWxlLnNpemUgLyAxMDI0KS50b0ZpeGVkKDIpfSBLQiAoJHsoKDEgLSBjb21wcmVzc2VkRmlsZS5zaXplIC8gZmlsZS5zaXplKSAqIDEwMCkudG9GaXhlZCgxKX0lINiq2YLZhNmK2YQpYCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjb21wcmVzc2VkRmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ9mB2LTZhCDYtti62Lcg2KfZhNi12YjYsdipJykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCAnaW1hZ2UvanBlZycsIHF1YWxpdHkpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7CiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDsKICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2LbYuti3INin2YTZhdmE2YHYp9iqINiq2YTZgtin2KbZitin2YsgKNin2YTYtdmI2LHYjCBQREbYjCBET0PYjCDYpdmE2K4pCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gY29tcHJlc3NGaWxlKGZpbGUpIHsKICAgICAgICAgICAgY29uc3QgZmlsZVR5cGUgPSBmaWxlLnR5cGUgfHwgJyc7CiAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYtti62Lcg2KfZhNi12YjYsSAo2YXYuSDYtti62Lcg2KPZgtmI2Ykg2YTZhNmF2YTZgdin2Kog2KfZhNmD2KjZitix2KkpCiAgICAgICAgICAgIGlmIChmaWxlVHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAvLyDZhNmE2YXZhNmB2KfYqiDYp9mE2YPYqNmK2LHYqdiMINmG2LPYqtiu2K/ZhSDYtti62Lcg2KPZgtmI2YkKICAgICAgICAgICAgICAgICAgICBsZXQgcXVhbGl0eSA9IDAuNjsKICAgICAgICAgICAgICAgICAgICBsZXQgbWF4V2lkdGggPSAxNjAwOwogICAgICAgICAgICAgICAgICAgIGxldCBtYXhIZWlnaHQgPSAxNjAwOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnNpemUgPiAyICogMTAyNCAqIDEwMjQpIHsgLy8g2KPZg9io2LEg2YXZhiAyIE1CCiAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHkgPSAwLjU7CiAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoID0gMTQwMDsKICAgICAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gMTQwMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuc2l6ZSA+IDUgKiAxMDI0ICogMTAyNCkgeyAvLyDYo9mD2KjYsSDZhdmGIDUgTUIKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eSA9IDAuNDsKICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGggPSAxMjAwOwogICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSAxMjAwOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wcmVzc2VkID0gYXdhaXQgY29tcHJlc3NJbWFnZShmaWxlLCBtYXhXaWR0aCwgbWF4SGVpZ2h0LCBxdWFsaXR5KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YPYp9mGINin2YTYrdis2YUg2KjYudivINin2YTYtti62Lcg2YTYpyDZitiy2KfZhCDZg9io2YrYsdin2YvYjCDZhtit2KfZiNmEINi22LrYtyDYo9mD2KvYsQogICAgICAgICAgICAgICAgICAgIGlmIChjb21wcmVzc2VkLnNpemUgPiA4MDAgKiAxMDI0ICYmIGZpbGUuc2l6ZSA+IGNvbXByZXNzZWQuc2l6ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb3JlQ29tcHJlc3NlZCA9IGF3YWl0IGNvbXByZXNzSW1hZ2UoY29tcHJlc3NlZCwgbWF4V2lkdGggKiAwLjksIG1heEhlaWdodCAqIDAuOSwgcXVhbGl0eSAqIDAuOSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3JlQ29tcHJlc3NlZC5zaXplIDwgY29tcHJlc3NlZC5zaXplKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9yZUNvbXByZXNzZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXByZXNzZWQ7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPINmB2LTZhCDYtti62Lcg2KfZhNi12YjYsdip2Iwg2LPZitiq2YUg2KfYs9iq2K7Yr9in2YUg2KfZhNmF2YTZgSDYp9mE2KPYtdmE2Yo6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWxlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDZhNmE2YXZhNmB2KfYqiDYp9mE2KPYrtix2YkgKFBERtiMIERPQ9iMIERPQ1gp2Iwg2YbYrdin2YjZhCDYqtmC2YTZitmEINin2YTYrdis2YUg2KXYsNinINmD2KfZhiDZg9io2YrYsdin2YsKICAgICAgICAgICAgLy8g2YXZhNin2K3YuNipOiDZhNinINmK2YXZg9mGINi22LrYtyDZh9iw2Ycg2KfZhNmF2YTZgdin2Kog2YHZiiDYp9mE2YXYqti12YHYrSDYqNiv2YjZhiDZhdmD2KrYqNin2Kog2K7Yp9ix2KzZitipCiAgICAgICAgICAgIC8vINmE2YPZhiDZitmF2YPZhtmG2Kcg2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNit2KzZhSDZiNil2LHYrNin2Lkg2KfZhNmF2YTZgSDZg9mF2Kcg2YfZiCDYpdiw2Kcg2YPYp9mGINi12LrZitix2KfZiwogICAgICAgICAgICBpZiAoZmlsZS5zaXplID4gNTAwICogMTAyNCkgeyAvLyDYpdiw2Kcg2YPYp9mGINin2YTZhdmE2YEg2KPZg9io2LEg2YXZhiA1MDAgS0IKICAgICAgICAgICAgICAgIC8vINmE2YTZhdmE2YHYp9iqINin2YTZg9io2YrYsdip2Iwg2YbYudix2LYg2KrYrdiw2YrYsQogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8g2KfZhNmF2YTZgSAiJHtmaWxlLm5hbWV9IiDZg9io2YrYsSAoJHsoZmlsZS5zaXplIC8gMTAyNCkudG9GaXhlZCgyKX0gS0IpINmI2YTYpyDZitmF2YPZhiDYtti62LfZhyDYqtmE2YLYp9im2YrYp9mLLmApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gZmlsZTsKICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHByZXZpZXdFbXBsb3llZVBob3RvKGV2ZW50KSB7CiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgICAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgICAgICAgICAvLyDYudix2LYg2KfZhNi12YjYsdipINin2YTYo9i12YTZitipINij2YjZhNin2YsKICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gYXN5bmMgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVQaG90b1ByZXZpZXcnKS5zcmMgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2LbYuti3INin2YTYtdmI2LHYqSDYqtmE2YLYp9im2YrYp9mLCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcHJlc3NlZEZpbGUgPSBhd2FpdCBjb21wcmVzc0ltYWdlKGZpbGUpOwogICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZVBob3RvRmlsZSA9IGNvbXByZXNzZWRGaWxlOyAvLyDYp9iz2KrYrtiv2KfZhSDYp9mE2LXZiNix2Kkg2KfZhNmF2LbYutmI2LfYqQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINiq2YUg2LbYuti3INin2YTYtdmI2LHYqSDYqNmG2KzYp9itJyk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4pqg77iPINiu2LfYoyDZgdmKINi22LrYtyDYp9mE2LXZiNix2KnYjCDYs9mK2KrZhSDYp9iz2KrYrtiv2KfZhSDYp9mE2LXZiNix2Kkg2KfZhNij2LXZhNmK2Kk6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZVBob3RvRmlsZSA9IGZpbGU7IC8vINin2LPYqtiu2K/Yp9mFINin2YTYtdmI2LHYqSDYp9mE2KPYtdmE2YrYqSDZgdmKINit2KfZhNipINin2YTZgdi02YQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbW92ZUVtcGxveWVlUGhvdG8oKSB7CiAgICAgICAgICAgIGVtcGxveWVlUGhvdG9GaWxlID0gbnVsbDsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlUGhvdG9JbnB1dCcpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZVBob3RvUHJldmlldycpLnNyYyA9ICJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE1MCcgaGVpZ2h0PScxNTAnJTNFJTNDcmVjdCBmaWxsPSclMjNlOWVjZWYnIHdpZHRoPScxNTAnIGhlaWdodD0nMTUwJy8lM0UlM0N0ZXh0IHg9JzUwJTI1JyB5PSc1MCUyNScgdGV4dC1hbmNob3I9J21pZGRsZScgZHk9Jy4zZW0nIGZpbGw9JyUyMzY2NicgZm9udC1zaXplPScxNCclM0XYtdmI2LHYqSDYp9mE2YXZiNi42YElM0MvdGV4dCUzRSUzQy9zdmclM0UiOwogICAgICAgIH0KCiAgICAgICAgLy8g2KrYrdmI2YrZhCDYp9mE2LXZiNix2Kkg2KXZhNmJIGJhc2U2NCDZiNiq2K7YstmK2YbZh9inINmB2YogRmlyZXN0b3JlCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gdXBsb2FkRW1wbG95ZWVQaG90byhlbXBsb3llZUlkKSB7CiAgICAgICAgICAgIGlmICghZW1wbG95ZWVQaG90b0ZpbGUpIHJldHVybiBudWxsOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2KPZhiDYp9mE2YXYs9iq2K7Yr9mFINmF2LPYrNmEINiv2K7ZiNmECiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRVc2VyKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZitis2Kgg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2KPZiNmE2KfZiycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtit2YjZitmEINin2YTYtdmI2LHYqSDYpdmE2YkgYmFzZTY0CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGFzeW5jIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjRTdHJpbmcgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINiq2YUg2KrYrdmI2YrZhCDYp9mE2LXZiNix2Kkg2KXZhNmJIGJhc2U2NCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYrdmB2LggYmFzZTY0INmB2YogRmlyZXN0b3JlINmD2YAgZGF0YSBVUkwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYtdmK2LrYqTogImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsLzlqLzRBQVFTa1pKUmcuLi4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJhc2U2NFN0cmluZyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg2K7Yt9ijINmB2Yog2YXYudin2YTYrNipINin2YTYtdmI2LHYqTonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9IChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg2K7Yt9ijINmB2Yog2YLYsdin2KHYqSDYp9mE2YXZhNmBOicsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGVtcGxveWVlUGhvdG9GaWxlKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MINiu2LfYoyDZgdmKINix2YHYuSDYp9mE2LXZiNix2Kk6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ9iu2LfYoyDZgdmKINmF2LnYp9mE2KzYqSDYp9mE2LXZiNix2Kk6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVEb2N1bWVudFVwbG9hZChldmVudCkgewogICAgICAgICAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZXZlbnQudGFyZ2V0LmZpbGVzKTsKICAgICAgICAgICAgLy8g2KfZhNit2K8g2KfZhNij2YLYtdmJINmE2YTZhdmE2YEg2KfZhNmB2LHYr9mKOiAxMCBNQiAo2YXYuSDYtti62Lcg2KrZhNmC2KfYptmKKQogICAgICAgICAgICBjb25zdCBNQVhfRklMRV9TSVpFID0gMTAgKiAxMDI0ICogMTAyNDsgLy8gMTAgTUIg2YPYrdivINij2YLYtdmJINmE2YPZhCDZhdmE2YEKICAgICAgICAgICAgLy8g2KfZhNit2K8g2KfZhNij2YLYtdmJINmE2YTZhdis2YXZiNi5INin2YTZg9mE2Yo6IDEwIE1CICjZhdi5INi22LrYtyDYqtmE2YLYp9im2YopCiAgICAgICAgICAgIC8vINiq2K3YsNmK2LE6INio2LnYryBiYXNlNjQg2YrYtdio2K0gfjEzLjMgTUIgLSDZh9iw2Kcg2YrYqtis2KfZiNiyINit2K8gRmlyZXN0b3JlICgxIE1CKSDYqNi02YPZhCDZg9io2YrYsQogICAgICAgICAgICAvLyDYs9mK2KrZhSDYtti62Lcg2KfZhNmF2YTZgdin2Kog2KrZhNmC2KfYptmK2KfZiyDZhNiq2YLZhNmK2YQg2KfZhNit2KzZhQogICAgICAgICAgICBjb25zdCBNQVhfVE9UQUxfU0laRSA9IDEwICogMTAyNCAqIDEwMjQ7IC8vIDEwIE1CINmD2K3YryDYo9mC2LXZiSDZhNmE2YXYrNmF2YjYuSDYp9mE2YPZhNmKCiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2K3YrNmFINin2YTZg9mE2Yog2KfZhNit2KfZhNmKCiAgICAgICAgICAgIGxldCBjdXJyZW50VG90YWxTaXplID0gZW1wbG95ZWVEb2N1bWVudHNUb1VwbG9hZC5yZWR1Y2UoKHN1bSwgZikgPT4gc3VtICsgZi5zaXplLCAwKTsKICAgICAgICAgICAgY29uc3QgZG9jdW1lbnRzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZURvY3VtZW50c0xpc3QnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LjZh9in2LEg2LHYs9in2YTYqSDYqtit2YXZitmECiAgICAgICAgICAgIGNvbnN0IGxvYWRpbmdNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIGxvYWRpbmdNZXNzYWdlLmlkID0gJ2NvbXByZXNzaW9uTG9hZGluZyc7CiAgICAgICAgICAgIGxvYWRpbmdNZXNzYWdlLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IGZpeGVkOyB0b3A6IDUwJTsgbGVmdDogNTAlOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsgYmFja2dyb3VuZDogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwwLDAsMC4xKTsgei1pbmRleDogMTAwMDA7IHRleHQtYWxpZ246IGNlbnRlcjsnOwogICAgICAgICAgICBsb2FkaW5nTWVzc2FnZS5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxNnB4OyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+4o+zINis2KfYsdmKINi22LrYtyDYp9mE2YXZhNmB2KfYqi4uLjwvZGl2PjxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICM2NjY7Ij7Zitix2KzZiSDYp9mE2KfZhtiq2LjYp9ixPC9kaXY+JzsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsb2FkaW5nTWVzc2FnZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2LbYuti3INin2YTZhdmE2YEg2KrZhNmC2KfYptmK2KfZiwogICAgICAgICAgICAgICAgICAgIGxldCBwcm9jZXNzZWRGaWxlID0gZmlsZTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFNpemUgPSBmaWxlLnNpemU7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkRmlsZSA9IGF3YWl0IGNvbXByZXNzRmlsZShmaWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NlZEZpbGUuc2l6ZSA8IG9yaWdpbmFsU2l6ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSDYqtmFINi22LrYtyAiJHtmaWxlLm5hbWV9IjogJHsob3JpZ2luYWxTaXplIC8gMTAyNCkudG9GaXhlZCgyKX0gS0Ig4oaSICR7KHByb2Nlc3NlZEZpbGUuc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMil9IEtCYCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyDZgdi02YQg2LbYuti3ICIke2ZpbGUubmFtZX0i2Iwg2LPZitiq2YUg2KfYs9iq2K7Yr9in2YUg2KfZhNmF2YTZgSDYp9mE2KPYtdmE2Yo6YCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRGaWxlID0gZmlsZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2K3YrNmFINin2YTZhdmE2YEg2KjYudivINin2YTYtti62LcKICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzc2VkRmlsZS5zaXplID4gTUFYX0ZJTEVfU0laRSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlU2l6ZU1CID0gKHByb2Nlc3NlZEZpbGUuc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFNpemVNQiA9IChNQVhfRklMRV9TSVpFIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYOKaoO+4jyDYp9mE2YXZhNmBICIke2ZpbGUubmFtZX0iINmD2KjZitixINis2K/Yp9mLINit2KrZiSDYqNi52K8g2KfZhNi22LrYtyAoJHtmaWxlU2l6ZU1CfSBNQilcblxu2KfZhNit2K8g2KfZhNij2YLYtdmJINin2YTZhdiz2YXZiNitINio2Yc6ICR7bWF4U2l6ZU1CfSBNQlxuXG7Yp9mE2LHYrNin2KEg2KfYrtiq2YrYp9ixINmF2YTZgSDYo9i12LrYsS5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYrdis2YUg2KfZhNmD2YTZiiAo2YXYuSDZhdix2KfYudin2Kkg2KPZhiBiYXNlNjQg2YrYstmK2K8g2KfZhNit2KzZhSDYqNmG2LPYqNipIDMzJSkKICAgICAgICAgICAgICAgICAgICBjb25zdCBlc3RpbWF0ZWRTaXplID0gcHJvY2Vzc2VkRmlsZS5zaXplICogMS4zMzsgLy8g2KrZgtiv2YrYsSDYrdis2YUgYmFzZTY0CiAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50VG90YWxTaXplICogMS4zMykgKyBlc3RpbWF0ZWRTaXplID4gTUFYX1RPVEFMX1NJWkUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxTaXplTUIgPSAoKChjdXJyZW50VG90YWxTaXplICsgcHJvY2Vzc2VkRmlsZS5zaXplKSAqIDEuMzMpIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF4VG90YWxTaXplTUIgPSAoTUFYX1RPVEFMX1NJWkUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpOwogICAgICAgICAgICAgICAgICAgICAgICBhbGVydChg4pqg77iPINil2KzZhdin2YTZiiDYrdis2YUg2KfZhNmF2YTZgdin2Kog2YPYqNmK2LEg2KzYr9in2YsgKCR7dG90YWxTaXplTUJ9IE1CINio2LnYryDYp9mE2KrYrdmI2YrZhClcblxu2KfZhNit2K8g2KfZhNij2YLYtdmJINin2YTZhdiz2YXZiNitINio2Yc6ICR7bWF4VG90YWxTaXplTUJ9IE1CXG5cbtin2YTYsdis2KfYoSDYpdiy2KfZhNipINio2LnYtiDYp9mE2YXZhNmB2KfYqiDYo9mIINin2K7YqtmK2KfYsSDZhdmE2YHYp9iqINij2LXYutixLmApOwogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVEb2N1bWVudHNUb1VwbG9hZC5wdXNoKHByb2Nlc3NlZEZpbGUpOwogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUb3RhbFNpemUgKz0gcHJvY2Vzc2VkRmlsZS5zaXplOyAvLyDYqtit2K/ZitirINin2YTYrdis2YUg2KfZhNmD2YTZigogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY0NhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBkb2NDYXJkLmNsYXNzTmFtZSA9ICdkb2N1bWVudC1jYXJkJzsKICAgICAgICAgICAgICAgICAgICBkb2NDYXJkLnN0eWxlLmNzc1RleHQgPSAnYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiAxNXB4OyBiYWNrZ3JvdW5kOiAjZjhmOWZhOyBwb3NpdGlvbjogcmVsYXRpdmU7JzsKICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IHByb2Nlc3NlZEZpbGUubmFtZS5sZW5ndGggPiAyMCA/IHByb2Nlc3NlZEZpbGUubmFtZS5zdWJzdHJpbmcoMCwgMjApICsgJy4uLicgOiBwcm9jZXNzZWRGaWxlLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZVNpemVLQiA9IChwcm9jZXNzZWRGaWxlLnNpemUgLyAxMDI0KS50b0ZpeGVkKDIpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVTaXplTUIgPSAocHJvY2Vzc2VkRmlsZS5zaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXhTaXplS0IgPSAxMDI0MDsgLy8gMTAgTUIKICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0xhcmdlRmlsZSA9IHByb2Nlc3NlZEZpbGUuc2l6ZSA+IG1heFNpemVLQiAqIDEwMjQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2l6ZUNvbG9yID0gaXNMYXJnZUZpbGUgPyAnI2RjMzU0NScgOiAnIzY2Nic7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FybmluZ0ljb24gPSBpc0xhcmdlRmlsZSA/ICfimqDvuI8gJyA6ICcnOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzaW9uSW5mbyA9IHByb2Nlc3NlZEZpbGUuc2l6ZSA8IG9yaWdpbmFsU2l6ZSA/IAogICAgICAgICAgICAgICAgICAgICAgICBgPGJyPjxzcGFuIHN0eWxlPSJjb2xvcjogIzI4YTc0NTsgZm9udC1zaXplOiAxMXB4OyI+4pyTINiq2YUg2KfZhNi22LrYtzogJHsoKDEgLSBwcm9jZXNzZWRGaWxlLnNpemUgLyBvcmlnaW5hbFNpemUpICogMTAwKS50b0ZpeGVkKDEpfSUg2KrZgtmE2YrZhDwvc3Bhbj5gIDogJyc7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgZG9jQ2FyZC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMjRweDsiPvCfk448L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmbGV4OiAxOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMzMzOyI+JHtmaWxlTmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEycHg7IGNvbG9yOiAke3NpemVDb2xvcn07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt3YXJuaW5nSWNvbn0ke2ZpbGVTaXplS0J9IEtCICR7cHJvY2Vzc2VkRmlsZS5zaXplID4gMTAyNCAqIDEwMjQgPyBgKCR7ZmlsZVNpemVNQn0gTUIpYCA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2NvbXByZXNzaW9uSW5mb30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtpc0xhcmdlRmlsZSA/ICc8YnI+PHNwYW4gc3R5bGU9ImNvbG9yOiAjZGMzNTQ1OyBmb250LXNpemU6IDExcHg7Ij7imqDvuI8g2K3YrNmFINmD2KjZitixIC0g2YLYryDZitiz2KjYqCDZhdi02KfZg9mEPC9zcGFuPicgOiAnJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJyZW1vdmVEb2N1bWVudEZyb21MaXN0KCcke3Byb2Nlc3NlZEZpbGUubmFtZX0nKSIgc3R5bGU9ImJhY2tncm91bmQ6ICNkYzM1NDU7IGNvbG9yOiB3aGl0ZTsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiA1MCU7IHdpZHRoOiAyNXB4OyBoZWlnaHQ6IDI1cHg7IGN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAxNHB4OyBsaW5lLWhlaWdodDogMTsiPsOXPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRzTGlzdC5hcHBlbmRDaGlsZChkb2NDYXJkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIC8vINil2LLYp9mE2Kkg2LHYs9in2YTYqSDYp9mE2KrYrdmF2YrZhAogICAgICAgICAgICAgICAgY29uc3QgbG9hZGluZ0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcHJlc3Npb25Mb2FkaW5nJyk7CiAgICAgICAgICAgICAgICBpZiAobG9hZGluZ0VsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICBsb2FkaW5nRWxlbWVudC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlRG9jdW1lbnRGcm9tTGlzdChmaWxlTmFtZSkgewogICAgICAgICAgICBlbXBsb3llZURvY3VtZW50c1RvVXBsb2FkID0gZW1wbG95ZWVEb2N1bWVudHNUb1VwbG9hZC5maWx0ZXIoZiA9PiBmLm5hbWUgIT09IGZpbGVOYW1lKTsKICAgICAgICAgICAgY29uc3QgZG9jdW1lbnRzTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZURvY3VtZW50c0xpc3QnKTsKICAgICAgICAgICAgZG9jdW1lbnRzTGlzdC5pbm5lckhUTUwgPSAnJzsKICAgICAgICAgICAgZW1wbG95ZWVEb2N1bWVudHNUb1VwbG9hZC5mb3JFYWNoKGZpbGUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgZG9jQ2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgZG9jQ2FyZC5jbGFzc05hbWUgPSAnZG9jdW1lbnQtY2FyZCc7CiAgICAgICAgICAgICAgICBkb2NDYXJkLnN0eWxlLmNzc1RleHQgPSAnYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiAxNXB4OyBiYWNrZ3JvdW5kOiAjZjhmOWZhOyBwb3NpdGlvbjogcmVsYXRpdmU7JzsKICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gZmlsZS5uYW1lLmxlbmd0aCA+IDIwID8gZmlsZS5uYW1lLnN1YnN0cmluZygwLCAyMCkgKyAnLi4uJyA6IGZpbGUubmFtZTsKICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVTaXplS0IgPSAoZmlsZS5zaXplIC8gMTAyNCkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVTaXplTUIgPSAoZmlsZS5zaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgIGNvbnN0IG1heFNpemVLQiA9IDEwMjQ7IC8vIDEgTUIKICAgICAgICAgICAgICAgIGNvbnN0IGlzTGFyZ2VGaWxlID0gZmlsZS5zaXplID4gbWF4U2l6ZUtCICogMTAyNDsKICAgICAgICAgICAgICAgIGNvbnN0IHNpemVDb2xvciA9IGlzTGFyZ2VGaWxlID8gJyNkYzM1NDUnIDogJyM2NjYnOwogICAgICAgICAgICAgICAgY29uc3Qgd2FybmluZ0ljb24gPSBpc0xhcmdlRmlsZSA/ICfimqDvuI8gJyA6ICcnOwogICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINil2LDYpyDZg9in2YbYqiDYp9mE2LXZiNix2Kkg2YXYtti62YjYt9ipICjYpdiw2Kcg2YPYp9mG2Kog2YXZhiDZhtmI2LkganBlZyDZiNmD2KfZhtiqINij2LXYutixINmF2YYgNTAwS0LYjCDZgdmF2YYg2KfZhNmF2K3YqtmF2YQg2KPZhtmH2Kcg2YXYtti62YjYt9ipKQogICAgICAgICAgICAgICAgY29uc3QgaXNDb21wcmVzc2VkID0gZmlsZS50eXBlID09PSAnaW1hZ2UvanBlZycgJiYgZmlsZS5zaXplIDwgNTAwICogMTAyNDsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzaW9uQmFkZ2UgPSBpc0NvbXByZXNzZWQgPyAnPGJyPjxzcGFuIHN0eWxlPSJjb2xvcjogIzI4YTc0NTsgZm9udC1zaXplOiAxMXB4OyI+4pyTINmF2LbYutmI2Lc8L3NwYW4+JyA6ICcnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBkb2NDYXJkLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMjRweDsiPvCfk448L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6IDE7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzMzMzsiPiR7ZGlzcGxheU5hbWV9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEycHg7IGNvbG9yOiAke3NpemVDb2xvcn07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3dhcm5pbmdJY29ufSR7ZmlsZVNpemVLQn0gS0IgJHtmaWxlLnNpemUgPiAxMDI0ICogMTAyNCA/IGAoJHtmaWxlU2l6ZU1CfSBNQilgIDogJyd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjb21wcmVzc2lvbkJhZGdlfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7aXNMYXJnZUZpbGUgPyAnPGJyPjxzcGFuIHN0eWxlPSJjb2xvcjogI2RjMzU0NTsgZm9udC1zaXplOiAxMXB4OyI+4pqg77iPINit2KzZhSDZg9io2YrYsSAtINmC2K8g2YrYs9io2Kgg2YXYtNin2YPZhDwvc3Bhbj4nIDogJyd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0icmVtb3ZlRG9jdW1lbnRGcm9tTGlzdCgnJHtmaWxlLm5hbWV9JykiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjZGMzNTQ1OyBjb2xvcjogd2hpdGU7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogNTAlOyB3aWR0aDogMjVweDsgaGVpZ2h0OiAyNXB4OyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMTRweDsgbGluZS1oZWlnaHQ6IDE7Ij7DlzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIGRvY3VtZW50c0xpc3QuYXBwZW5kQ2hpbGQoZG9jQ2FyZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gdXBsb2FkRW1wbG95ZWVEb2N1bWVudHMoZW1wbG95ZWVJZCkgewogICAgICAgICAgICBpZiAoZW1wbG95ZWVEb2N1bWVudHNUb1VwbG9hZC5sZW5ndGggPT09IDApIHJldHVybiBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINij2YYg2KfZhNmF2LPYqtiu2K/ZhSDZhdiz2KzZhCDYr9iu2YjZhAogICAgICAgICAgICBpZiAoIWN1cnJlbnRVc2VyKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn4pqg77iPINmK2KzYqCDYqtiz2KzZitmEINin2YTYr9iu2YjZhCDYo9mI2YTYp9mLJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINit2LPYp9ioINin2YTYrdis2YUg2KfZhNmD2YTZiiDZhNmE2YXZhNmB2KfYqiAoYmFzZTY0INmK2LLZitivINin2YTYrdis2YUg2KjZhtiz2KjYqSAzMyUpCiAgICAgICAgICAgIGNvbnN0IHRvdGFsU2l6ZSA9IGVtcGxveWVlRG9jdW1lbnRzVG9VcGxvYWQucmVkdWNlKChzdW0sIGZpbGUpID0+IHN1bSArIGZpbGUuc2l6ZSwgMCk7CiAgICAgICAgICAgIGNvbnN0IGVzdGltYXRlZEJhc2U2NFNpemUgPSB0b3RhbFNpemUgKiAxLjMzOyAvLyDYqtmC2K/ZitixINit2KzZhSBiYXNlNjQKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYrdis2YUg2KfZhNmD2YTZiiAo2KfZhNit2K8g2KfZhNij2YLYtdmJIDEwIE1CIC0g2KjYudivIGJhc2U2NCDZiti12KjYrSB+MTMuMyBNQikKICAgICAgICAgICAgLy8g2KrYrdiw2YrYsTog2YfYsNinINmK2KrYrNin2YjYsiDYrdivIEZpcmVzdG9yZSAoMSBNQikg2KjYtNmD2YQg2YPYqNmK2LEKICAgICAgICAgICAgLy8g2LPZitiq2YUg2LbYuti3INin2YTZhdmE2YHYp9iqINiq2YTZgtin2KbZitin2Ysg2YTYqtmC2YTZitmEINin2YTYrdis2YUKICAgICAgICAgICAgY29uc3QgTUFYX1RPVEFMX1NJWkUgPSAxMCAqIDEwMjQgKiAxMDI0OyAvLyAxMCBNQgogICAgICAgICAgICBpZiAoZXN0aW1hdGVkQmFzZTY0U2l6ZSA+IE1BWF9UT1RBTF9TSVpFKSB7CiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFNpemVNQiA9IChlc3RpbWF0ZWRCYXNlNjRTaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgIGNvbnN0IG1heFNpemVNQiA9IChNQVhfVE9UQUxfU0laRSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMik7CiAgICAgICAgICAgICAgICBhbGVydChg4pqg77iPINil2KzZhdin2YTZiiDYrdis2YUg2KfZhNmF2YTZgdin2Kog2YPYqNmK2LEg2KzYr9in2YsgKCR7dG90YWxTaXplTUJ9IE1CINio2LnYryDYp9mE2KrYrdmI2YrZhClcblxu2KfZhNit2K8g2KfZhNij2YLYtdmJINin2YTZhdiz2YXZiNitINio2Yc6ICR7bWF4U2l6ZU1CfSBNQlxuXG7Yp9mE2LHYrNin2KEg2KXYstin2YTYqSDYqNi52LYg2KfZhNmF2YTZgdin2Kog2KPZiCDYp9iu2KrZitin2LEg2YXZhNmB2KfYqiDYo9i12LrYsS5cblxu2YXZhNin2K3YuNipOiDYrdis2YUg2KfZhNmF2YTZgdin2Kog2KjYudivINin2YTYqtit2YjZitmEINil2YTZiSBiYXNlNjQg2LPZitmD2YjZhiDYo9mD2KjYsSDYqNmG2LPYqNipIDMzJWApOwogICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqtit2LDZitixINil2LbYp9mB2Yog2KXYsNinINmD2KfZhiDYp9mE2K3YrNmFINin2YTZhdmC2K/YsSDYqNi52K8gYmFzZTY0INmK2KrYrNin2YjYsiAxIE1CICjYrdivIEZpcmVzdG9yZSkKICAgICAgICAgICAgaWYgKGVzdGltYXRlZEJhc2U2NFNpemUgPiAxICogMTAyNCAqIDEwMjQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsU2l6ZU1CID0gKGVzdGltYXRlZEJhc2U2NFNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpOwogICAgICAgICAgICAgICAgY29uc3QgY29uZmlybWVkID0gY29uZmlybShg4pqg77iPINiq2K3YsNmK2LEg2YXZh9mFOiDYpdis2YXYp9mE2Yog2K3YrNmFINin2YTZhdmE2YHYp9iqINio2LnYryDYp9mE2KrYrdmI2YrZhCDYs9mK2YPZiNmGICR7dG90YWxTaXplTUJ9IE1CXG5cbtmH2LDYpyDZitiq2KzYp9mI2LIg2K3YryBGaXJlc3RvcmUgKDEgTUIpINio2LTZg9mEINmD2KjZitixINmI2YLYryDZitiz2KjYqCDYrti32KMg2YHZiiDYp9mE2K3Zgdi4LlxuXG7Zh9mEINiq2LHZitivINin2YTZhdiq2KfYqNi52Kkg2LnZhNmJINij2Yog2K3Yp9mE2J9cblxu4pqg77iPINiq2K3YsNmK2LE6INmC2K8g2YrZgdi02YQg2KfZhNit2YHYuCDYpdiw2Kcg2YPYp9mGINin2YTYrdis2YUg2KfZhNmG2YfYp9im2Yog2KPZg9io2LEg2YXZhiAxIE1CLlxuXG7Zhti12YrYrdipOiDZitmP2YHYttmEINiq2YLZhNmK2YQg2LnYr9ivINin2YTZhdmE2YHYp9iqINij2Ygg2K3YrNmF2YfYpyDZhNiq2KzZhtioINin2YTZhdi02KfZg9mELmApOwogICAgICAgICAgICAgICAgaWYgKCFjb25maXJtZWQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHVwbG9hZGVkRG9jcyA9IFtdOwogICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZW1wbG95ZWVEb2N1bWVudHNUb1VwbG9hZCkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYrdis2YUg2KfZhNmF2YTZgSDYp9mE2YHYsdiv2YogKDEwIE1CINmD2K3YryDYo9mC2LXZiSkKICAgICAgICAgICAgICAgICAgICBjb25zdCBNQVhfRklMRV9TSVpFID0gMTAgKiAxMDI0ICogMTAyNDsgLy8gMTAgTUIKICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zaXplID4gTUFYX0ZJTEVfU0laRSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlU2l6ZU1CID0gKGZpbGUuc2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMik7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heFNpemVNQiA9IChNQVhfRklMRV9TSVpFIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYOKaoO+4jyDYp9mE2YXZhNmBICIke2ZpbGUubmFtZX0iINmD2KjZitixINis2K/Yp9mLICgke2ZpbGVTaXplTUJ9IE1CKVxuXG7Yp9mE2K3YryDYp9mE2KPZgti12Ykg2KfZhNmF2LPZhdmI2K0g2KjZhzogJHttYXhTaXplTUJ9IE1CXG5cbtiz2YrYqtmFINiq2K7Yt9mKINmH2LDYpyDYp9mE2YXZhNmBLmApOwogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KrYrdmI2YrZhCDYp9mE2YXZhNmBINil2YTZiSBiYXNlNjQKICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjRTdHJpbmcgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4gcmVzb2x2ZShlLnRhcmdldC5yZXN1bHQpOwogICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDsKICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2K3YrNmFIGJhc2U2NCDYp9mE2YHYudmE2YoKICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjRTaXplID0gbmV3IEJsb2IoW2Jhc2U2NFN0cmluZ10pLnNpemU7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2K3YrNmFIGJhc2U2NCAtINmK2KzYqCDYo9mGINmK2YPZiNmGINij2YLZhCDZhdmGIDEgTUIgKNit2K8gRmlyZXN0b3JlKQogICAgICAgICAgICAgICAgICAgIGNvbnN0IE1BWF9CQVNFNjRfU0laRSA9IDEgKiAxMDI0ICogMTAyNDsgLy8gMSBNQiDZg9it2K8g2KPZgti12Ykg2YTZgCBiYXNlNjQgKNit2K8gRmlyZXN0b3JlKQogICAgICAgICAgICAgICAgICAgIGlmIChiYXNlNjRTaXplID4gTUFYX0JBU0U2NF9TSVpFKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NFNpemVNQiA9IChiYXNlNjRTaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYOKaoO+4jyDYp9mE2YXZhNmBICIke2ZpbGUubmFtZX0iINmD2KjZitixINis2K/Yp9mLINio2LnYryDYp9mE2KrYrdmI2YrZhCDYpdmE2YkgYmFzZTY0ICgke2Jhc2U2NFNpemVNQn0gTUIpXG5cbtin2YTYrdivINin2YTYo9mC2LXZiSDYp9mE2YXYs9mF2YjYrSDYqNmHOiAxIE1CICjYrdivIEZpcmVzdG9yZSlcblxu2LPZitiq2YUg2KrYrti32Yog2YfYsNinINin2YTZhdmE2YEuXG5cbtmG2LXZitit2Kk6INmC2YUg2KjYtti62Lcg2KfZhNmF2YTZgSDYo9mIINin2K7YqtmK2KfYsSDZhdmE2YEg2KPYtdi62LEuYCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZERvY3MucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogYmFzZTY0U3RyaW5nLCAvLyDYrdmB2LggYmFzZTY0INio2K/ZhNin2Ysg2YXZhiBVUkwKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZmlsZS50eXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLAogICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBmaWxlLnNpemUsCiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWRCeTogY3VycmVudFVzZXIudWlkIHx8ICdzeXN0ZW0nCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSDYqtmFINiq2K3ZiNmK2YQg2KfZhNmF2LPYqtmG2K8g2KXZhNmJIGJhc2U2NDogJHtmaWxlLm5hbWV9ICgkeyhmaWxlLnNpemUgLyAxMDI0KS50b0ZpeGVkKDIpfSBLQiDihpIgJHsoYmFzZTY0U2l6ZSAvIDEwMjQpLnRvRml4ZWQoMil9IEtCKWApOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYrdis2YUg2KfZhNmD2YTZiiDZhNmE2YXYs9iq2YbYr9in2Kog2KjYudivINil2LbYp9mB2Kkg2YfYsNinINin2YTZhdmE2YEKICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbERvY3NTaXplID0gdXBsb2FkZWREb2NzLnJlZHVjZSgoc3VtLCBkb2MpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1bSArIG5ldyBCbG9iKFtkb2MuZGF0YV0pLnNpemU7CiAgICAgICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2K3YrNmFINin2YTZg9mE2Yog2YrYqtis2KfZiNiyIDkwMCBLQiAo2YTYqtix2YMg2YXYs9in2K3YqSDZhNmE2KjZitin2YbYp9iqINin2YTYo9iu2LHZiSnYjCDZhtit2KfZiNmEINi22LrYtyDYo9mD2KvYsQogICAgICAgICAgICAgICAgICAgIGNvbnN0IFdBUk5JTkdfU0laRSA9IDkwMCAqIDEwMjQ7IC8vIDkwMCBLQgogICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbERvY3NTaXplID4gV0FSTklOR19TSVpFICYmIHRvdGFsRG9jc1NpemUgPD0gTUFYX0JBU0U2NF9TSVpFKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2YLYsdmK2KjYp9mLINmF2YYg2KfZhNit2K/YjCDZhtit2KfZiNmEINi22LrYtyDYp9mE2YXZhNmB2KfYqiDYp9mE2YXYttin2YHYqSDZhdix2Kkg2KPYrtix2YkKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyDYp9mE2K3YrNmFINmC2LHZitioINmF2YYg2KfZhNit2K/YjCDZhdit2KfZiNmE2Kkg2LbYuti3INil2LbYp9mB2YouLi4nKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2K3YrNmFINin2YTZg9mE2Yog2YrYqtis2KfZiNiyIDEgTULYjCDZhtmI2YLZgSDYpdi22KfZgdipINin2YTZhdiy2YrYrwogICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbERvY3NTaXplID4gTUFYX0JBU0U2NF9TSVpFKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsU2l6ZU1CID0gKHRvdGFsRG9jc1NpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpOwogICAgICAgICAgICAgICAgICAgICAgICBhbGVydChg4pqg77iPINiq2K3YsNmK2LE6INil2KzZhdin2YTZiiDYrdis2YUg2KfZhNmF2YTZgdin2Kog2KjYudivINil2LbYp9mB2KkgIiR7ZmlsZS5uYW1lfSIg2LPZitmD2YjZhiAke3RvdGFsU2l6ZU1CfSBNQlxuXG7Zh9iw2Kcg2YrYqtis2KfZiNiyINit2K8gRmlyZXN0b3JlICgxIE1CKS5cblxu2LPZitiq2YUg2K3Zgdi4INin2YTZhdmE2YHYp9iqINin2YTZhdi22KfZgdipINit2KrZiSDYp9mE2KLZhiDZgdmC2LcuXG5cbtin2YTZhdmE2YHYp9iqINin2YTZhdiq2KjZgtmK2Kkg2YTZhiDZitiq2YUg2K3Zgdi42YfYpy5cblxu2YbYtdmK2K3YqTog2YLZhSDYqNit2LDZgSDYqNi52LYg2KfZhNmF2YTZgdin2Kog2KfZhNmC2K/ZitmF2Kkg2KPZiCDYp9iu2KrZitin2LEg2YXZhNmB2KfYqiDYo9i12LrYsS5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vINil2YrZgtin2YEg2KXYttin2YHYqSDYp9mE2YXYstmK2K8g2YXZhiDYp9mE2YXZhNmB2KfYqgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MINiu2LfYoyDZgdmKINmF2LnYp9mE2KzYqSDYp9mE2YXYs9iq2YbYryAke2ZpbGUubmFtZX06YCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIGFsZXJ0KGDYrti32KMg2YHZiiDZhdi52KfZhNis2Kkg2KfZhNmF2LPYqtmG2K86ICR7ZmlsZS5uYW1lfSAtICR7ZXJyb3IubWVzc2FnZX1gKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHVwbG9hZGVkRG9jcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfimqDvuI8g2YTZhSDZitiq2YUg2LHZgdi5INij2Yog2YXZhNmBLiDYqtij2YPYryDZhdmGINij2YYg2KfZhNmF2YTZgdin2Kog2KPYtdi62LEg2YXZhiAxMCBNQiDZhNmD2YQg2YXZhNmBLicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gdXBsb2FkZWREb2NzOwogICAgICAgIH0KCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICAvLyDYr9mI2KfZhCDYpdiv2KfYsdipINin2YTYsdin2KrYqCDYp9mE2YXYrdmF2YoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIGZ1bmN0aW9uIHNob3dTYWxhcnlGaWVsZCh0eXBlKSB7CiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcHJvbXB0KCfYo9iv2K7ZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YTYudix2LYv2KrYudiv2YrZhCDYp9mE2LHYp9iq2Kg6Jyk7CiAgICAgICAgICAgIGlmIChwYXNzd29yZCAhPT0gU0FMQVJZX1BBU1NXT1JEKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2YPZhNmF2Kkg2KfZhNmF2LHZiNixINi62YrYsSDYtdit2YrYrdipJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGZpZWxkSWQgPSB0eXBlID09PSAnaW5pdGlhbCcgPyAnZW1wSW5pdGlhbFNhbGFyeScgOiAnZW1wQ3VycmVudFNhbGFyeSc7CiAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5SWQgPSB0eXBlID09PSAnaW5pdGlhbCcgPyAnZW1wSW5pdGlhbFNhbGFyeUN1cnJlbmN5JyA6ICdlbXBDdXJyZW50U2FsYXJ5Q3VycmVuY3knOwogICAgICAgICAgICBjb25zdCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZpZWxkSWQpOwogICAgICAgICAgICBjb25zdCBjdXJyZW5jeUZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VycmVuY3lJZCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoZmllbGQpIHsKICAgICAgICAgICAgICAgIGZpZWxkLnR5cGUgPSAnbnVtYmVyJzsKICAgICAgICAgICAgICAgIGZpZWxkLnJlYWRPbmx5ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBmaWVsZC5wbGFjZWhvbGRlciA9ICfYo9iv2K7ZhCDYp9mE2LHYp9iq2KgnOwogICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWRWYWx1ZSA9IGZpZWxkLmdldEF0dHJpYnV0ZSgnZGF0YS1zYWxhcnktdmFsdWUnKTsKICAgICAgICAgICAgICAgIGlmIChzYXZlZFZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsdWUgPSBzYXZlZFZhbHVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZmllbGQuZm9jdXMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGN1cnJlbmN5RmllbGQpIHsKICAgICAgICAgICAgICAgIGN1cnJlbmN5RmllbGQuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICAvLyDYr9mI2KfZhCDYpdiv2KfYsdipINis2YfYp9iqINin2YTYp9iq2LXYp9mECiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICBmdW5jdGlvbiBhZGRDb250YWN0KCkgewogICAgICAgICAgICBjb25zdCBuYW1lID0gcHJvbXB0KCfYp9iz2YUg2KzZh9ipINin2YTYp9iq2LXYp9mEOicpOwogICAgICAgICAgICBpZiAoIW5hbWUpIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uc2hpcCA9IHByb21wdCgn2LXZhNipINin2YTZgtix2KfYqNipICjZhdir2YQ6INiy2YjYrC/YstmI2KzYqdiMINij2KjYjCDYo9mF2Iwg2KPYrtiMINij2K7YqtiMINil2YTYrik6Jyk7CiAgICAgICAgICAgIGlmICghcmVsYXRpb25zaGlwKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBwaG9uZSA9IHByb21wdCgn2LHZgtmFINin2YTZh9in2KrZgTonKTsKICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IHByb21wdCgn2KfZhNi52YbZiNin2YYgKNin2K7YqtmK2KfYsdmKKTonKSB8fCAnJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGNvbnRhY3QgPSB7CiAgICAgICAgICAgICAgICBpZDogJ2NvbnRhY3RfJyArIERhdGUubm93KCksCiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwOiByZWxhdGlvbnNoaXAsCiAgICAgICAgICAgICAgICBwaG9uZTogcGhvbmUgfHwgJycsCiAgICAgICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIAogICAgICAgICAgICBlbXBsb3llZUNvbnRhY3RzLnB1c2goY29udGFjdCk7CiAgICAgICAgICAgIGRpc3BsYXlDb250YWN0cygpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ29udGFjdChjb250YWN0SWQpIHsKICAgICAgICAgICAgaWYgKCFjb25maXJtKCfZh9mEINij2YbYqiDZhdiq2KPZg9ivINmF2YYg2K3YsNmBINmH2LDZhyDYrNmH2Kkg2KfZhNin2KrYtdin2YTYnycpKSByZXR1cm47CiAgICAgICAgICAgIGVtcGxveWVlQ29udGFjdHMgPSBlbXBsb3llZUNvbnRhY3RzLmZpbHRlcihjID0+IGMuaWQgIT09IGNvbnRhY3RJZCk7CiAgICAgICAgICAgIGRpc3BsYXlDb250YWN0cygpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZGlzcGxheUNvbnRhY3RzKCkgewogICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVDb250YWN0c0xpc3QnKTsKICAgICAgICAgICAgaWYgKCFjb250YWluZXIpIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChlbXBsb3llZUNvbnRhY3RzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICc8cCBzdHlsZT0iY29sb3I6ICM2NjY7IHRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogMjBweDsgZ3JpZC1jb2x1bW46IDEvLTE7Ij7ZhNinINiq2YjYrNivINis2YfYp9iqINin2KrYtdin2YQ8L3A+JzsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGVtcGxveWVlQ29udGFjdHMubWFwKGNvbnRhY3QgPT4gYAogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYm9yZGVyOiAycHggc29saWQgI2U5ZWNlZjsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiAxNXB4OyBiYWNrZ3JvdW5kOiAjZjhmOWZhOyBwb3NpdGlvbjogcmVsYXRpdmU7Ij4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJlbW92ZUNvbnRhY3QoJyR7Y29udGFjdC5pZH0nKSIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxMHB4OyBsZWZ0OiAxMHB4OyBiYWNrZ3JvdW5kOiAjZGMzNTQ1OyBjb2xvcjogd2hpdGU7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogNTAlOyB3aWR0aDogMjVweDsgaGVpZ2h0OiAyNXB4OyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMTRweDsgbGluZS1oZWlnaHQ6IDE7Ij7DlzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiA1cHg7Ij4ke2NvbnRhY3QubmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzY2NjsgbWFyZ2luLWJvdHRvbTogNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPti12YTYqSDYp9mE2YLYsdin2KjYqTo8L3N0cm9uZz4gJHtjb250YWN0LnJlbGF0aW9uc2hpcH0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICR7Y29udGFjdC5waG9uZSA/IGA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNjY2OyBtYXJnaW4tYm90dG9tOiA1cHg7Ij48c3Ryb25nPtin2YTZh9in2KrZgTo8L3N0cm9uZz4gJHtjb250YWN0LnBob25lfTwvZGl2PmAgOiAnJ30KICAgICAgICAgICAgICAgICAgICAgICAgJHtjb250YWN0LmFkZHJlc3MgPyBgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzY2NjsiPjxzdHJvbmc+2KfZhNi52YbZiNin2YY6PC9zdHJvbmc+ICR7Y29udGFjdC5hZGRyZXNzfTwvZGl2PmAgOiAnJ30KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgKS5qb2luKCcnKTsKICAgICAgICB9CgogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2K/ZiNin2YQg2KXYr9in2LHYqSDYs9is2YQg2KfZhNmF2LTYp9ix2YrYuQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgZnVuY3Rpb24gc2hvd0FkZFByb2plY3RUb0hpc3RvcnlGb3JtKCkgewogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRQcm9qZWN0VG9IaXN0b3J5TW9kYWwnKTsKICAgICAgICAgICAgaWYgKCFtb2RhbCkgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpc3RvcnlQcm9qZWN0U2VsZWN0Jyk7CiAgICAgICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2YXYtNix2YjYuTwvb3B0aW9uPic7CiAgICAgICAgICAgIHByb2plY3RzRGF0YS5mb3JFYWNoKHByb2ogPT4gewogICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBwcm9qLmlkOwogICAgICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gYCR7cHJvai5jb2RlIHx8ICcnfSAtICR7cHJvai5uYW1lIHx8ICcnfWA7CiAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlzdG9yeVByb2plY3RTdGFydERhdGUnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlzdG9yeVByb2plY3RJc0N1cnJlbnQnKS5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpc3RvcnlQcm9qZWN0RW5kRGF0ZUdyb3VwJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaGlkZUFkZFByb2plY3RUb0hpc3RvcnlGb3JtKCkgewogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRQcm9qZWN0VG9IaXN0b3J5TW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlUHJvamVjdEVuZERhdGUoKSB7CiAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaXN0b3J5UHJvamVjdElzQ3VycmVudCcpLmNoZWNrZWQ7CiAgICAgICAgICAgIGNvbnN0IGVuZERhdGVHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaXN0b3J5UHJvamVjdEVuZERhdGVHcm91cCcpOwogICAgICAgICAgICBpZiAoaXNDdXJyZW50KSB7CiAgICAgICAgICAgICAgICBlbmREYXRlR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaXN0b3J5UHJvamVjdEVuZERhdGUnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZW5kRGF0ZUdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBhZGRQcm9qZWN0VG9IaXN0b3J5KCkgewogICAgICAgICAgICBjb25zdCBwcm9qZWN0SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlzdG9yeVByb2plY3RTZWxlY3QnKS52YWx1ZTsKICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpc3RvcnlQcm9qZWN0U3RhcnREYXRlJykudmFsdWU7CiAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaXN0b3J5UHJvamVjdElzQ3VycmVudCcpLmNoZWNrZWQ7CiAgICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlzdG9yeVByb2plY3RFbmREYXRlJykudmFsdWU7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIXByb2plY3RJZCB8fCAhc3RhcnREYXRlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINil2K/Yrtin2YQg2KfZhNmF2LTYsdmI2Lkg2YjYqtin2LHZitiuINin2YTYqNiv2KEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RzRGF0YS5maW5kKHAgPT4gcC5pZCA9PT0gcHJvamVjdElkKTsKICAgICAgICAgICAgaWYgKCFwcm9qZWN0KSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNmF2LTYsdmI2Lkg2LrZitixINmF2YjYrNmI2K8nKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2YjYrNmI2K8g2YXYtNin2LHZiti5INit2KfZhNmK2Kkg2KjYr9mI2YYg2KrYp9ix2YrYriDYp9mG2KrZh9in2KEKICAgICAgICAgICAgY29uc3QgY3VycmVudFByb2plY3RzID0gZW1wbG95ZWVQcm9qZWN0c0hpc3RvcnkuZmlsdGVyKHAgPT4gcC5pc0N1cnJlbnQpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGN1cnJlbnRQcm9qZWN0cy5sZW5ndGggPiAwICYmIGlzQ3VycmVudCkgewogICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDZh9mG2KfZgyDZhdi02KfYsdmK2Lkg2K3Yp9mE2YrYqSDZiNin2YTZhdi02LHZiNi5INin2YTYrNiv2YrYryDYo9mK2LbYp9mLINit2KfZhNmK2KfZi9iMINmG2LPYo9mEINin2YTZhdiz2KrYrtiv2YUKICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0c05hbWVzID0gY3VycmVudFByb2plY3RzLm1hcChwID0+IHAucHJvamVjdE5hbWUpLmpvaW4oJ9iMICcpOwogICAgICAgICAgICAgICAgY29uc3QgbmV3UHJvamVjdE5hbWUgPSBwcm9qZWN0Lm5hbWU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJDaG9pY2UgPSBjb25maXJtKAogICAgICAgICAgICAgICAgICAgIGDimqDvuI8g2YrZiNis2K8gJHtjdXJyZW50UHJvamVjdHMubGVuZ3RofSDZhdi02LHZiNi5KNin2KopINit2KfZhNmK2Kkg2KjYr9mI2YYg2KrYp9ix2YrYriDYp9mG2KrZh9in2KE6XG5cbmAgKwogICAgICAgICAgICAgICAgICAgIGDYp9mE2YXYtNin2LHZiti5INin2YTYrdin2YTZitipOiAke2N1cnJlbnRQcm9qZWN0c05hbWVzfVxuXG5gICsKICAgICAgICAgICAgICAgICAgICBg2KfZhNmF2LTYsdmI2Lkg2KfZhNis2K/ZitivOiAke25ld1Byb2plY3ROYW1lfVxuXG5gICsKICAgICAgICAgICAgICAgICAgICBg2YfZhCDYp9mE2YXZiNi42YEg2YrYudmF2YQg2YHZiiDYp9mE2YXYtNix2YjYudmK2YYg2YXYudin2YvYn1xuXG5gICsKICAgICAgICAgICAgICAgICAgICBg4oCiINin2LbYuti3ICLZhdmI2KfZgdmCIiDYpdiw2Kcg2YPYp9mGINin2YTZhdmI2LjZgSDZiti52YXZhCDZgdmKINin2YTZhdi02LHZiNi52YrZhiDZhdi52KfZi1xuYCArCiAgICAgICAgICAgICAgICAgICAgYOKAoiDYp9i22LrYtyAi2KXZhNi62KfYoSIg2KXYsNinINin2YbYqtmC2YQg2KfZhNmF2YjYuNmBINmF2YYg2KfZhNmF2LTYp9ix2YrYuSDYp9mE2LPYp9io2YLYqSDYpdmE2Ykg2KfZhNmF2LTYsdmI2Lkg2KfZhNis2K/ZitivYAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHVzZXJDaG9pY2UpIHsKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2YXZiNi42YEg2YrYudmF2YQg2YHZiiDYp9mE2YXYtNix2YjYudmK2YYg2YXYudin2YsgLSDZhti22YrZgSDYp9mE2YXYtNix2YjYuSDYp9mE2KzYr9mK2K8g2KjYr9mI2YYg2KXZhtmH2KfYoSDYp9mE2YXYtNin2LHZiti5INin2YTYs9in2KjZgtipCiAgICAgICAgICAgICAgICAgICAgLy8g2YTYpyDZhtmB2LnZhCDYtNmK2KbYp9mLINmE2YTZhdi02KfYsdmK2Lkg2KfZhNiz2KfYqNmC2KkKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNmF2YjYuNmBINin2YbYqtmC2YQgLSDZhtiz2KPZhCDYp9mE2YXYs9iq2K7Yr9mFINi52YYg2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihINmE2YTZhdi02KfYsdmK2Lkg2KfZhNiz2KfYqNmC2KkKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmREYXRlSW5wdXQgPSBwcm9tcHQoCiAgICAgICAgICAgICAgICAgICAgICAgIGDYp9mE2YXZiNi42YEg2KfZhtiq2YLZhCDZhdmGINin2YTZhdi02KfYsdmK2Lkg2KfZhNiz2KfYqNmC2Kkg2KXZhNmJINin2YTZhdi02LHZiNi5INin2YTYrNiv2YrYry5cblxuYCArCiAgICAgICAgICAgICAgICAgICAgICAgIGDYp9mE2YXYtNin2LHZiti5INin2YTYs9in2KjZgtipOiAke2N1cnJlbnRQcm9qZWN0c05hbWVzfVxuXG5gICsKICAgICAgICAgICAgICAgICAgICAgICAgYNiq2KfYsdmK2K4g2KjYr9ihINin2YTZhdi02LHZiNi5INin2YTYrNiv2YrYrzogJHtzdGFydERhdGV9XG5cbmAgKwogICAgICAgICAgICAgICAgICAgICAgICBg2KfZhNix2KzYp9ihINil2K/Yrtin2YQg2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihINmE2YTZhdi02KfYsdmK2Lkg2KfZhNiz2KfYqNmC2KkgKFlZWVktTU0tREQpOlxuYCArCiAgICAgICAgICAgICAgICAgICAgICAgIGAo2KfYqtix2YPZhyDZgdin2LHYutin2Ysg2YTYp9iz2KrYrtiv2KfZhSDYqtin2LHZitiuOiAke25ldyBEYXRlKG5ldyBEYXRlKHN0YXJ0RGF0ZSkuc2V0RGF0ZShuZXcgRGF0ZShzdGFydERhdGUpLmdldERhdGUoKSAtIDEpKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19KWAKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGxldCBlbmREYXRlRm9yUHJldmlvdXM7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZERhdGVJbnB1dCAmJiBlbmREYXRlSW5wdXQudHJpbSgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINi12K3YqSDYp9mE2KrYp9ix2YrYrgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlUmVnZXggPSAvXlxkezR9LVxkezJ9LVxkezJ9JC87CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0ZVJlZ2V4LnRlc3QoZW5kRGF0ZUlucHV0LnRyaW0oKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfimqDvuI8g2KrZhtiz2YrZgiDYp9mE2KrYp9ix2YrYriDYutmK2LEg2LXYrdmK2K0uINmK2KzYqCDYo9mGINmK2YPZiNmGINio2KfZhNi12YrYutipIFlZWVktTU0tREQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbmREYXRlRm9yUHJldmlvdXMgPSBlbmREYXRlSW5wdXQudHJpbSgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2LPYqtiu2K/Yp9mFINin2YTYqtin2LHZitiuINin2YTYp9mB2KrYsdin2LbZiiAo2YrZiNmFINmC2KjZhCDYqtin2LHZitiuINin2YTYqNiv2KEg2KfZhNis2K/ZitivKQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RW5kRGF0ZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRFbmREYXRlLnNldERhdGUoZGVmYXVsdEVuZERhdGUuZ2V0RGF0ZSgpIC0gMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGVuZERhdGVGb3JQcmV2aW91cyA9IGRlZmF1bHRFbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KXZhtmH2KfYoSDYrNmF2YrYuSDYp9mE2YXYtNin2LHZiti5INin2YTYs9in2KjZgtipINio2KfZhNiq2KfYsdmK2K4g2KfZhNmF2K3Yr9ivCiAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb2plY3RzLmZvckVhY2goY3VycmVudFByb2ogPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvai5lbmREYXRlID0gZW5kRGF0ZUZvclByZXZpb3VzOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvai5pc0N1cnJlbnQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UHJvamVjdHMubGVuZ3RoID4gMCAmJiAhaXNDdXJyZW50KSB7CiAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YPYp9mGINin2YTZhdi02LHZiNi5INin2YTYrNiv2YrYryDZhNmK2LMg2K3Yp9mE2YrYp9mL2Iwg2YTYpyDZhtit2KrYp9isINmE2YTYs9ik2KfZhAogICAgICAgICAgICAgICAgLy8g2YbZhtmH2Yog2KfZhNmF2LTYp9ix2YrYuSDYp9mE2LPYp9io2YLYqSDZgdmC2Lcg2KXYsNinINmD2KfZhiDYqtin2LHZitiuINin2YTYqNiv2KEg2KfZhNis2K/ZitivINio2LnYryDYqtin2LHZitiuINio2K/YoSDYp9mE2YXYtNin2LHZiti5INin2YTYs9in2KjZgtipCiAgICAgICAgICAgICAgICBjdXJyZW50UHJvamVjdHMuZm9yRWFjaChjdXJyZW50UHJvaiA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFN0YXJ0RGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnRQcm9qLnN0YXJ0RGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhcnREYXRlID0gbmV3IERhdGUoc3RhcnREYXRlKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAobmV3U3RhcnREYXRlID4gY3VycmVudFN0YXJ0RGF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmREYXRlRm9yUHJldmlvdXMgPSBuZXcgRGF0ZShzdGFydERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICBlbmREYXRlRm9yUHJldmlvdXMuc2V0RGF0ZShlbmREYXRlRm9yUHJldmlvdXMuZ2V0RGF0ZSgpIC0gMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9qLmVuZERhdGUgPSBlbmREYXRlRm9yUHJldmlvdXMudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvai5pc0N1cnJlbnQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgcHJvamVjdEhpc3RvcnkgPSB7CiAgICAgICAgICAgICAgICBpZDogJ3Byb2pfJyArIERhdGUubm93KCksCiAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2plY3RJZCwKICAgICAgICAgICAgICAgIHByb2plY3RDb2RlOiBwcm9qZWN0LmNvZGUgfHwgJycsCiAgICAgICAgICAgICAgICBwcm9qZWN0TmFtZTogcHJvamVjdC5uYW1lLAogICAgICAgICAgICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUsCiAgICAgICAgICAgICAgICBlbmREYXRlOiBpc0N1cnJlbnQgPyBudWxsIDogZW5kRGF0ZSwKICAgICAgICAgICAgICAgIGlzQ3VycmVudDogaXNDdXJyZW50CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIAogICAgICAgICAgICBlbXBsb3llZVByb2plY3RzSGlzdG9yeS5wdXNoKHByb2plY3RIaXN0b3J5KTsKICAgICAgICAgICAgZGlzcGxheVByb2plY3RzSGlzdG9yeSgpOwogICAgICAgICAgICBoaWRlQWRkUHJvamVjdFRvSGlzdG9yeUZvcm0oKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRpc3BsYXlQcm9qZWN0c0hpc3RvcnkoKSB7CiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0c0hpc3RvcnlMaXN0Jyk7CiAgICAgICAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoZW1wbG95ZWVQcm9qZWN0c0hpc3RvcnkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJzxwIHN0eWxlPSJjb2xvcjogIzY2NjsgdGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAyMHB4OyI+2YTYpyDYqtmI2KzYryDZhdi02KfYsdmK2Lkg2YXYs9is2YTYqTwvcD4nOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBzb3J0ZWRQcm9qZWN0cyA9IFsuLi5lbXBsb3llZVByb2plY3RzSGlzdG9yeV0uc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGIuc3RhcnREYXRlKSAtIG5ldyBEYXRlKGEuc3RhcnREYXRlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gc29ydGVkUHJvamVjdHMubWFwKHByb2ogPT4gewogICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gcHJvai5pc0N1cnJlbnQgPyAn2YrYudmF2YQg2K3Yp9mE2YrYp9mLJyA6ICfZhdmG2KrZh9mKJzsKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c0NvbG9yID0gcHJvai5pc0N1cnJlbnQgPyAnIzI4YTc0NScgOiAnIzZjNzU3ZCc7CiAgICAgICAgICAgICAgICByZXR1cm4gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJvcmRlcjogMnB4IHNvbGlkICNlOWVjZWY7IGJvcmRlci1yYWRpdXM6IDhweDsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogI2Y4ZjlmYTsgcG9zaXRpb246IHJlbGF0aXZlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0icmVtb3ZlUHJvamVjdEZyb21IaXN0b3J5KCcke3Byb2ouaWR9JykiIHN0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTBweDsgbGVmdDogMTBweDsgYmFja2dyb3VuZDogI2RjMzU0NTsgY29sb3I6IHdoaXRlOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDUwJTsgd2lkdGg6IDI1cHg7IGhlaWdodDogMjVweDsgY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDE0cHg7IGxpbmUtaGVpZ2h0OiAxOyIgdGl0bGU9Itit2LDZgSDYp9mE2YXYtNix2YjYuSI+w5c8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiA1cHg7Ij4ke3Byb2oucHJvamVjdENvZGUgfHwgJyd9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICMzMzM7IG1hcmdpbi1ib3R0b206IDVweDsiPiR7cHJvai5wcm9qZWN0TmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICM2NjY7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHN0cm9uZz7Yqtin2LHZitiuINin2YTYqNiv2KE6PC9zdHJvbmc+ICR7cHJvai5zdGFydERhdGV9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzdHJvbmc+JHtwcm9qLmlzQ3VycmVudCA/ICfYp9mE2K3Yp9mE2Kk6JyA6ICfYqtin2LHZitiuINin2YTYp9mG2KrZh9in2KE6J308L3N0cm9uZz4gJHtwcm9qLmlzQ3VycmVudCA/ICfZiti52YXZhCDYrdin2YTZitin2YsnIDogcHJvai5lbmREYXRlfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyOyBtYXJnaW4tdG9wOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iYmFja2dyb3VuZDogJHtzdGF0dXNDb2xvcn07IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogNHB4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IGZvbnQtc2l6ZTogMTFweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGRpc3BsYXk6IGlubGluZS1ibG9jazsiPiR7c3RhdHVzfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7cHJvai5pc0N1cnJlbnQgPyBgPGJ1dHRvbiBvbmNsaWNrPSJlbmRQcm9qZWN0RnJvbUhpc3RvcnkoJyR7cHJvai5pZH0nKSIgc3R5bGU9ImJhY2tncm91bmQ6ICNmZmMxMDc7IGNvbG9yOiB3aGl0ZTsgYm9yZGVyOiBub25lOyBwYWRkaW5nOiA2cHggMTJweDsgYm9yZGVyLXJhZGl1czogNnB4OyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMTJweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IiB0aXRsZT0i2KXZhtmH2KfYoSDYp9mE2YXYtNix2YjYuSI+2KXZhtmH2KfYoSDYp9mE2YXYtNix2YjYuTwvYnV0dG9uPmAgOiAnJ30KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbW92ZVByb2plY3RGcm9tSGlzdG9yeShwcm9qZWN0SWQpIHsKICAgICAgICAgICAgaWYgKCFjb25maXJtKCfZh9mEINij2YbYqiDZhdiq2KPZg9ivINmF2YYg2K3YsNmBINmH2LDYpyDYp9mE2YXYtNix2YjYuSDZhdmGINin2YTYs9is2YTYnycpKSByZXR1cm47CiAgICAgICAgICAgIGVtcGxveWVlUHJvamVjdHNIaXN0b3J5ID0gZW1wbG95ZWVQcm9qZWN0c0hpc3RvcnkuZmlsdGVyKHAgPT4gcC5pZCAhPT0gcHJvamVjdElkKTsKICAgICAgICAgICAgZGlzcGxheVByb2plY3RzSGlzdG9yeSgpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDZhdiq2LrZitixINmE2KrYrtiy2YrZhiDZhdi52LHZgSDYp9mE2YXYtNix2YjYuSDYp9mE2YXYsdin2K8g2KXZhtmH2KfYpNmHCiAgICAgICAgbGV0IHByb2plY3RUb0VuZElkID0gbnVsbDsKICAgICAgICAKICAgICAgICAvLyDYpdmG2YfYp9ihINmF2LTYsdmI2Lkg2K3Yp9mE2YrYp9mLICjYqNiv2YjZhiDYpdi22KfZgdipINmF2LTYsdmI2Lkg2KzYr9mK2K8pCiAgICAgICAgZnVuY3Rpb24gZW5kUHJvamVjdEZyb21IaXN0b3J5KHByb2plY3RJZCkgewogICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gZW1wbG95ZWVQcm9qZWN0c0hpc3RvcnkuZmluZChwID0+IHAuaWQgPT09IHByb2plY3RJZCk7CiAgICAgICAgICAgIGlmICghcHJvamVjdCB8fCAhcHJvamVjdC5pc0N1cnJlbnQpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2YXYtNix2YjYuSDYutmK2LEg2YXZiNis2YjYryDYo9mIINi62YrYsSDYrdin2YTZitin2YsnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgcHJvamVjdFRvRW5kSWQgPSBwcm9qZWN0SWQ7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYudix2LYg2YXYudmE2YjZhdin2Kog2KfZhNmF2LTYsdmI2Lkg2YHZiiDYp9mE2YbYp9mB2LDYqQogICAgICAgICAgICBjb25zdCBwcm9qZWN0SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmRQcm9qZWN0SW5mbycpOwogICAgICAgICAgICBwcm9qZWN0SW5mby5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IGZvbnQtc2l6ZTogMTZweDsiPiR7cHJvamVjdC5wcm9qZWN0Q29kZSB8fCAnJ30gLSAke3Byb2plY3QucHJvamVjdE5hbWV9PC9zdHJvbmc+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICM2NjY7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzdHJvbmc+2KrYp9ix2YrYriDYp9mE2KjYr9ihOjwvc3Ryb25nPiAke3Byb2plY3Quc3RhcnREYXRlfTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDVweDsiPjxzdHJvbmc+2KfZhNit2KfZhNipINin2YTYrdin2YTZitipOjwvc3Ryb25nPiA8c3BhbiBzdHlsZT0iY29sb3I6ICMyOGE3NDU7IGZvbnQtd2VpZ2h0OiBib2xkOyI+2YrYudmF2YQg2K3Yp9mE2YrYp9mLPC9zcGFuPjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqti52YrZitmGINiq2KfYsdmK2K4g2KfZhNmK2YjZhSDZg9mC2YrZhdipINin2YHYqtix2KfYttmK2KkKICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuZFByb2plY3REYXRlJykudmFsdWUgPSB0b2RheTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LjZh9in2LEg2KfZhNmG2KfZgdiw2KkKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW5kUHJvamVjdE1vZGFsJyk7CiAgICAgICAgICAgIGlmIChtb2RhbCkgewogICAgICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2KXYrtmB2KfYoSDZhtin2YHYsNipINil2YbZh9in2KEg2KfZhNmF2LTYsdmI2LkKICAgICAgICBmdW5jdGlvbiBoaWRlRW5kUHJvamVjdE1vZGFsKCkgewogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmRQcm9qZWN0TW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBwcm9qZWN0VG9FbmRJZCA9IG51bGw7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmRQcm9qZWN0RGF0ZScpLnZhbHVlID0gJyc7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vINiq2KPZg9mK2K8g2KXZhtmH2KfYoSDYp9mE2YXYtNix2YjYuQogICAgICAgIGZ1bmN0aW9uIGNvbmZpcm1FbmRQcm9qZWN0KCkgewogICAgICAgICAgICBpZiAoIXByb2plY3RUb0VuZElkKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijOiDZhNmFINmK2KrZhSDYqtit2K/ZitivINin2YTZhdi02LHZiNi5Jyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBlbXBsb3llZVByb2plY3RzSGlzdG9yeS5maW5kKHAgPT4gcC5pZCA9PT0gcHJvamVjdFRvRW5kSWQpOwogICAgICAgICAgICBpZiAoIXByb2plY3QgfHwgIXByb2plY3QuaXNDdXJyZW50KSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNmF2LTYsdmI2Lkg2LrZitixINmF2YjYrNmI2K8g2KPZiCDYutmK2LEg2K3Yp9mE2YrYp9mLJyk7CiAgICAgICAgICAgICAgICBoaWRlRW5kUHJvamVjdE1vZGFsKCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGVuZERhdGVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmRQcm9qZWN0RGF0ZScpLnZhbHVlOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFlbmREYXRlSW5wdXQpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfimqDvuI8g2KfZhNix2KzYp9ihINiq2K3Yr9mK2K8g2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINij2YYg2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihINio2LnYryDYqtin2LHZitiuINin2YTYqNiv2KEKICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUocHJvamVjdC5zdGFydERhdGUpOwogICAgICAgICAgICBjb25zdCBlbmREYXRlT2JqID0gbmV3IERhdGUoZW5kRGF0ZUlucHV0KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChlbmREYXRlT2JqIDwgc3RhcnREYXRlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn4pqg77iPINiq2KfYsdmK2K4g2KfZhNin2YbYqtmH2KfYoSDZitis2Kgg2KPZhiDZitmD2YjZhiDYqNi52K8g2KrYp9ix2YrYriDYp9mE2KjYr9ihJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2KfZhNmF2LTYsdmI2LkKICAgICAgICAgICAgcHJvamVjdC5lbmREYXRlID0gZW5kRGF0ZUlucHV0OwogICAgICAgICAgICBwcm9qZWN0LmlzQ3VycmVudCA9IGZhbHNlOwogICAgICAgICAgICAKICAgICAgICAgICAgZGlzcGxheVByb2plY3RzSGlzdG9yeSgpOwogICAgICAgICAgICBoaWRlRW5kUHJvamVjdE1vZGFsKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBhbGVydChg4pyFINiq2YUg2KXZhtmH2KfYoSDYp9mE2YXYtNix2YjYuSAiJHtwcm9qZWN0LnByb2plY3ROYW1lfSIg2KjZhtis2KfYrSFcbtiq2KfYsdmK2K4g2KfZhNin2YbYqtmH2KfYoTogJHtlbmREYXRlSW5wdXR9YCk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vINi52LHYtiDYtdmI2LHYqSDYp9mE2YXZiNi42YEg2YHZiiDZhtin2YHYsNipINmF2YbYqNir2YLYqQogICAgICAgIGZ1bmN0aW9uIHZpZXdFbXBsb3llZVBob3RvKHBob3RvVVJMLCBlbXBsb3llZU5hbWUpIHsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgbW9kYWwuY2xhc3NOYW1lID0gJ21vZGFsJzsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuekluZGV4ID0gJzEwMDA0JzsKICAgICAgICAgICAgbW9kYWwuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogNjAwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz7YtdmI2LHYqSDYp9mE2YXZiNi42YEgLSAke2VtcGxveWVlTmFtZSB8fCAn2LrZitixINmF2K3Yr9ivJ308L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9kYWwtY2xvc2UiIG9uY2xpY2s9InRoaXMuY2xvc2VzdCgnLm1vZGFsJykucmVtb3ZlKCkiPiZ0aW1lczs8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSIke3Bob3RvVVJMfSIgYWx0PSIke2VtcGxveWVlTmFtZSB8fCAn2LXZiNix2Kkg2KfZhNmF2YjYuNmBJ30iIHN0eWxlPSJtYXgtd2lkdGg6IDEwMCU7IG1heC1oZWlnaHQ6IDUwMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBib3gtc2hhZG93OiAwIDRweCAxNXB4IHJnYmEoMCwwLDAsMC4yKTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSIgb25jbGljaz0idGhpcy5jbG9zZXN0KCcubW9kYWwnKS5yZW1vdmUoKSI+2KXYutmE2KfZgjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgOwogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CiAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KXYutmE2KfZgiDYp9mE2YbYp9mB2LDYqSDYudmG2K8g2KfZhNmG2YLYsSDYrtin2LHYrNmH2KcKICAgICAgICAgICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewogICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBtb2RhbCkgewogICAgICAgICAgICAgICAgICAgIG1vZGFsLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2LnYsdi2INin2YTZhdmE2YHYp9iqINin2YTZhdix2YHZgtipINmE2YTZhdmI2LjZgSDZgdmKINmG2KfZgdiw2Kkg2YXZhtmB2LXZhNipCiAgICAgICAgZnVuY3Rpb24gdmlld0VtcGxveWVlRG9jdW1lbnRzKGVtcGxveWVlSWQpIHsKICAgICAgICAgICAgY29uc3QgZW1wbG95ZWUgPSBlbXBsb3llZXNEYXRhLmZpbmQoZSA9PiBlLmlkID09PSBlbXBsb3llZUlkKTsKICAgICAgICAgICAgaWYgKCFlbXBsb3llZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTZhdmI2LjZgSDYutmK2LEg2YXZiNis2YjYrycpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBkb2N1bWVudHMgPSBlbXBsb3llZS5kb2N1bWVudHMgfHwgW107CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdmG2LTYp9ihINmG2KfZgdiw2Kkg2LnYsdi2INin2YTZhdmE2YHYp9iqINin2YTZhdix2YHZgtipCiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgIG1vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbCc7CiAgICAgICAgICAgIG1vZGFsLnN0eWxlLnpJbmRleCA9ICcxMDAwNSc7CiAgICAgICAgICAgIG1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6IDgwMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGgzPtin2YTZhdmE2YHYp9iqINin2YTZhdix2YHZgtipIC0gJHtlbXBsb3llZS5uYW1lfTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtb2RhbC1jbG9zZSIgb25jbGljaz0idGhpcy5jbG9zZXN0KCcubW9kYWwnKS5yZW1vdmUoKSI+JnRpbWVzOzwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTVweDsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogI2U3ZjNmZjsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXItcmlnaHQ6IDRweCBzb2xpZCAjNjY3ZWVhOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGZsZXgtd3JhcDogd3JhcDsgZ2FwOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IGZvbnQtc2l6ZTogMTZweDsiPvCfl5zvuI8g2KPYr9mI2KfYqiDYp9mE2YXZhNmB2KfYqjwvc3Ryb25nPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0ibWFyZ2luOiA1cHggMCAwIDA7IGZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICM2NjY7Ij7Ytti62Lcg2KfZhNmF2YTZgdin2Kog2YjYqtit2YjZitmEIFBERiDYpdmE2Ykg2LXZiNixPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsgZmxleC13cmFwOiB3cmFwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNvbnZlcnRQZGZUb0ltYWdlc0J0biIgb25jbGljaz0iY29udmVydFBkZlRvSW1hZ2VzKCcke2VtcGxveWVlSWR9JykiIGNsYXNzPSJidG4gYnRuLWluZm8iIHN0eWxlPSJwYWRkaW5nOiA4cHggMTZweDsgZm9udC1zaXplOiAxNHB4OyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDZweDsgY3Vyc29yOiBwb2ludGVyOyBiYWNrZ3JvdW5kOiAjMTdhMmI4OyBjb2xvcjogd2hpdGU7IGZvbnQtd2VpZ2h0OiBib2xkOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0ibWFyZ2luLWxlZnQ6IDVweDsiPvCfk4TihpLwn5a877iPPC9zcGFuPiDYqtit2YjZitmEIFBERiDYpdmE2Ykg2LXZiNixCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjb21wcmVzc0FsbERvY3VtZW50c0J0biIgb25jbGljaz0iY29tcHJlc3NBbGxFbXBsb3llZURvY3VtZW50cygnJHtlbXBsb3llZUlkfScpIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0icGFkZGluZzogOHB4IDE2cHg7IGZvbnQtc2l6ZTogMTRweDsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiA2cHg7IGN1cnNvcjogcG9pbnRlcjsgYmFja2dyb3VuZDogIzY2N2VlYTsgY29sb3I6IHdoaXRlOyBmb250LXdlaWdodDogYm9sZDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9Im1hcmdpbi1sZWZ0OiA1cHg7Ij7wn5ec77iPPC9zcGFuPiDYtti62Lcg2KzZhdmK2Lkg2KfZhNi12YjYsQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZW1wbG95ZWVEb2N1bWVudHNWaWV3IiBzdHlsZT0ibWF4LWhlaWdodDogNTAwcHg7IG92ZXJmbG93LXk6IGF1dG87Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2LnYsdi2INin2YTZhdmE2YHYp9iqINmH2YbYpyAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zZWNvbmRhcnkiIG9uY2xpY2s9InRoaXMuY2xvc2VzdCgnLm1vZGFsJykucmVtb3ZlKCkiPtil2LrZhNin2YI8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpOwogICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINi52LHYtiDYp9mE2YXZhNmB2KfYqgogICAgICAgICAgICBjb25zdCBkb2N1bWVudHNWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlRG9jdW1lbnRzVmlldycpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGRvY3VtZW50cy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50c1ZpZXcuaW5uZXJIVE1MID0gJzxwIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7IGNvbG9yOiAjNjY2OyI+2YTYpyDYqtmI2KzYryDZhdmE2YHYp9iqINmF2LHZgdmC2Kkg2YTZh9iw2Kcg2KfZhNmF2YjYuNmBPC9wPic7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDYrdmB2Lgg2KjZitin2YbYp9iqINin2YTZhdmE2YHYp9iqINmB2Yog2YXYqti62YrYsSDZhdik2YLYqiDZhNmE2YjYtdmI2YQg2KXZhNmK2YfYpyDZhdmGINin2YTYr9mI2KfZhAogICAgICAgICAgICAgICAgd2luZG93LnRlbXBEb2N1bWVudHNEYXRhID0gZG9jdW1lbnRzOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBkb2N1bWVudHNWaWV3LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgyNTBweCwgMWZyKSk7IGdhcDogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAke2RvY3VtZW50cy5tYXAoKGRvYywgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gZG9jLm5hbWUgfHwgYNmF2YTZgSAke2luZGV4ICsgMX1gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGZpbGVOYW1lLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzSW1hZ2UgPSBbJ2pwZycsICdqcGVnJywgJ3BuZycsICdnaWYnLCAnd2VicCddLmluY2x1ZGVzKGZpbGVFeHRlbnNpb24pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNQREYgPSBmaWxlRXh0ZW5zaW9uID09PSAncGRmJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KfYs9iq2K7Yr9in2YUgZGF0YSAoYmFzZTY0KSDYo9mIIHVybCAo2YTZhNiq2YjYp9mB2YIg2YXYuSDYp9mE2KjZitin2YbYp9iqINin2YTZgtiv2YrZhdipKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZURhdGEgPSBkb2MuZGF0YSB8fCBkb2MudXJsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWNvbiA9ICfwn5OEJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0ltYWdlKSBpY29uID0gJ/CflrzvuI8nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNQREYpIGljb24gPSAn8J+TlSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChbJ2RvYycsICdkb2N4J10uaW5jbHVkZXMoZmlsZUV4dGVuc2lvbikpIGljb24gPSAn8J+TmCc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChbJ3hscycsICd4bHN4J10uaW5jbHVkZXMoZmlsZUV4dGVuc2lvbikpIGljb24gPSAn8J+Tiic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2LPYqtiu2K/Yp9mFIGluZGV4INmE2KrYrtiy2YrZhiDYp9mE2KjZitin2YbYp9iqINmB2Yog2YXYqti62YrYsSDZhdik2YLYqgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUluZGV4ID0gaW5kZXg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWZlRmlsZU5hbWUgPSBmaWxlTmFtZS5yZXBsYWNlKC8nL2csICJcXCciKS5yZXBsYWNlKC8iL2csICcmcXVvdDsnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJib3JkZXI6IDJweCBzb2xpZCAjZTllY2VmOyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQ6ICNmOGY5ZmE7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDNlbTsgbWFyZ2luLWJvdHRvbTogMTBweDsiPiR7aWNvbn08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMzMzOyBtYXJnaW4tYm90dG9tOiAxMHB4OyB3b3JkLWJyZWFrOiBicmVhay13b3JkOyBmb250LXNpemU6IDE0cHg7Ij4ke3NhZmVGaWxlTmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtkb2Muc2l6ZSA/IGA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDExcHg7IGNvbG9yOiAjNjY2OyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+JHsoZG9jLnNpemUgLyAxMDI0KS50b0ZpeGVkKDIpfSBLQjwvZGl2PmAgOiAnJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsgZ2FwOiA1cHg7IGp1c3RpZnktY29udGVudDogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9Im9wZW5Eb2N1bWVudEF0SW5kZXgoJHtmaWxlSW5kZXh9LCAnJHtmaWxlRXh0ZW5zaW9ufScpIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0icGFkZGluZzogNnB4IDEycHg7IGZvbnQtc2l6ZTogMTJweDsgY3Vyc29yOiBwb2ludGVyOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDRweDsgYmFja2dyb3VuZDogIzY2N2VlYTsgY29sb3I6IHdoaXRlOyI+2YHYqtitPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImRvd25sb2FkRG9jdW1lbnRBdEluZGV4KCR7ZmlsZUluZGV4fSkiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIHN0eWxlPSJwYWRkaW5nOiA2cHggMTJweDsgZm9udC1zaXplOiAxMnB4OyBjdXJzb3I6IHBvaW50ZXI7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogNHB4OyBiYWNrZ3JvdW5kOiAjMjhhNzQ1OyBjb2xvcjogd2hpdGU7Ij7Yqtit2YXZitmEPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICAgICAgfSkuam9pbignJyl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdi62YTYp9mCINin2YTZhtin2YHYsNipINi52YbYryDYp9mE2YbZgtixINiu2KfYsdis2YfYpwogICAgICAgICAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IG1vZGFsKSB7CiAgICAgICAgICAgICAgICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2K3Zgdi4IGVtcGxveWVlSWQg2YHZiiDYp9mE2YbYp9mB2LDYqSDZhNmE2YjYtdmI2YQg2KXZhNmK2Ycg2YXZhiDYp9mE2K/ZiNin2YQg2KfZhNij2K7YsdmJCiAgICAgICAgICAgIG1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS1lbXBsb3llZS1pZCcsIGVtcGxveWVlSWQpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDYqtit2YjZitmEINmF2YTZgdin2KogUERGINil2YTZiSDYtdmI2LEKICAgICAgICBhc3luYyBmdW5jdGlvbiBjb252ZXJ0UGRmVG9JbWFnZXMoZW1wbG95ZWVJZCkgewogICAgICAgICAgICBjb25zdCBlbXBsb3llZSA9IGVtcGxveWVlc0RhdGEuZmluZChlID0+IGUuaWQgPT09IGVtcGxveWVlSWQpOwogICAgICAgICAgICBpZiAoIWVtcGxveWVlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNmF2YjYuNmBINi62YrYsSDZhdmI2KzZiNivJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50cyA9IGVtcGxveWVlLmRvY3VtZW50cyB8fCBbXTsKICAgICAgICAgICAgaWYgKGRvY3VtZW50cy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfZhNinINiq2YjYrNivINmF2YTZgdin2Kog2YXYsdmB2YLYqSDZhNmH2LDYpyDYp9mE2YXZiNi42YEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2YjYrNmI2K8g2YXZhNmB2KfYqiBQREYKICAgICAgICAgICAgY29uc3QgcGRmRG9jdW1lbnRzID0gZG9jdW1lbnRzLmZpbHRlcihkb2MgPT4gewogICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSAoZG9jLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZU5hbWUuZW5kc1dpdGgoJy5wZGYnKSAmJiBkb2MuZGF0YTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAocGRmRG9jdW1lbnRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ+KaoO+4jyDZhNinINiq2YjYrNivINmF2YTZgdin2KogUERGINmK2YXZg9mGINiq2K3ZiNmK2YTZh9inLlxuXG7Yp9mE2KrYrdmI2YrZhCDZhdiq2KfYrSDZhNmF2YTZgdin2KogUERGINmB2YLYty4nKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgY29uZmlybWVkID0gY29uZmlybShg2YfZhCDYqtix2YrYryDYqtit2YjZitmEICR7cGRmRG9jdW1lbnRzLmxlbmd0aH0g2YXZhNmBIFBERiDYpdmE2Ykg2LXZiNix2J9cblxu2LPZitiq2YU6XG7igKIg2KrYrdmI2YrZhCDZg9mEINi12YHYrdipINmF2YYgUERGINil2YTZiSDYtdmI2LHYqVxu4oCiINit2YHYuCDYp9mE2LXZiNixINmD2YXZhNmB2KfYqiDYrNiv2YrYr9ipXG7igKIg2K3YsNmBINmF2YTZgdin2KogUERGINin2YTYo9i12YTZitipXG5cbtmF2YTYp9it2LjYqTog2YfYsNmHINin2YTYudmF2YTZitipINmE2Kcg2YrZhdmD2YYg2KfZhNiq2LHYp9is2Lkg2LnZhtmH2KcuYCk7CiAgICAgICAgICAgIGlmICghY29uZmlybWVkKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINmI2KzZiNivINmF2YPYqtio2KkgUERGLmpzCiAgICAgICAgICAgIGlmICh0eXBlb2YgcGRmanNMaWIgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn4pqg77iPINmF2YPYqtio2KkgUERGLmpzINi62YrYsSDZhdit2YXZhNipLiDZitix2KzZiSDYqtit2K/ZitirINin2YTYtdmB2K3YqSDZiNin2YTZhdit2KfZiNmE2Kkg2YXYsdipINij2K7YsdmJLicpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdi42YfYp9ixINix2LPYp9mE2Kkg2KrYrdmF2YrZhAogICAgICAgICAgICBjb25zdCBsb2FkaW5nTW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgbG9hZGluZ01vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbCc7CiAgICAgICAgICAgIGxvYWRpbmdNb2RhbC5zdHlsZS56SW5kZXggPSAnMTAwMTAnOwogICAgICAgICAgICBsb2FkaW5nTW9kYWwuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogNDAwcHg7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogNDhweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPuKPszwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDE2cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+2KzYp9ix2Yog2KrYrdmI2YrZhCBQREYg2KXZhNmJINi12YjYsS4uLjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwZGZDb252ZXJzaW9uUHJvZ3Jlc3MiIHN0eWxlPSJmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjNjY2OyI+MCAvICR7cGRmRG9jdW1lbnRzLmxlbmd0aH08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgd2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6ICNlOWVjZWY7IGJvcmRlci1yYWRpdXM6IDRweDsgaGVpZ2h0OiA4cHg7IG92ZXJmbG93OiBoaWRkZW47Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InBkZkNvbnZlcnNpb25Qcm9ncmVzc0JhciIgc3R5bGU9IndpZHRoOiAwJTsgYmFja2dyb3VuZDogIzE3YTJiODsgaGVpZ2h0OiAxMDAlOyB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzOyI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobG9hZGluZ01vZGFsKTsKICAgICAgICAgICAgbG9hZGluZ01vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICAKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IG5ld0RvY3VtZW50cyA9IFtdOwogICAgICAgICAgICAgICAgbGV0IHByb2Nlc3NlZENvdW50ID0gMDsKICAgICAgICAgICAgICAgIGxldCB0b3RhbFBhZ2VzQ29udmVydGVkID0gMDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYttin2YHYqSDYp9mE2YXZhNmB2KfYqiDYutmK2LEgUERGINmD2YXYpyDZh9mKCiAgICAgICAgICAgICAgICBkb2N1bWVudHMuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gKGRvYy5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIGlmICghZmlsZU5hbWUuZW5kc1dpdGgoJy5wZGYnKSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdEb2N1bWVudHMucHVzaChkb2MpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtit2YjZitmEINmD2YQg2YXZhNmBIFBERgogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZGZEb2N1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwZGZEb2MgPSBwZGZEb2N1bWVudHNbaV07CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGRmTmFtZSA9IHBkZkRvYy5uYW1lLnJlcGxhY2UoJy5wZGYnLCAnJykucmVwbGFjZSgnLlBERicsICcnKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDYqtit2YjZitmEIGJhc2U2NCDYpdmE2YkgQmxvYgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlNjREYXRhID0gcGRmRG9jLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYmFzZTY0RGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBkZkJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBkZkFycmF5QnVmZmVyID0gYXdhaXQgcGRmQmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCBQREYg2KjYp9iz2KrYrtiv2KfZhSBQREYuanMKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGRmID0gYXdhaXQgcGRmanNMaWIuZ2V0RG9jdW1lbnQoeyBkYXRhOiBwZGZBcnJheUJ1ZmZlciB9KS5wcm9taXNlOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1QYWdlcyA9IHBkZi5udW1QYWdlczsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2K3ZiNmK2YQg2YPZhCDYtdmB2K3YqSDYpdmE2Ykg2LXZiNix2KkKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgcGFnZU51bSA9IDE7IHBhZ2VOdW0gPD0gbnVtUGFnZXM7IHBhZ2VOdW0rKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZSA9IGF3YWl0IHBkZi5nZXRQYWdlKHBhZ2VOdW0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYpdmG2LTYp9ihIGNhbnZhcyDZhNi52LHYtiDYp9mE2LXZgdit2KkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2LPYqtiu2K/Yp9mFIHNjYWxlIDEuNSDZhNmE2KrZiNin2LLZhiDYqNmK2YYg2KfZhNis2YjYr9ipINmI2KfZhNit2KzZhQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHsgc2NhbGU6IDEuNSB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHZpZXdwb3J0LmhlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHZpZXdwb3J0LndpZHRoOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYsdiz2YUg2KfZhNi12YHYrdipINi52YTZiSBjYW52YXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHBhZ2UucmVuZGVyKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0OiBjb250ZXh0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkucHJvbWlzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KrYrdmI2YrZhCBjYW52YXMg2KXZhNmJIGJsb2Ig2KvZhSDYpdmE2YkgYmFzZTY0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYp9iz2KrYrtiv2KfZhSDYrNmI2K/YqSAwLjc1INmE2KrZgtmE2YrZhCDYp9mE2K3YrNmFCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUJsb2IgPSBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMudG9CbG9iKHJlc29sdmUsICdpbWFnZS9qcGVnJywgMC43NSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VCYXNlNjQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHJlc29sdmUoZS50YXJnZXQucmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZUJsb2IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LbYp9mB2Kkg2KfZhNi12YjYsdipINmD2YXZhNmBINis2K/ZitivCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZU5hbWUgPSBudW1QYWdlcyA+IDEgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgJHtwZGZOYW1lfV/YtdmB2K3YqV8ke3BhZ2VOdW19LmpwZ2AKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGAke3BkZk5hbWV9LmpwZ2A7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RvY3VtZW50cy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpbWFnZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogaW1hZ2VCYXNlNjQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlL2pwZWcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IGltYWdlQmxvYi5zaXplLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkQXQ6IHBkZkRvYy51cGxvYWRlZEF0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZEJ5OiBwZGZEb2MudXBsb2FkZWRCeSB8fCBjdXJyZW50VXNlcj8udWlkIHx8ICdzeXN0ZW0nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZEZyb21QZGY6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQZGZOYW1lOiBwZGZEb2MubmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUGFnZXNDb252ZXJ0ZWQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2LTYsdmK2Lcg2KfZhNiq2YLYr9mFCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5yb3VuZCgocHJvY2Vzc2VkQ291bnQgLyBwZGZEb2N1bWVudHMubGVuZ3RoKSAqIDEwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BkZkNvbnZlcnNpb25Qcm9ncmVzc0JhcicpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzc1RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGRmQ29udmVyc2lvblByb2dyZXNzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzc0JhcikgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBwcm9ncmVzcyArICclJzsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzVGV4dCkgcHJvZ3Jlc3NUZXh0LnRleHRDb250ZW50ID0gYCR7cHJvY2Vzc2VkQ291bnR9IC8gJHtwZGZEb2N1bWVudHMubGVuZ3RofSAoJHt0b3RhbFBhZ2VzQ29udmVydGVkfSDYtdmB2K3YqSlgOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDYrti32KMg2YHZiiDYqtit2YjZitmEICR7cGRmRG9jLm5hbWV9OmAsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2YHZiiDYrdin2YTYqSDYp9mE2YHYtNmE2Iwg2YbYrdiq2YHYuCDYqNin2YTZhdmE2YEg2KfZhNij2LXZhNmKCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RvY3VtZW50cy5wdXNoKHBkZkRvYyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2K3YrNmFINin2YTZg9mE2Yog2KjYudivINin2YTYqtit2YjZitmECiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFNpemUgPSBuZXdEb2N1bWVudHMucmVkdWNlKChzdW0sIGRvYykgPT4gewogICAgICAgICAgICAgICAgICAgIHJldHVybiBzdW0gKyBuZXcgQmxvYihbZG9jLmRhdGEgfHwgZG9jLnVybCB8fCAnJ10pLnNpemU7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgdG90YWxTaXplTUIgPSAodG90YWxTaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYutmE2KfZgiDZhtin2YHYsNipINin2YTYqtit2YXZitmECiAgICAgICAgICAgICAgICBsb2FkaW5nTW9kYWwucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYrdis2YUg2YLYqNmEINin2YTYrdmB2LgKICAgICAgICAgICAgICAgIGlmICh0b3RhbFNpemUgPiAxICogMTAyNCAqIDEwMjQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25maXJtZWQgPSBjb25maXJtKGDimqDvuI8g2KrYrdiw2YrYsTog2KXYrNmF2KfZhNmKINit2KzZhSDYp9mE2YXZhNmB2KfYqiDYqNi52K8g2KfZhNiq2K3ZiNmK2YQgKCR7dG90YWxTaXplTUJ9IE1CKSDZitiq2KzYp9mI2LIg2K3YryBGaXJlc3RvcmUgKDEgTUIpXG5cbtmH2YQg2KrYsdmK2K8g2KfZhNmF2KrYp9io2LnYqSDYudmE2Ykg2KPZiiDYrdin2YTYn1xuXG7ZgtivINmK2YHYtNmEINin2YTYrdmB2LguYCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maXJtZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9iq2YUg2KXZhNi62KfYoSDYp9mE2LnZhdmE2YrYqS4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2K3Zgdi4INin2YTZhdmE2YHYp9iqINin2YTYrNiv2YrYr9ipCiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICdlbXBsb3llZXMnLCBlbXBsb3llZUlkKSwKICAgICAgICAgICAgICAgICAgICB7IGRvY3VtZW50czogbmV3RG9jdW1lbnRzIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2KfZhNio2YrYp9mG2KfYqiDYp9mE2YXYrdmE2YrYqQogICAgICAgICAgICAgICAgZW1wbG95ZWUuZG9jdW1lbnRzID0gbmV3RG9jdW1lbnRzOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtit2K/ZitirIGVtcGxveWVlc0RhdGEKICAgICAgICAgICAgICAgIGNvbnN0IGVtcEluZGV4ID0gZW1wbG95ZWVzRGF0YS5maW5kSW5kZXgoZSA9PiBlLmlkID09PSBlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIGlmIChlbXBJbmRleCAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZXNEYXRhW2VtcEluZGV4XS5kb2N1bWVudHMgPSBuZXdEb2N1bWVudHM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGFsZXJ0KGDinIUg2KrZhSDYqtit2YjZitmEIFBERiDYpdmE2Ykg2LXZiNixINio2YbYrNin2K0hXG5cbvCfk4og2KfZhNil2K3Ytdin2KbZitin2Ko6XG7igKIg2LnYr9ivINmF2YTZgdin2KogUERGINin2YTZhdit2YjZhNipOiAke3Byb2Nlc3NlZENvdW50fVxu4oCiINil2KzZhdin2YTZiiDYp9mE2LXZgdit2KfYqiDYp9mE2YXYrdmI2YTYqTogJHt0b3RhbFBhZ2VzQ29udmVydGVkfVxu4oCiINin2YTYrdis2YUg2KfZhNmD2YTZijogJHt0b3RhbFNpemVNQn0gTUJcblxu4pyFINiq2YUg2K3Zgdi4INin2YTYqti62YrZitix2KfYqi5gKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYudin2K/YqSDYqtit2YXZitmEINmG2KfZgdiw2Kkg2KfZhNmF2YTZgdin2KoKICAgICAgICAgICAgICAgIHZpZXdFbXBsb3llZURvY3VtZW50cyhlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrYrdmI2YrZhCBQREY6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgbG9hZGluZ01vZGFsLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgYWxlcnQoYOKdjCDYrdiv2Ksg2K7Yt9ijINmB2Yog2KrYrdmI2YrZhCBQREY6ICR7ZXJyb3IubWVzc2FnZX1cblxu2YrYsdis2Ykg2KfZhNmF2K3Yp9mI2YTYqSDZhdix2Kkg2KPYrtix2YkuYCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2LbYuti3INis2YXZiti5INmF2YTZgdin2Kog2KfZhNmF2YjYuNmBCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gY29tcHJlc3NBbGxFbXBsb3llZURvY3VtZW50cyhlbXBsb3llZUlkKSB7CiAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlID0gZW1wbG95ZWVzRGF0YS5maW5kKGUgPT4gZS5pZCA9PT0gZW1wbG95ZWVJZCk7CiAgICAgICAgICAgIGlmICghZW1wbG95ZWUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2YXZiNi42YEg2LrZitixINmF2YjYrNmI2K8nKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgZG9jdW1lbnRzID0gZW1wbG95ZWUuZG9jdW1lbnRzIHx8IFtdOwogICAgICAgICAgICBpZiAoZG9jdW1lbnRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9mE2Kcg2KrZiNis2K8g2YXZhNmB2KfYqiDZhdix2YHZgtipINmE2YfYsNinINin2YTZhdmI2LjZgScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDZiNis2YjYryDYtdmI2LEg2YTZhNi22LrYtwogICAgICAgICAgICBjb25zdCBpbWFnZURvY3VtZW50cyA9IGRvY3VtZW50cy5maWx0ZXIoZG9jID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gKGRvYy5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGZpbGVOYW1lLnNwbGl0KCcuJykucG9wKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ3dlYnAnXS5pbmNsdWRlcyhmaWxlRXh0ZW5zaW9uKSAmJiBkb2MuZGF0YTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoaW1hZ2VEb2N1bWVudHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn4pqg77iPINmE2Kcg2KrZiNis2K8g2LXZiNixINmK2YXZg9mGINi22LrYt9mH2KcuXG5cbtin2YTYtti62Lcg2KfZhNiq2YTZgtin2KbZiiDZhdiq2KfYrSDZhNmE2LXZiNixINmB2YLYtyAoSlBHLCBQTkcsIEdJRiwgV2ViUCkuXG5cbtin2YTZhdmE2YHYp9iqINin2YTYo9iu2LHZiSAoUERGLCBET0MsINil2YTYrikg2YTYpyDZitmF2YPZhiDYtti62LfZh9inINmB2Yog2KfZhNmF2KrYtdmB2K0uJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IGNvbmZpcm0oYNmH2YQg2KrYsdmK2K8g2LbYuti3ICR7aW1hZ2VEb2N1bWVudHMubGVuZ3RofSDYtdmI2LHYqSDZhdmGINmF2YTZgdin2Kog2KfZhNmF2YjYuNmB2J9cblxu2LPZitiq2YUg2KfYs9iq2KjYr9in2YQg2KfZhNmF2YTZgdin2Kog2KfZhNij2LXZhNmK2Kkg2KjYp9mE2YXZhNmB2KfYqiDYp9mE2YXYtti62YjYt9ipLlxuXG7ZhdmE2KfYrdi42Kk6INmH2LDZhyDYp9mE2LnZhdmE2YrYqSDZhNinINmK2YXZg9mGINin2YTYqtix2KfYrNi5INi52YbZh9inLmApOwogICAgICAgICAgICBpZiAoIWNvbmZpcm1lZCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdi42YfYp9ixINix2LPYp9mE2Kkg2KrYrdmF2YrZhAogICAgICAgICAgICBjb25zdCBsb2FkaW5nTW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgbG9hZGluZ01vZGFsLmNsYXNzTmFtZSA9ICdtb2RhbCc7CiAgICAgICAgICAgIGxvYWRpbmdNb2RhbC5zdHlsZS56SW5kZXggPSAnMTAwMTAnOwogICAgICAgICAgICBsb2FkaW5nTW9kYWwuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogNDAwcHg7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogNDhweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPuKPszwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDE2cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+2KzYp9ix2Yog2LbYuti3INin2YTZhdmE2YHYp9iqLi4uPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImNvbXByZXNzaW9uUHJvZ3Jlc3MiIHN0eWxlPSJmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjNjY2OyI+MCAvICR7aW1hZ2VEb2N1bWVudHMubGVuZ3RofTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAyMHB4OyB3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogI2U5ZWNlZjsgYm9yZGVyLXJhZGl1czogNHB4OyBoZWlnaHQ6IDhweDsgb3ZlcmZsb3c6IGhpZGRlbjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iY29tcHJlc3Npb25Qcm9ncmVzc0JhciIgc3R5bGU9IndpZHRoOiAwJTsgYmFja2dyb3VuZDogIzY2N2VlYTsgaGVpZ2h0OiAxMDAlOyB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzOyI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobG9hZGluZ01vZGFsKTsKICAgICAgICAgICAgbG9hZGluZ01vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICAKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWREb2NzID0gW107CiAgICAgICAgICAgICAgICBsZXQgcHJvY2Vzc2VkQ291bnQgPSAwOwogICAgICAgICAgICAgICAgbGV0IHRvdGFsT3JpZ2luYWxTaXplID0gMDsKICAgICAgICAgICAgICAgIGxldCB0b3RhbENvbXByZXNzZWRTaXplID0gMDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2N1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2MgPSBkb2N1bWVudHNbaV07CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSAoZG9jLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGZpbGVOYW1lLnNwbGl0KCcuJykucG9wKCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNJbWFnZSA9IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2dpZicsICd3ZWJwJ10uaW5jbHVkZXMoZmlsZUV4dGVuc2lvbik7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW1hZ2UgJiYgZG9jLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsT3JpZ2luYWxTaXplICs9IG5ldyBCbG9iKFtkb2MuZGF0YV0pLnNpemU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2K3ZiNmK2YQgYmFzZTY0INil2YTZiSBCbG9iINir2YUg2KXZhNmJIEZpbGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NERhdGEgPSBkb2MuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYmFzZTY0RGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgZG9jLm5hbWUsIHsgdHlwZTogZG9jLnR5cGUgfHwgJ2ltYWdlL2pwZWcnIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYtti62Lcg2KfZhNi12YjYsdipCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wcmVzc2VkRmlsZSA9IGF3YWl0IGNvbXByZXNzRmlsZShmaWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KrYrdmI2YrZhCDYp9mE2YXZhNmBINin2YTZhdi22LrZiNi3INil2YTZiSBiYXNlNjQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWRCYXNlNjQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHJlc29sdmUoZS50YXJnZXQucmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChjb21wcmVzc2VkRmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxDb21wcmVzc2VkU2l6ZSArPSBuZXcgQmxvYihbY29tcHJlc3NlZEJhc2U2NF0pLnNpemU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2YbYtNin2KEg2YXYs9iq2YbYryDYrNiv2YrYryDYqNin2YTYtdmI2LHYqSDYp9mE2YXYtti62YjYt9ipCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc2VkRG9jcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkb2MubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjb21wcmVzc2VkQmFzZTY0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGRvYy50eXBlIHx8ICdpbWFnZS9qcGVnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBjb21wcmVzc2VkRmlsZS5zaXplLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkQXQ6IGRvYy51cGxvYWRlZEF0IHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZEJ5OiBkb2MudXBsb2FkZWRCeSB8fCBjdXJyZW50VXNlcj8udWlkIHx8ICdzeXN0ZW0nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQ291bnQrKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KrYrdiv2YrYqyDYtNix2YrYtyDYp9mE2KrZgtiv2YUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5yb3VuZCgocHJvY2Vzc2VkQ291bnQgLyBpbWFnZURvY3VtZW50cy5sZW5ndGgpICogMTAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXByZXNzaW9uUHJvZ3Jlc3NCYXInKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wcmVzc2lvblByb2dyZXNzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3NCYXIpIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gcHJvZ3Jlc3MgKyAnJSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3NUZXh0KSBwcm9ncmVzc1RleHQudGV4dENvbnRlbnQgPSBgJHtwcm9jZXNzZWRDb3VudH0gLyAke2ltYWdlRG9jdW1lbnRzLmxlbmd0aH1gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDYrti32KMg2YHZiiDYtti62LcgJHtkb2MubmFtZX06YCwgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2YHZiiDYrdin2YTYqSDYp9mE2YHYtNmE2Iwg2YbYs9iq2K7Yr9mFINin2YTZhdiz2KrZhtivINin2YTYo9i12YTZigogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcHJlc3NlZERvY3MucHVzaChkb2MpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2YTZhNmF2YTZgdin2Kog2LrZitixINin2YTYtdmI2LHYjCDZhtiz2KrYrtiv2YUg2KfZhNmF2LPYqtmG2K8g2KfZhNij2LXZhNmKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXByZXNzZWREb2NzLnB1c2goZG9jKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYrdis2YUg2KfZhNmD2YTZiiDYqNi52K8g2KfZhNi22LrYtwogICAgICAgICAgICAgICAgY29uc3QgdG90YWxTaXplID0gY29tcHJlc3NlZERvY3MucmVkdWNlKChzdW0sIGRvYykgPT4gewogICAgICAgICAgICAgICAgICAgIHJldHVybiBzdW0gKyBuZXcgQmxvYihbZG9jLmRhdGEgfHwgZG9jLnVybCB8fCAnJ10pLnNpemU7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgdG90YWxTaXplTUIgPSAodG90YWxTaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2l6ZU1CID0gKHRvdGFsT3JpZ2luYWxTaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkTUIgPSAoKHRvdGFsT3JpZ2luYWxTaXplIC0gdG90YWxDb21wcmVzc2VkU2l6ZSkgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpOwogICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWRQZXJjZW50ID0gdG90YWxPcmlnaW5hbFNpemUgPiAwID8gKCgodG90YWxPcmlnaW5hbFNpemUgLSB0b3RhbENvbXByZXNzZWRTaXplKSAvIHRvdGFsT3JpZ2luYWxTaXplKSAqIDEwMCkudG9GaXhlZCgxKSA6ICcwJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYutmE2KfZgiDZhtin2YHYsNipINin2YTYqtit2YXZitmECiAgICAgICAgICAgICAgICBsb2FkaW5nTW9kYWwucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINit2YHYuCDYp9mE2YXZhNmB2KfYqiDYp9mE2YXYtti62YjYt9ipCiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICdlbXBsb3llZXMnLCBlbXBsb3llZUlkKSwKICAgICAgICAgICAgICAgICAgICB7IGRvY3VtZW50czogY29tcHJlc3NlZERvY3MgfQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrYrdiv2YrYqyDYp9mE2KjZitin2YbYp9iqINin2YTZhdit2YTZitipCiAgICAgICAgICAgICAgICBlbXBsb3llZS5kb2N1bWVudHMgPSBjb21wcmVzc2VkRG9jczsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrYrdiv2YrYqyBlbXBsb3llZXNEYXRhCiAgICAgICAgICAgICAgICBjb25zdCBlbXBJbmRleCA9IGVtcGxveWVlc0RhdGEuZmluZEluZGV4KGUgPT4gZS5pZCA9PT0gZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICBpZiAoZW1wSW5kZXggIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVzRGF0YVtlbXBJbmRleF0uZG9jdW1lbnRzID0gY29tcHJlc3NlZERvY3M7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGFsZXJ0KGDinIUg2KrZhSDYtti62Lcg2KfZhNmF2YTZgdin2Kog2KjZhtis2KfYrSFcblxu8J+TiiDYp9mE2KXYrdi12KfYptmK2KfYqjpcbuKAoiDYp9mE2K3YrNmFINin2YTYo9i12YTZijogJHtvcmlnaW5hbFNpemVNQn0gTUJcbuKAoiDYp9mE2K3YrNmFINio2LnYryDYp9mE2LbYuti3OiAke3RvdGFsU2l6ZU1CfSBNQlxu4oCiINiq2YUg2KrZiNmB2YrYsTogJHtzYXZlZE1CfSBNQiAoJHtzYXZlZFBlcmNlbnR9JSlcbuKAoiDYudiv2K8g2KfZhNmF2YTZgdin2Kog2KfZhNmF2LbYutmI2LfYqTogJHtwcm9jZXNzZWRDb3VudH1cblxu4pyFINiq2YUg2K3Zgdi4INin2YTYqti62YrZitix2KfYqi5gKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYudin2K/YqSDYqtit2YXZitmEINmG2KfZgdiw2Kkg2KfZhNmF2YTZgdin2KoKICAgICAgICAgICAgICAgIHZpZXdFbXBsb3llZURvY3VtZW50cyhlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2LbYuti3INin2YTZhdmE2YHYp9iqOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIGxvYWRpbmdNb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIGFsZXJ0KGDinYwg2K3Yr9irINiu2LfYoyDZgdmKINi22LrYtyDYp9mE2YXZhNmB2KfYqjogJHtlcnJvci5tZXNzYWdlfVxuXG7Zitix2KzZiSDYp9mE2YXYrdin2YjZhNipINmF2LHYqSDYo9iu2LHZiS5gKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDZgdiq2K0g2KfZhNmF2LPYqtmG2K8g2YHZiiDZhtin2YHYsNipINis2K/Zitiv2KkgKNio2KfYs9iq2K7Yr9in2YUgaW5kZXgpCiAgICAgICAgZnVuY3Rpb24gb3BlbkRvY3VtZW50QXRJbmRleChpbmRleCwgZmlsZUV4dGVuc2lvbikgewogICAgICAgICAgICBpZiAoIXdpbmRvdy50ZW1wRG9jdW1lbnRzRGF0YSB8fCAhd2luZG93LnRlbXBEb2N1bWVudHNEYXRhW2luZGV4XSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ+KaoO+4jyDYp9mE2YXZhNmBINi62YrYsSDZhdmI2KzZiNivJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZG9jID0gd2luZG93LnRlbXBEb2N1bWVudHNEYXRhW2luZGV4XTsKICAgICAgICAgICAgY29uc3QgZmlsZURhdGEgPSBkb2MuZGF0YSB8fCBkb2MudXJsOwogICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGRvYy5uYW1lIHx8IGDZhdmE2YEgJHtpbmRleCArIDF9YDsKICAgICAgICAgICAgb3BlbkRvY3VtZW50KGZpbGVEYXRhLCBmaWxlTmFtZSwgZmlsZUV4dGVuc2lvbik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNmF2LPYqtmG2K8gKNio2KfYs9iq2K7Yr9in2YUgaW5kZXgpCiAgICAgICAgZnVuY3Rpb24gZG93bmxvYWREb2N1bWVudEF0SW5kZXgoaW5kZXgpIHsKICAgICAgICAgICAgaWYgKCF3aW5kb3cudGVtcERvY3VtZW50c0RhdGEgfHwgIXdpbmRvdy50ZW1wRG9jdW1lbnRzRGF0YVtpbmRleF0pIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfimqDvuI8g2KfZhNmF2YTZgSDYutmK2LEg2YXZiNis2YjYrycpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGRvYyA9IHdpbmRvdy50ZW1wRG9jdW1lbnRzRGF0YVtpbmRleF07CiAgICAgICAgICAgIGNvbnN0IGZpbGVEYXRhID0gZG9jLmRhdGEgfHwgZG9jLnVybDsKICAgICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBkb2MubmFtZSB8fCBg2YXZhNmBICR7aW5kZXggKyAxfWA7CiAgICAgICAgICAgIGRvd25sb2FkRG9jdW1lbnQoZmlsZURhdGEsIGZpbGVOYW1lKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2YHYqtitINin2YTZhdiz2KrZhtivINmB2Yog2YbYp9mB2LDYqSDYrNiv2YrYr9ipCiAgICAgICAgZnVuY3Rpb24gb3BlbkRvY3VtZW50KGZpbGVEYXRhLCBmaWxlTmFtZSwgZmlsZUV4dGVuc2lvbikgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiBiYXNlNjQgc3RyaW5n2Iwg2YbYrdiq2KfYrCDYpdmE2Ykg2YHYqtit2Ycg2KjYtNmD2YQg2LXYrdmK2K0KICAgICAgICAgICAgICAgIGlmIChmaWxlRGF0YS5zdGFydHNXaXRoKCdkYXRhOicpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KXZhti02KfYoSDZhtin2YHYsNipINis2K/Zitiv2Kkg2YTYudix2LYg2KfZhNmF2YTZgQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnX2JsYW5rJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXdXaW5kb3cpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+KaoO+4jyDZitix2KzZiSDYp9mE2LPZhdin2K0g2YTZhNmG2YjYp9mB2LAg2KfZhNmF2YbYqNir2YLYqSDZhNi52LHYtiDYp9mE2YXZhNmBJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2YTZhNi12YjYsdiMINmG2LnYsdi22YfYpyDZhdio2KfYtNix2KkKICAgICAgICAgICAgICAgICAgICBpZiAoWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ3dlYnAnXS5pbmNsdWRlcyhmaWxlRXh0ZW5zaW9uKSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdXaW5kb3cuZG9jdW1lbnQud3JpdGUoYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGh0bWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aXRsZT4ke2ZpbGVOYW1lfTwvdGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgeyBtYXJnaW46IDA7IHBhZGRpbmc6IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgYmFja2dyb3VuZDogI2Y1ZjVmNTsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nIHsgbWF4LXdpZHRoOiAxMDAlOyBoZWlnaHQ6IGF1dG87IGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsMCwwLDAuMSk7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2hlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPSIke2ZpbGVEYXRhfSIgYWx0PSIke2ZpbGVOYW1lfSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2JvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2h0bWw+CiAgICAgICAgICAgICAgICAgICAgICAgIGApOwogICAgICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgICAgICAgICAgLy8g2YTZhNmAIFBERtiMINmG2LPYqtiu2K/ZhSBpZnJhbWUKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmaWxlRXh0ZW5zaW9uID09PSAncGRmJykgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdXaW5kb3cuZG9jdW1lbnQud3JpdGUoYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGh0bWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aXRsZT4ke2ZpbGVOYW1lfTwvdGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmcmFtZSB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMHZoOyBib3JkZXI6IG5vbmU7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2hlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpZnJhbWUgc3JjPSIke2ZpbGVEYXRhfSI+PC9pZnJhbWU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9odG1sPgogICAgICAgICAgICAgICAgICAgICAgICBgKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g2YTZhNmF2YTZgdin2Kog2KfZhNij2K7YsdmJ2Iwg2YbYudix2LYg2LHYp9io2Lcg2KrYrdmF2YrZhAogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdXaW5kb3cuZG9jdW1lbnQud3JpdGUoYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGh0bWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aXRsZT4ke2ZpbGVOYW1lfTwvdGl0bGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHlsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgeyBtYXJnaW46IDA7IHBhZGRpbmc6IDQwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBiYWNrZ3JvdW5kOiAjZjVmNWY1OyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29udGFpbmVyIHsgYmFja2dyb3VuZDogd2hpdGU7IHBhZGRpbmc6IDQwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwwLDAsMC4xKTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaWNvbiB7IGZvbnQtc2l6ZTogNjRweDsgbWFyZ2luLWJvdHRvbTogMjBweDsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbGVuYW1lIHsgZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICMzMzM7IG1hcmdpbi1ib3R0b206IDIwcHg7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kb3dubG9hZC1idG4geyBwYWRkaW5nOiAxMnB4IDI0cHg7IGJhY2tncm91bmQ6ICM2NjdlZWE7IGNvbG9yOiB3aGl0ZTsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA0cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRvd25sb2FkLWJ0bjpob3ZlciB7IGJhY2tncm91bmQ6ICM1NTY4ZDM7IH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2hlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpY29uIj7wn5OEPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWxlbmFtZSI+JHtmaWxlTmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJjb2xvcjogIzY2NjsgbWFyZ2luLWJvdHRvbTogMjBweDsiPtmE2Kcg2YrZhdmD2YYg2LnYsdi2INmH2LDYpyDYp9mE2YbZiNi5INmF2YYg2KfZhNmF2YTZgdin2Kog2YHZiiDYp9mE2YXYqti12YHYrTwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiR7ZmlsZURhdGF9IiBkb3dubG9hZD0iJHtmaWxlTmFtZX0iIGNsYXNzPSJkb3dubG9hZC1idG4iPtiq2K3ZhdmK2YQg2KfZhNmF2YTZgTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9ib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9odG1sPgogICAgICAgICAgICAgICAgICAgICAgICBgKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV3V2luZG93LmRvY3VtZW50LmNsb3NlKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYgVVJMINi52KfYr9mKCiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oZmlsZURhdGEsICdfYmxhbmsnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINmB2KrYrSDYp9mE2YXYs9iq2YbYrzonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgn4pqg77iPINit2K/YqyDYrti32KMg2YHZiiDZgdiq2K0g2KfZhNmF2YTZgS4g2YrYsdis2Ykg2KfZhNmF2K3Yp9mI2YTYqSDZhdix2Kkg2KPYrtix2Ykg2KPZiCDYqtit2YXZitmEINin2YTZhdmE2YEuJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2KrYrdmF2YrZhCDYp9mE2YXYs9iq2YbYrwogICAgICAgIGZ1bmN0aW9uIGRvd25sb2FkRG9jdW1lbnQoZmlsZURhdGEsIGZpbGVOYW1lKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyDYpdmG2LTYp9ihINix2KfYqNi3INiq2K3ZhdmK2YQKICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBmaWxlRGF0YTsKICAgICAgICAgICAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTsKICAgICAgICAgICAgICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDYp9mE2YXYs9iq2YbYrzonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgn4pqg77iPINit2K/YqyDYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTZhdmE2YEuINmK2LHYrNmJINin2YTZhdit2KfZiNmE2Kkg2YXYsdipINij2K7YsdmJLicpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vINi52LHYtiDYs9is2YQg2KfZhNmF2LTYp9ix2YrYuSDZgdmKINmG2KfZgdiw2Kkg2YXZhtmB2LXZhNipCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gdmlld0VtcGxveWVlUHJvamVjdHMoZW1wbG95ZWVJZCkgewogICAgICAgICAgICBjb25zdCBlbXBsb3llZSA9IGVtcGxveWVlc0RhdGEuZmluZChlID0+IGUuaWQgPT09IGVtcGxveWVlSWQpOwogICAgICAgICAgICBpZiAoIWVtcGxveWVlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNmF2YjYuNmBINi62YrYsSDZhdmI2KzZiNivJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNmF2LTYp9ix2YrYuSDYpdiw2Kcg2YTZhSDYqtmD2YYg2YXYrdmF2YTYqQogICAgICAgICAgICBpZiAoIXByb2plY3RzRGF0YSB8fCBwcm9qZWN0c0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkUHJvamVjdHMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KXZhti02KfYoSDZhtin2YHYsNipINi52LHYtiDYs9is2YQg2KfZhNmF2LTYp9ix2YrYuQogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBtb2RhbC5jbGFzc05hbWUgPSAnbW9kYWwnOwogICAgICAgICAgICBtb2RhbC5zdHlsZS56SW5kZXggPSAnMTAwMDInOwogICAgICAgICAgICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiA4MDBweDsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz7Ys9is2YQg2KfZhNmF2LTYp9ix2YrYuSAtICR7ZW1wbG95ZWUubmFtZX08L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9kYWwtY2xvc2UiIG9uY2xpY2s9InRoaXMuY2xvc2VzdCgnLm1vZGFsJykucmVtb3ZlKCkiPiZ0aW1lczs8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImVtcGxveWVlUHJvamVjdHNIaXN0b3J5VmlldyIgc3R5bGU9Im1heC1oZWlnaHQ6IDUwMHB4OyBvdmVyZmxvdy15OiBhdXRvOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tINiz2YrYqtmFINi52LHYtiDYp9mE2YXYtNin2LHZiti5INmH2YbYpyAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zZWNvbmRhcnkiIG9uY2xpY2s9InRoaXMuY2xvc2VzdCgnLm1vZGFsJykucmVtb3ZlKCkiPtil2LrZhNin2YI8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpOwogICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2LPYrNmEINin2YTZhdi02KfYsdmK2LkKICAgICAgICAgICAgY29uc3QgcHJvamVjdHNIaXN0b3J5ID0gZW1wbG95ZWUucHJvamVjdHNIaXN0b3J5IHx8IFtdOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHByb2plY3RzSGlzdG9yeS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZVByb2plY3RzSGlzdG9yeVZpZXcnKS5pbm5lckhUTUwgPSAKICAgICAgICAgICAgICAgICAgICAnPHAgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogNDBweDsgY29sb3I6ICM2NjY7Ij7ZhNinINiq2YjYrNivINmF2LTYp9ix2YrYuSDZhdiz2KzZhNipINmE2YfYsNinINin2YTZhdmI2LjZgTwvcD4nOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqtix2KrZitioINin2YTZhdi02KfYsdmK2Lkg2K3Ys9ioINiq2KfYsdmK2K4g2KfZhNio2K/YoQogICAgICAgICAgICBjb25zdCBzb3J0ZWRQcm9qZWN0cyA9IFsuLi5wcm9qZWN0c0hpc3RvcnldLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShiLnN0YXJ0RGF0ZSkgLSBuZXcgRGF0ZShhLnN0YXJ0RGF0ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2LnYsdi2INin2YTZhdi02KfYsdmK2LkKICAgICAgICAgICAgY29uc3QgcHJvamVjdHNIdG1sID0gc29ydGVkUHJvamVjdHMubWFwKHByb2ogPT4gewogICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RzRGF0YS5maW5kKHAgPT4gcC5pZCA9PT0gcHJvai5wcm9qZWN0SWQpOwogICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gcHJvai5pc0N1cnJlbnQgPyAn2YrYudmF2YQg2K3Yp9mE2YrYp9mLJyA6ICfZhdmG2KrZh9mKJzsKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c0NvbG9yID0gcHJvai5pc0N1cnJlbnQgPyAnIzI4YTc0NScgOiAnIzZjNzU3ZCc7CiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNCZyA9IHByb2ouaXNDdXJyZW50ID8gJyNkNGVkZGEnIDogJyNlOWVjZWYnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXR1cm4gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJvcmRlcjogMnB4IHNvbGlkICR7c3RhdHVzQ29sb3J9OyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDE1cHg7IG1hcmdpbi1ib3R0b206IDE1cHg7IGJhY2tncm91bmQ6ICR7c3RhdHVzQmd9OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IHN0YXJ0OyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmbGV4OiAxOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNjY3ZWVhOyBmb250LXNpemU6IDE2cHg7IG1hcmdpbi1ib3R0b206IDVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Byb2oucHJvamVjdENvZGUgfHwgJyd9IC0gJHtwcm9qLnByb2plY3ROYW1lIHx8IHByb2plY3Q/Lm5hbWUgfHwgJ9i62YrYsSDZhdit2K/Yryd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxNHB4OyBjb2xvcjogIzY2NjsgbWFyZ2luLXRvcDogOHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHN0cm9uZz7Yqtin2LHZitiuINin2YTYqNiv2KE6PC9zdHJvbmc+ICR7cHJvai5zdGFydERhdGUgfHwgJy0nfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjxzdHJvbmc+JHtwcm9qLmlzQ3VycmVudCA/ICfYp9mE2K3Yp9mE2Kk6JyA6ICfYqtin2LHZitiuINin2YTYp9mG2KrZh9in2KE6J308L3N0cm9uZz4gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Byb2ouaXNDdXJyZW50ID8gJzxzcGFuIHN0eWxlPSJjb2xvcjogIzI4YTc0NTsgZm9udC13ZWlnaHQ6IGJvbGQ7Ij7Ziti52YXZhCDYrdin2YTZitin2Ys8L3NwYW4+JyA6IChwcm9qLmVuZERhdGUgfHwgJy0nKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiAke3N0YXR1c0NvbG9yfTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiA2cHggMTJweDsgYm9yZGVyLXJhZGl1czogMTVweDsgZm9udC1zaXplOiAxMnB4OyBmb250LXdlaWdodDogYm9sZDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7c3RhdHVzfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlUHJvamVjdHNIaXN0b3J5VmlldycpLmlubmVySFRNTCA9IHByb2plY3RzSHRtbDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LrZhNin2YIg2KfZhNmG2KfZgdiw2Kkg2LnZhtivINin2YTZhtmC2LEg2K7Yp9ix2KzZh9inCiAgICAgICAgICAgIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gbW9kYWwpIHsKICAgICAgICAgICAgICAgICAgICBtb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vINiv2YjYp9mEINil2K/Yp9ix2Kkg2KfZhNi52YLZiNio2KfYqgogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgZnVuY3Rpb24gc2hvd0FkZFBlbmFsdHlGb3JtKCkgewogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRQZW5hbHR5TW9kYWwnKTsKICAgICAgICAgICAgaWYgKCFtb2RhbCkgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbmFsdHlUeXBlJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbmFsdHlEYXRlJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbmFsdHlSZWFzb24nKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVuYWx0eUFtb3VudCcpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW5hbHR5Tm90ZXMnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICAKICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoaWRlQWRkUGVuYWx0eUZvcm0oKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFBlbmFsdHlNb2RhbCcpOwogICAgICAgICAgICBpZiAobW9kYWwpIHsKICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBhZGRQZW5hbHR5KCkgewogICAgICAgICAgICBjb25zdCB0eXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbmFsdHlUeXBlJykudmFsdWU7CiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVuYWx0eURhdGUnKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgcmVhc29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbmFsdHlSZWFzb24nKS52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW5hbHR5QW1vdW50JykudmFsdWUgPyBwYXJzZUZsb2F0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwZW5hbHR5QW1vdW50JykudmFsdWUpIDogbnVsbDsKICAgICAgICAgICAgY29uc3Qgbm90ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVuYWx0eU5vdGVzJykudmFsdWUudHJpbSgpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCF0eXBlIHx8ICFkYXRlIHx8ICFyZWFzb24pIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDZhtmI2Lkg2KfZhNi52YLZiNio2Kkg2YjYp9mE2KrYp9ix2YrYriDZiNin2YTYs9io2KgnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgcGVuYWx0eSA9IHsKICAgICAgICAgICAgICAgIGlkOiAncGVuYWx0eV8nICsgRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICAgICAgICBkYXRlOiBkYXRlLAogICAgICAgICAgICAgICAgcmVhc29uOiByZWFzb24sCiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlcwogICAgICAgICAgICB9OwogICAgICAgICAgICAKICAgICAgICAgICAgZW1wbG95ZWVQZW5hbHRpZXMucHVzaChwZW5hbHR5KTsKICAgICAgICAgICAgZGlzcGxheVBlbmFsdGllcygpOwogICAgICAgICAgICBoaWRlQWRkUGVuYWx0eUZvcm0oKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbW92ZVBlbmFsdHkocGVuYWx0eUlkKSB7CiAgICAgICAgICAgIGlmICghY29uZmlybSgn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINit2LDZgSDZh9iw2Ycg2KfZhNi52YLZiNio2KnYnycpKSByZXR1cm47CiAgICAgICAgICAgIGVtcGxveWVlUGVuYWx0aWVzID0gZW1wbG95ZWVQZW5hbHRpZXMuZmlsdGVyKHAgPT4gcC5pZCAhPT0gcGVuYWx0eUlkKTsKICAgICAgICAgICAgZGlzcGxheVBlbmFsdGllcygpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZGlzcGxheVBlbmFsdGllcygpIHsKICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BlbmFsdGllc0xpc3QnKTsKICAgICAgICAgICAgaWYgKCFjb250YWluZXIpIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChlbXBsb3llZVBlbmFsdGllcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnPHAgc3R5bGU9ImNvbG9yOiAjNjY2OyB0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDIwcHg7IGdyaWQtY29sdW1uOiAxLy0xOyI+2YTYpyDYqtmI2KzYryDYudmC2YjYqNin2Kog2YXYs9is2YTYqTwvcD4nOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBzb3J0ZWRQZW5hbHRpZXMgPSBbLi4uZW1wbG95ZWVQZW5hbHRpZXNdLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShiLmRhdGUpIC0gbmV3IERhdGUoYS5kYXRlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCB0eXBlTmFtZXMgPSB7CiAgICAgICAgICAgICAgICAnd2FybmluZyc6ICfYpdmG2LDYp9ixJywKICAgICAgICAgICAgICAgICdyZXByaW1hbmQnOiAn2KrZiNio2YrYricsCiAgICAgICAgICAgICAgICAnZGVkdWN0aW9uJzogJ9iu2LXZhSDZhdin2YTZiicsCiAgICAgICAgICAgICAgICAnc3VzcGVuc2lvbic6ICfYqti52YTZitmCJywKICAgICAgICAgICAgICAgICd0ZXJtaW5hdGlvbic6ICfYpdmG2YfYp9ihINiu2K/ZhdipJywKICAgICAgICAgICAgICAgICdvdGhlcic6ICfYo9iu2LHZiScKICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBzb3J0ZWRQZW5hbHRpZXMubWFwKHBlbmFsdHkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJib3JkZXI6IDJweCBzb2xpZCAjZGMzNTQ1OyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQ6ICNmZmY1ZjU7IHBvc2l0aW9uOiByZWxhdGl2ZTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJlbW92ZVBlbmFsdHkoJyR7cGVuYWx0eS5pZH0nKSIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxMHB4OyBsZWZ0OiAxMHB4OyBiYWNrZ3JvdW5kOiAjZGMzNTQ1OyBjb2xvcjogd2hpdGU7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogNTAlOyB3aWR0aDogMjVweDsgaGVpZ2h0OiAyNXB4OyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMTRweDsgbGluZS1oZWlnaHQ6IDE7Ij7DlzwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICNkYzM1NDU7IG1hcmdpbi1ib3R0b206IDVweDsiPiR7dHlwZU5hbWVzW3BlbmFsdHkudHlwZV0gfHwgcGVuYWx0eS50eXBlfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzY2NjsgbWFyZ2luLWJvdHRvbTogNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2KrYp9ix2YrYrjo8L3N0cm9uZz4gJHtwZW5hbHR5LmRhdGV9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7cGVuYWx0eS5hbW91bnQgPyBgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzY2NjsgbWFyZ2luLWJvdHRvbTogNXB4OyI+PHN0cm9uZz7Yp9mE2YXYqNmE2Lo6PC9zdHJvbmc+ICR7Zm9ybWF0TnVtYmVyKHBlbmFsdHkuYW1vdW50KX0g2K/ZitmG2KfYsTwvZGl2PmAgOiAnJ30KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICMzMzM7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2KfZhNiz2KjYqDo8L3N0cm9uZz4gJHtwZW5hbHR5LnJlYXNvbn0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICR7cGVuYWx0eS5ub3RlcyA/IGA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNjY2OyI+PHN0cm9uZz7ZhdmE2KfYrdi42KfYqjo8L3N0cm9uZz4gJHtwZW5hbHR5Lm5vdGVzfTwvZGl2PmAgOiAnJ30KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgIH0KCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICAvLyDYr9mI2KfZhCDYpdiv2KfYsdipINin2YTZhdmD2KfZgdii2KoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIGZ1bmN0aW9uIHNob3dBZGRSZXdhcmRGb3JtKCkgewogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRSZXdhcmRNb2RhbCcpOwogICAgICAgICAgICBpZiAoIW1vZGFsKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV3YXJkVHlwZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXdhcmREYXRlJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jld2FyZFJlYXNvbicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXdhcmRBbW91bnQnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV3YXJkTm90ZXMnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICAKICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoaWRlQWRkUmV3YXJkRm9ybSgpIHsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkUmV3YXJkTW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYWRkUmV3YXJkKCkgewogICAgICAgICAgICBjb25zdCB0eXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jld2FyZFR5cGUnKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXdhcmREYXRlJykudmFsdWU7CiAgICAgICAgICAgIGNvbnN0IHJlYXNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXdhcmRSZWFzb24nKS52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXdhcmRBbW91bnQnKS52YWx1ZSA/IHBhcnNlRmxvYXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jld2FyZEFtb3VudCcpLnZhbHVlKSA6IG51bGw7CiAgICAgICAgICAgIGNvbnN0IG5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jld2FyZE5vdGVzJykudmFsdWUudHJpbSgpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCF0eXBlIHx8ICFkYXRlIHx8ICFyZWFzb24pIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDZhtmI2Lkg2KfZhNmF2YPYp9mB2KPYqSDZiNin2YTYqtin2LHZitiuINmI2KfZhNiz2KjYqCcpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCByZXdhcmQgPSB7CiAgICAgICAgICAgICAgICBpZDogJ3Jld2FyZF8nICsgRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICAgICAgICBkYXRlOiBkYXRlLAogICAgICAgICAgICAgICAgcmVhc29uOiByZWFzb24sCiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlcwogICAgICAgICAgICB9OwogICAgICAgICAgICAKICAgICAgICAgICAgZW1wbG95ZWVSZXdhcmRzLnB1c2gocmV3YXJkKTsKICAgICAgICAgICAgZGlzcGxheVJld2FyZHMoKTsKICAgICAgICAgICAgaGlkZUFkZFJld2FyZEZvcm0oKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbW92ZVJld2FyZChyZXdhcmRJZCkgewogICAgICAgICAgICBpZiAoIWNvbmZpcm0oJ9mH2YQg2KPZhtiqINmF2KrYo9mD2K8g2YXZhiDYrdiw2YEg2YfYsNmHINin2YTZhdmD2KfZgdij2KnYnycpKSByZXR1cm47CiAgICAgICAgICAgIGVtcGxveWVlUmV3YXJkcyA9IGVtcGxveWVlUmV3YXJkcy5maWx0ZXIociA9PiByLmlkICE9PSByZXdhcmRJZCk7CiAgICAgICAgICAgIGRpc3BsYXlSZXdhcmRzKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkaXNwbGF5UmV3YXJkcygpIHsKICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jld2FyZHNMaXN0Jyk7CiAgICAgICAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoZW1wbG95ZWVSZXdhcmRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICc8cCBzdHlsZT0iY29sb3I6ICM2NjY7IHRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogMjBweDsgZ3JpZC1jb2x1bW46IDEvLTE7Ij7ZhNinINiq2YjYrNivINmF2YPYp9mB2KLYqiDZhdiz2KzZhNipPC9wPic7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHNvcnRlZFJld2FyZHMgPSBbLi4uZW1wbG95ZWVSZXdhcmRzXS5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoYi5kYXRlKSAtIG5ldyBEYXRlKGEuZGF0ZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgdHlwZU5hbWVzID0gewogICAgICAgICAgICAgICAgJ2JvbnVzJzogJ9mF2YPYp9mB2KPYqSDZhdin2YTZitipJywKICAgICAgICAgICAgICAgICdyZWNvZ25pdGlvbic6ICfYtNmD2LEg2YjYqtmC2K/ZitixJywKICAgICAgICAgICAgICAgICdwcm9tb3Rpb24nOiAn2KrYsdmC2YrYqScsCiAgICAgICAgICAgICAgICAnZ2lmdCc6ICfZh9iv2YrYqScsCiAgICAgICAgICAgICAgICAnY2VydGlmaWNhdGUnOiAn2LTZh9in2K/YqSDYqtmC2K/ZitixJywKICAgICAgICAgICAgICAgICdvdGhlcic6ICfYo9iu2LHZiScKICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBzb3J0ZWRSZXdhcmRzLm1hcChyZXdhcmQgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJib3JkZXI6IDJweCBzb2xpZCAjMjhhNzQ1OyBib3JkZXItcmFkaXVzOiA4cHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQ6ICNmMGZmZjQ7IHBvc2l0aW9uOiByZWxhdGl2ZTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJlbW92ZVJld2FyZCgnJHtyZXdhcmQuaWR9JykiIHN0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTBweDsgbGVmdDogMTBweDsgYmFja2dyb3VuZDogIzI4YTc0NTsgY29sb3I6IHdoaXRlOyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDUwJTsgd2lkdGg6IDI1cHg7IGhlaWdodDogMjVweDsgY3Vyc29yOiBwb2ludGVyOyBmb250LXNpemU6IDE0cHg7IGxpbmUtaGVpZ2h0OiAxOyI+w5c8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMjhhNzQ1OyBtYXJnaW4tYm90dG9tOiA1cHg7Ij4ke3R5cGVOYW1lc1tyZXdhcmQudHlwZV0gfHwgcmV3YXJkLnR5cGV9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNjY2OyBtYXJnaW4tYm90dG9tOiA1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtin2YTYqtin2LHZitiuOjwvc3Ryb25nPiAke3Jld2FyZC5kYXRlfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3Jld2FyZC5hbW91bnQgPyBgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzY2NjsgbWFyZ2luLWJvdHRvbTogNXB4OyI+PHN0cm9uZz7Yp9mE2YXYqNmE2Lo6PC9zdHJvbmc+ICR7Zm9ybWF0TnVtYmVyKHJld2FyZC5hbW91bnQpfSDYr9mK2YbYp9ixPC9kaXY+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxMnB4OyBjb2xvcjogIzMzMzsgbWFyZ2luLWJvdHRvbTogMTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2LPYqNioOjwvc3Ryb25nPiAke3Jld2FyZC5yZWFzb259CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAke3Jld2FyZC5ub3RlcyA/IGA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNjY2OyI+PHN0cm9uZz7ZhdmE2KfYrdi42KfYqjo8L3N0cm9uZz4gJHtyZXdhcmQubm90ZXN9PC9kaXY+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgfSkuam9pbignJyk7CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vINiv2YjYp9mEINin2YTYqtmC2YrZitmFINin2YTYs9mG2YjZigogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2KrYqNiv2YrZhCDYrdin2YTYqSDYudix2LYg2KfZhNiq2YLZitmK2YXYp9iqCiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlRXZhbHVhdGlvblZpZXcoKSB7CiAgICAgICAgICAgIGlmICh3aW5kb3cuZXZhbHVhdGlvblZpZXdVbmxvY2tlZCkgewogICAgICAgICAgICAgICAgLy8g2KXYutmE2KfZgiDYp9mE2LnYsdi2CiAgICAgICAgICAgICAgICB3aW5kb3cuZXZhbHVhdGlvblZpZXdVbmxvY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgY29uc3QgbG9ja0ljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXZhbHVhdGlvbkxvY2tJY29uJyk7CiAgICAgICAgICAgICAgICBjb25zdCBldmFsdWF0aW9uc0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXZhbHVhdGlvbnNMaXN0Jyk7CiAgICAgICAgICAgICAgICBjb25zdCBsb2NrZWRNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25zTG9ja2VkTWVzc2FnZScpOwogICAgICAgICAgICAgICAgY29uc3QgYWRkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEV2YWx1YXRpb25CdG4nKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGxvY2tJY29uKSB7CiAgICAgICAgICAgICAgICAgICAgbG9ja0ljb24udGV4dENvbnRlbnQgPSAn8J+Ukic7CiAgICAgICAgICAgICAgICAgICAgbG9ja0ljb24udGl0bGUgPSAn2KfZhtmC2LEg2YTYpdi42YfYp9ixINin2YTYqtmC2YrZitmF2KfYqic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZXZhbHVhdGlvbnNMaXN0KSBldmFsdWF0aW9uc0xpc3Quc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGlmIChsb2NrZWRNZXNzYWdlKSBsb2NrZWRNZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgaWYgKGFkZEJ0bikgYWRkQnRuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDYt9mE2Kgg2YPZhNmF2Kkg2KfZhNmF2LHZiNixCiAgICAgICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9IHByb21wdCgn8J+UkiDZh9iw2Kcg2KfZhNmC2LPZhSDZhdit2YXZiiDYqNmD2YTZhdipINmF2LHZiNixXG7Yp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YTYudix2LYg2KfZhNiq2YLZitmK2YXYp9iqINin2YTYs9mG2YjZitipOicpOwogICAgICAgICAgICAgICAgaWYgKCFwYXNzd29yZCkgcmV0dXJuOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAocGFzc3dvcmQgIT09IEVWQUxVQVRJT05fUEFTU1dPUkQpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn4p2MINmD2YTZhdipINin2YTZhdix2YjYsSDYutmK2LEg2LXYrdmK2K3YqScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgd2luZG93LmV2YWx1YXRpb25WaWV3VW5sb2NrZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgY29uc3QgbG9ja0ljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXZhbHVhdGlvbkxvY2tJY29uJyk7CiAgICAgICAgICAgICAgICBjb25zdCBldmFsdWF0aW9uc0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXZhbHVhdGlvbnNMaXN0Jyk7CiAgICAgICAgICAgICAgICBjb25zdCBsb2NrZWRNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25zTG9ja2VkTWVzc2FnZScpOwogICAgICAgICAgICAgICAgY29uc3QgYWRkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEV2YWx1YXRpb25CdG4nKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGxvY2tJY29uKSB7CiAgICAgICAgICAgICAgICAgICAgbG9ja0ljb24udGV4dENvbnRlbnQgPSAn8J+Ukyc7CiAgICAgICAgICAgICAgICAgICAgbG9ja0ljb24udGl0bGUgPSAn2KfZhtmC2LEg2YTYpdiu2YHYp9ihINin2YTYqtmC2YrZitmF2KfYqic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZXZhbHVhdGlvbnNMaXN0KSBldmFsdWF0aW9uc0xpc3Quc3R5bGUuZGlzcGxheSA9ICdncmlkJzsKICAgICAgICAgICAgICAgIGlmIChsb2NrZWRNZXNzYWdlKSBsb2NrZWRNZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBpZiAoYWRkQnRuKSBhZGRCdG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBkaXNwbGF5RXZhbHVhdGlvbnMoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2LnYsdi2INin2YTYqtmC2YrZitmF2KfYqiDZhdmGINis2K/ZiNmEINin2YTZhdmI2LjZgdmK2YYKICAgICAgICBhc3luYyBmdW5jdGlvbiB2aWV3RW1wbG95ZWVFdmFsdWF0aW9ucyhlbXBsb3llZUlkKSB7CiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcHJvbXB0KCfwn5SSINin2YTYqtmC2YrZitmF2KfYqiDYp9mE2LPZhtmI2YrYqSDZhdit2YXZitipINio2YPZhNmF2Kkg2YXYsdmI2LFcbtin2YTYsdis2KfYoSDYpdiv2K7Yp9mEINmD2YTZhdipINin2YTZhdix2YjYsTonKTsKICAgICAgICAgICAgaWYgKCFwYXNzd29yZCkgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHBhc3N3b3JkICE9PSBFVkFMVUFUSU9OX1BBU1NXT1JEKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn4p2MINmD2YTZhdipINin2YTZhdix2YjYsSDYutmK2LEg2LXYrdmK2K3YqScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBlbXBsb3llZSA9IGVtcGxveWVlc0RhdGEuZmluZChlID0+IGUuaWQgPT09IGVtcGxveWVlSWQpOwogICAgICAgICAgICBpZiAoIWVtcGxveWVlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNmF2YjYuNmBINi62YrYsSDZhdmI2KzZiNivJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGV2YWx1YXRpb25zID0gZW1wbG95ZWUuZXZhbHVhdGlvbnMgfHwgW107CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdmG2LTYp9ihINmG2KfZgdiw2Kkg2LnYsdi2INin2YTYqtmC2YrZitmF2KfYqgogICAgICAgICAgICBjb25zdCBtb2RhbEh0bWwgPSBgCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbCBhY3RpdmUiIHN0eWxlPSJ6LWluZGV4OiAxMDAwNTsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6IDkwMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+4q2QINin2YTYqtmC2YrZitmF2KfYqiDYp9mE2LPZhtmI2YrYqSAtICR7ZW1wbG95ZWUubmFtZSB8fCAn2LrZitixINmF2K3Yr9ivJ308L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJ0aGlzLmNsb3Nlc3QoJy5tb2RhbCcpLnJlbW92ZSgpIj4mdGltZXM7PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtin2YTZhdmI2LjZgTo8L3N0cm9uZz4gJHtlbXBsb3llZS5uYW1lIHx8ICctJ308YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2KfZhNix2YLZhSDYp9mE2YjYuNmK2YHZijo8L3N0cm9uZz4gJHtlbXBsb3llZS5lbXBsb3llZU51bWJlciB8fCAnLSd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1pbmZvIiBvbmNsaWNrPSJlZGl0RW1wbG95ZWVGb3JFdmFsdWF0aW9uKCcke2VtcGxveWVlSWR9JykiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinpUg2KXYttin2YHYqSDYqtmC2YrZitmFCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImVtcGxveWVlRXZhbHVhdGlvbnNWaWV3IiBzdHlsZT0ibWF4LWhlaWdodDogNTAwcHg7IG92ZXJmbG93LXk6IGF1dG87Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2V2YWx1YXRpb25zLmxlbmd0aCA9PT0gMCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnPHAgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogNDBweDsgY29sb3I6ICM2NjY7Ij7ZhNinINiq2YjYrNivINiq2YLZitmK2YXYp9iqINmF2LPYrNmE2Kk8L3A+JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGdlbmVyYXRlRXZhbHVhdGlvbnNIVE1MKGV2YWx1YXRpb25zLCBlbXBsb3llZUlkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgOwogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIG1vZGFsSHRtbCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBlZGl0RW1wbG95ZWVGb3JFdmFsdWF0aW9uKGVtcGxveWVlSWQpIHsKICAgICAgICAgICAgLy8g2KXYutmE2KfZgiDZhtin2YHYsNipINin2YTYqtmC2YrZitmF2KfYqgogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC5hY3RpdmUnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSBtb2RhbC5yZW1vdmUoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINmB2KrYrSDYqNi32KfZgtipINin2YTZhdmI2LjZgQogICAgICAgICAgICBlZGl0RW1wbG95ZWUoZW1wbG95ZWVJZCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDZgdiq2K0g2YLYs9mFINin2YTYqtmC2YrZitmF2KfYqgogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGlmICghd2luZG93LmV2YWx1YXRpb25WaWV3VW5sb2NrZWQpIHsKICAgICAgICAgICAgICAgICAgICB0b2dnbGVFdmFsdWF0aW9uVmlldygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc2hvd0FkZEV2YWx1YXRpb25Gb3JtKCk7CiAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZUV2YWx1YXRpb25zSFRNTChldmFsdWF0aW9ucywgZW1wbG95ZWVJZCkgewogICAgICAgICAgICBjb25zdCByYXRpbmdOYW1lcyA9IHsKICAgICAgICAgICAgICAgIDE6IHsgbmFtZTogJ9i22LnZitmBINis2K/Yp9mLJywgY29sb3I6ICcjZGMzNTQ1JywgYmc6ICcjZjhkN2RhJyB9LAogICAgICAgICAgICAgICAgMjogeyBuYW1lOiAn2LbYudmK2YEnLCBjb2xvcjogJyNmZDdlMTQnLCBiZzogJyNmZmU1ZDAnIH0sCiAgICAgICAgICAgICAgICAzOiB7IG5hbWU6ICfZhdmC2KjZiNmEJywgY29sb3I6ICcjZmZjMTA3JywgYmc6ICcjZmZmM2NkJyB9LAogICAgICAgICAgICAgICAgNDogeyBuYW1lOiAn2KzZitivJywgY29sb3I6ICcjMjhhNzQ1JywgYmc6ICcjZDRlZGRhJyB9LAogICAgICAgICAgICAgICAgNTogeyBuYW1lOiAn2YXZhdiq2KfYsicsIGNvbG9yOiAnIzIwYzk5NycsIGJnOiAnI2QxZjJlYicgfQogICAgICAgICAgICB9OwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3Qgc29ydGVkID0gWy4uLmV2YWx1YXRpb25zXS5zb3J0KChhLCBiKSA9PiBiLnllYXIgLSBhLnllYXIpOwogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIHNvcnRlZC5tYXAoZXZhbHVhdGlvbiA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCByYXRpbmdJbmZvID0gcmF0aW5nTmFtZXNbZXZhbHVhdGlvbi5yYXRpbmddIHx8IHJhdGluZ05hbWVzWzNdOwogICAgICAgICAgICAgICAgcmV0dXJuIGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJib3JkZXI6IDJweCBzb2xpZCAke3JhdGluZ0luZm8uY29sb3J9OyBib3JkZXItcmFkaXVzOiAxMnB4OyBwYWRkaW5nOiAyMHB4OyBtYXJnaW4tYm90dG9tOiAxNXB4OyBiYWNrZ3JvdW5kOiAke3JhdGluZ0luZm8uYmd9OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICR7cmF0aW5nSW5mby5jb2xvcn07IGZvbnQtc2l6ZTogMThweDsiPtiz2YbYqSAke2V2YWx1YXRpb24ueWVhcn08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDI0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogJHtyYXRpbmdJbmZvLmNvbG9yfTsgbWFyZ2luLXRvcDogNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7J+KtkCcucmVwZWF0KGV2YWx1YXRpb24ucmF0aW5nKX0keyfimIYnLnJlcGVhdCg1IC0gZXZhbHVhdGlvbi5yYXRpbmcpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogOHB4IDEycHg7IGJvcmRlci1yYWRpdXM6IDZweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICR7cmF0aW5nSW5mby5jb2xvcn07IGZvbnQtc2l6ZTogMTZweDsiPiR7ZXZhbHVhdGlvbi5yYXRpbmd9LzU8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiAjNjY2OyBtYXJnaW4tcmlnaHQ6IDhweDsiPi0gJHtyYXRpbmdJbmZvLm5hbWV9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMTJweDsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEzcHg7IGNvbG9yOiAjMzMzOyBsaW5lLWhlaWdodDogMS42OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2YjYtdmBOjwvc3Ryb25nPjxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2V2YWx1YXRpb24uZGVzY3JpcHRpb259CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICR7ZXZhbHVhdGlvbi5ub3RlcyA/IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6IHdoaXRlOyBwYWRkaW5nOiAxMHB4OyBib3JkZXItcmFkaXVzOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNjY2OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2YXZhNin2K3YuNin2Ko6PC9zdHJvbmc+ICR7ZXZhbHVhdGlvbi5ub3Rlc30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICBgIDogJyd9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNob3dBZGRFdmFsdWF0aW9uRm9ybSgpIHsKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZXZhbHVhdGlvblZpZXdVbmxvY2tlZCkgewogICAgICAgICAgICAgICAgdG9nZ2xlRXZhbHVhdGlvblZpZXcoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkRXZhbHVhdGlvbk1vZGFsJyk7CiAgICAgICAgICAgIGlmICghbW9kYWwpIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIGVkaXRpbmdFdmFsdWF0aW9uSWQgPSBudWxsOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXZhbHVhdGlvbkZvcm1UaXRsZScpLnRleHRDb250ZW50ID0gJ9il2LbYp9mB2Kkg2KrZgtmK2YrZhSDYs9mG2YjZiic7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uU3VibWl0QnRuJykudGV4dENvbnRlbnQgPSAn2KXYttin2YHYqSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uU3VibWl0QnRuJykuc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgJ2FkZEV2YWx1YXRpb24oKScpOwogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25ZZWFyJykudmFsdWUgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uUmF0aW5nJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25EZXNjcmlwdGlvbicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uTm90ZXMnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICAKICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoaWRlQWRkRXZhbHVhdGlvbkZvcm0oKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEV2YWx1YXRpb25Nb2RhbCcpOwogICAgICAgICAgICBpZiAobW9kYWwpIHsKICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVkaXRpbmdFdmFsdWF0aW9uSWQgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYWRkRXZhbHVhdGlvbigpIHsKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZXZhbHVhdGlvblZpZXdVbmxvY2tlZCkgewogICAgICAgICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSBwcm9tcHQoJ/CflJIg2KXYttin2YHYqS/Yqti52K/ZitmEINin2YTYqtmC2YrZitmF2KfYqiDZhdit2YXZiiDYqNmD2YTZhdipINmF2LHZiNixXG7Yp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LE6Jyk7CiAgICAgICAgICAgICAgICBpZiAoIXBhc3N3b3JkIHx8IHBhc3N3b3JkICE9PSBFVkFMVUFUSU9OX1BBU1NXT1JEKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+KdjCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2LrZitixINi12K3Zitit2KknKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB3aW5kb3cuZXZhbHVhdGlvblZpZXdVbmxvY2tlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHllYXIgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXZhbHVhdGlvblllYXInKS52YWx1ZSk7CiAgICAgICAgICAgIGNvbnN0IHJhdGluZyA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uUmF0aW5nJykudmFsdWUpOwogICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uRGVzY3JpcHRpb24nKS52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIGNvbnN0IG5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25Ob3RlcycpLnZhbHVlLnRyaW0oKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICgheWVhciB8fCAhcmF0aW5nIHx8ICFkZXNjcmlwdGlvbikgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYsdis2KfYoSDYpdiv2K7Yp9mEINin2YTYs9mG2Kkg2YjYp9mE2KrZgtmK2YrZhSDZiNin2YTZiNi12YEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHJhdGluZyA8IDEgfHwgcmF0aW5nID4gNSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYqtmC2YrZitmFINmK2KzYqCDYo9mGINmK2YPZiNmGINio2YrZhiAxINmIIDUnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgaXNFZGl0ID0gZWRpdGluZ0V2YWx1YXRpb25JZCAhPT0gbnVsbDsKICAgICAgICAgICAgY29uc3Qgb2xkRXZhbHVhdGlvbiA9IGlzRWRpdCA/IGVtcGxveWVlRXZhbHVhdGlvbnMuZmluZChlID0+IGUuaWQgPT09IGVkaXRpbmdFdmFsdWF0aW9uSWQpIDogbnVsbDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINi52K/ZhSDZiNis2YjYryDYqtmC2YrZitmFINmE2YbZgdizINin2YTYs9mG2KkKICAgICAgICAgICAgaWYgKCFpc0VkaXQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRXZhbHVhdGlvbiA9IGVtcGxveWVlRXZhbHVhdGlvbnMuZmluZChlID0+IGUueWVhciA9PT0geWVhcik7CiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdFdmFsdWF0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb25maXJtKGDZitmI2KzYryDYqtmC2YrZitmFINmF2LPYrNmEINmE2LPZhtipICR7eWVhcn0uINmH2YQg2KrYsdmK2K8g2KfYs9iq2KjYr9in2YTZh9ifYCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUV2YWx1YXRpb25zID0gZW1wbG95ZWVFdmFsdWF0aW9ucy5maWx0ZXIoZSA9PiBlLnllYXIgIT09IHllYXIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBldmFsdWF0aW9uID0gewogICAgICAgICAgICAgICAgaWQ6IGVkaXRpbmdFdmFsdWF0aW9uSWQgfHwgJ2V2YWxfJyArIERhdGUubm93KCksCiAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyLAogICAgICAgICAgICAgICAgcmF0aW5nOiByYXRpbmcsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICBub3Rlczogbm90ZXMgfHwgJycsCiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IGlzRWRpdCA/IChvbGRFdmFsdWF0aW9uPy5jcmVhdGVkQXQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpKSA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoaXNFZGl0KSB7CiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGVtcGxveWVlRXZhbHVhdGlvbnMuZmluZEluZGV4KGUgPT4gZS5pZCA9PT0gZWRpdGluZ0V2YWx1YXRpb25JZCk7CiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVFdmFsdWF0aW9uc1tpbmRleF0gPSBldmFsdWF0aW9uOwogICAgICAgICAgICAgICAgICAgIC8vINiq2LPYrNmK2YQg2KfZhNiq2LnYr9mK2YQKICAgICAgICAgICAgICAgICAgICBsb2dBdWRpdCgnZXZhbHVhdGlvbicsICd1cGRhdGUnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSWQ6IGVkaXRpbmdFbXBsb3llZUlkLAogICAgICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uSWQ6IGVkaXRpbmdFdmFsdWF0aW9uSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIG9sZERhdGE6IG9sZEV2YWx1YXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGE6IGV2YWx1YXRpb24KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGVtcGxveWVlRXZhbHVhdGlvbnMucHVzaChldmFsdWF0aW9uKTsKICAgICAgICAgICAgICAgIC8vINiq2LPYrNmK2YQg2KfZhNil2LbYp9mB2KkKICAgICAgICAgICAgICAgIGxvZ0F1ZGl0KCdldmFsdWF0aW9uJywgJ2NyZWF0ZScsIHsKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiBlZGl0aW5nRW1wbG95ZWVJZCwKICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uOiBldmFsdWF0aW9uCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZGlzcGxheUV2YWx1YXRpb25zKCk7CiAgICAgICAgICAgIGhpZGVBZGRFdmFsdWF0aW9uRm9ybSgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZWRpdEV2YWx1YXRpb24oZXZhbHVhdGlvbklkKSB7CiAgICAgICAgICAgIGlmICghd2luZG93LmV2YWx1YXRpb25WaWV3VW5sb2NrZWQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcHJvbXB0KCfwn5SSINiq2LnYr9mK2YQg2KfZhNiq2YLZitmK2YXYp9iqINmF2K3ZhdmKINio2YPZhNmF2Kkg2YXYsdmI2LFcbtin2YTYsdis2KfYoSDYpdiv2K7Yp9mEINmD2YTZhdipINin2YTZhdix2YjYsTonKTsKICAgICAgICAgICAgICAgIGlmICghcGFzc3dvcmQgfHwgcGFzc3dvcmQgIT09IEVWQUxVQVRJT05fUEFTU1dPUkQpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn4p2MINmD2YTZhdipINin2YTZhdix2YjYsSDYutmK2LEg2LXYrdmK2K3YqScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdpbmRvdy5ldmFsdWF0aW9uVmlld1VubG9ja2VkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgZXZhbHVhdGlvbiA9IGVtcGxveWVlRXZhbHVhdGlvbnMuZmluZChlID0+IGUuaWQgPT09IGV2YWx1YXRpb25JZCk7CiAgICAgICAgICAgIGlmICghZXZhbHVhdGlvbikgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgZWRpdGluZ0V2YWx1YXRpb25JZCA9IGV2YWx1YXRpb25JZDsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25Gb3JtVGl0bGUnKS50ZXh0Q29udGVudCA9ICfYqti52K/ZitmEINin2YTYqtmC2YrZitmFINin2YTYs9mG2YjZiic7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uU3VibWl0QnRuJykudGV4dENvbnRlbnQgPSAn2K3Zgdi4INin2YTYqti52K/ZitmE2KfYqic7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uU3VibWl0QnRuJykuc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgJ2FkZEV2YWx1YXRpb24oKScpOwogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25ZZWFyJykudmFsdWUgPSBldmFsdWF0aW9uLnllYXI7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdldmFsdWF0aW9uUmF0aW5nJykudmFsdWUgPSBldmFsdWF0aW9uLnJhdGluZzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25EZXNjcmlwdGlvbicpLnZhbHVlID0gZXZhbHVhdGlvbi5kZXNjcmlwdGlvbjsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25Ob3RlcycpLnZhbHVlID0gZXZhbHVhdGlvbi5ub3RlcyB8fCAnJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEV2YWx1YXRpb25Nb2RhbCcpOwogICAgICAgICAgICBpZiAobW9kYWwpIHsKICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiByZW1vdmVFdmFsdWF0aW9uKGV2YWx1YXRpb25JZCkgewogICAgICAgICAgICBpZiAoIXdpbmRvdy5ldmFsdWF0aW9uVmlld1VubG9ja2VkKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9IHByb21wdCgn8J+UkiDYrdiw2YEg2KfZhNiq2YLZitmK2YXYp9iqINmF2K3ZhdmKINio2YPZhNmF2Kkg2YXYsdmI2LFcbtin2YTYsdis2KfYoSDYpdiv2K7Yp9mEINmD2YTZhdipINin2YTZhdix2YjYsTonKTsKICAgICAgICAgICAgICAgIGlmICghcGFzc3dvcmQgfHwgcGFzc3dvcmQgIT09IEVWQUxVQVRJT05fUEFTU1dPUkQpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn4p2MINmD2YTZhdipINin2YTZhdix2YjYsSDYutmK2LEg2LXYrdmK2K3YqScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdpbmRvdy5ldmFsdWF0aW9uVmlld1VubG9ja2VkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFjb25maXJtKCfZh9mEINij2YbYqiDZhdiq2KPZg9ivINmF2YYg2K3YsNmBINmH2LDYpyDYp9mE2KrZgtmK2YrZhSDYp9mE2LPZhtmI2YrYnycpKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBldmFsdWF0aW9uID0gZW1wbG95ZWVFdmFsdWF0aW9ucy5maW5kKGUgPT4gZS5pZCA9PT0gZXZhbHVhdGlvbklkKTsKICAgICAgICAgICAgaWYgKGV2YWx1YXRpb24pIHsKICAgICAgICAgICAgICAgIGxvZ0F1ZGl0KCdldmFsdWF0aW9uJywgJ2RlbGV0ZScsIHsKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiBlZGl0aW5nRW1wbG95ZWVJZCwKICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uWWVhcjogZXZhbHVhdGlvbi55ZWFyLAogICAgICAgICAgICAgICAgICAgIGV2YWx1YXRpb25SYXRpbmc6IGV2YWx1YXRpb24ucmF0aW5nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZW1wbG95ZWVFdmFsdWF0aW9ucyA9IGVtcGxveWVlRXZhbHVhdGlvbnMuZmlsdGVyKGUgPT4gZS5pZCAhPT0gZXZhbHVhdGlvbklkKTsKICAgICAgICAgICAgZGlzcGxheUV2YWx1YXRpb25zKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkaXNwbGF5RXZhbHVhdGlvbnMoKSB7CiAgICAgICAgICAgIGlmICghd2luZG93LmV2YWx1YXRpb25WaWV3VW5sb2NrZWQpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V2YWx1YXRpb25zTGlzdCcpOwogICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGVtcGxveWVlRXZhbHVhdGlvbnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gJzxwIHN0eWxlPSJjb2xvcjogIzY2NjsgdGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAyMHB4OyBncmlkLWNvbHVtbjogMS8tMTsiPtmE2Kcg2KrZiNis2K8g2KrZgtmK2YrZhdin2Kog2LPZhtmI2YrYqSDZhdiz2KzZhNipPC9wPic7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHNvcnRlZEV2YWx1YXRpb25zID0gWy4uLmVtcGxveWVlRXZhbHVhdGlvbnNdLnNvcnQoKGEsIGIpID0+IGIueWVhciAtIGEueWVhcik7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCByYXRpbmdOYW1lcyA9IHsKICAgICAgICAgICAgICAgIDE6IHsgbmFtZTogJ9i22LnZitmBINis2K/Yp9mLJywgY29sb3I6ICcjZGMzNTQ1JywgYmc6ICcjZjhkN2RhJyB9LAogICAgICAgICAgICAgICAgMjogeyBuYW1lOiAn2LbYudmK2YEnLCBjb2xvcjogJyNmZDdlMTQnLCBiZzogJyNmZmU1ZDAnIH0sCiAgICAgICAgICAgICAgICAzOiB7IG5hbWU6ICfZhdmC2KjZiNmEJywgY29sb3I6ICcjZmZjMTA3JywgYmc6ICcjZmZmM2NkJyB9LAogICAgICAgICAgICAgICAgNDogeyBuYW1lOiAn2KzZitivJywgY29sb3I6ICcjMjhhNzQ1JywgYmc6ICcjZDRlZGRhJyB9LAogICAgICAgICAgICAgICAgNTogeyBuYW1lOiAn2YXZhdiq2KfYsicsIGNvbG9yOiAnIzIwYzk5NycsIGJnOiAnI2QxZjJlYicgfQogICAgICAgICAgICB9OwogICAgICAgICAgICAKICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IHNvcnRlZEV2YWx1YXRpb25zLm1hcChldmFsdWF0aW9uID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJhdGluZ0luZm8gPSByYXRpbmdOYW1lc1tldmFsdWF0aW9uLnJhdGluZ10gfHwgcmF0aW5nTmFtZXNbM107CiAgICAgICAgICAgICAgICByZXR1cm4gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJvcmRlcjogMnB4IHNvbGlkICR7cmF0aW5nSW5mby5jb2xvcn07IGJvcmRlci1yYWRpdXM6IDEycHg7IHBhZGRpbmc6IDIwcHg7IGJhY2tncm91bmQ6ICR7cmF0aW5nSW5mby5iZ307IHBvc2l0aW9uOiByZWxhdGl2ZTsgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwwLDAsMC4xKTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9InJlbW92ZUV2YWx1YXRpb24oJyR7ZXZhbHVhdGlvbi5pZH0nKSIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxMHB4OyBsZWZ0OiAxMHB4OyBiYWNrZ3JvdW5kOiAke3JhdGluZ0luZm8uY29sb3J9OyBjb2xvcjogd2hpdGU7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogNTAlOyB3aWR0aDogMzBweDsgaGVpZ2h0OiAzMHB4OyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMThweDsgbGluZS1oZWlnaHQ6IDE7IGZvbnQtd2VpZ2h0OiBib2xkOyI+w5c8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJlZGl0RXZhbHVhdGlvbignJHtldmFsdWF0aW9uLmlkfScpIiBzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyB0b3A6IDEwcHg7IGxlZnQ6IDUwcHg7IGJhY2tncm91bmQ6ICM2NjdlZWE7IGNvbG9yOiB3aGl0ZTsgYm9yZGVyOiBub25lOyBib3JkZXItcmFkaXVzOiA1MCU7IHdpZHRoOiAzMHB4OyBoZWlnaHQ6IDMwcHg7IGN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMTsiPuKcjjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICR7cmF0aW5nSW5mby5jb2xvcn07IGZvbnQtc2l6ZTogMThweDsiPtiz2YbYqSAke2V2YWx1YXRpb24ueWVhcn08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDI0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogJHtyYXRpbmdJbmZvLmNvbG9yfTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkeyfirZAnLnJlcGVhdChldmFsdWF0aW9uLnJhdGluZyl9JHsn4piGJy5yZXBlYXQoNSAtIGV2YWx1YXRpb24ucmF0aW5nKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogd2hpdGU7IHBhZGRpbmc6IDhweCAxMnB4OyBib3JkZXItcmFkaXVzOiA2cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICR7cmF0aW5nSW5mby5jb2xvcn07IGZvbnQtc2l6ZTogMTZweDsiPiR7ZXZhbHVhdGlvbi5yYXRpbmd9LzU8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiAjNjY2OyBtYXJnaW4tcmlnaHQ6IDhweDsiPi0gJHtyYXRpbmdJbmZvLm5hbWV9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiB3aGl0ZTsgcGFkZGluZzogMTJweDsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEzcHg7IGNvbG9yOiAjMzMzOyBsaW5lLWhlaWdodDogMS42OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2YjYtdmBOjwvc3Ryb25nPjxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2V2YWx1YXRpb24uZGVzY3JpcHRpb259CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICR7ZXZhbHVhdGlvbi5ub3RlcyA/IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6IHdoaXRlOyBwYWRkaW5nOiAxMHB4OyBib3JkZXItcmFkaXVzOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEycHg7IGNvbG9yOiAjNjY2OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2YXZhNin2K3YuNin2Ko6PC9zdHJvbmc+ICR7ZXZhbHVhdGlvbi5ub3Rlc30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICBgIDogJyd9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgICB9CgogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2K/ZiNin2YQg2YXYs9in2LnYr9ipCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICBmdW5jdGlvbiBnZXRFZHVjYXRpb25OYW1lKGVkdWNhdGlvbikgewogICAgICAgICAgICBjb25zdCBuYW1lcyA9IHsKICAgICAgICAgICAgICAgICdlbGVtZW50YXJ5JzogJ9in2KjYqtiv2KfYptmKJywKICAgICAgICAgICAgICAgICdtaWRkbGUnOiAn2YXYqtmI2LPYtycsCiAgICAgICAgICAgICAgICAnaGlnaF9zY2hvb2wnOiAn2KvYp9mG2YjZiicsCiAgICAgICAgICAgICAgICAnZGlwbG9tYSc6ICfYr9io2YTZiNmFJywKICAgICAgICAgICAgICAgICdiYWNoZWxvcic6ICfYqNmD2KfZhNmI2LHZitmI2LMnLAogICAgICAgICAgICAgICAgJ21hc3Rlcic6ICfZhdin2KzYs9iq2YrYsScsCiAgICAgICAgICAgICAgICAncGhkJzogJ9iv2YPYqtmI2LHYp9mHJywKICAgICAgICAgICAgICAgICdvdGhlcic6ICfYo9iu2LHZiScKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIG5hbWVzW2VkdWNhdGlvbl0gfHwgZWR1Y2F0aW9uOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlUmVwbGFjZW1lbnRTZWxlY3QoZXhjbHVkZUlkID0gbnVsbCkgewogICAgICAgICAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wUmVwbGFjZW1lbnQnKTsKICAgICAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIj7ZhNinINmK2YjYrNivPC9vcHRpb24+JzsKICAgICAgICAgICAgZW1wbG95ZWVzRGF0YS5mb3JFYWNoKGVtcCA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZW1wLmlkICE9PSBleGNsdWRlSWQgJiYgZW1wLnN0YXR1cyA9PT0gJ2FjdGl2ZScpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBlbXAuaWQ7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gYCR7ZW1wLm5hbWV9ICgke2VtcC5lbXBsb3llZU51bWJlciB8fCAnJ30pYDsKICAgICAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBhc3luYyBmdW5jdGlvbiB1cGRhdGVEZXBhcnRtZW50U2VsZWN0KGV4Y2x1ZGVJZCA9IG51bGwpIHsKICAgICAgICAgICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcERlcGFydG1lbnQnKTsKICAgICAgICAgICAgaWYgKCFzZWxlY3QpIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNij2YLYs9in2YUg2YjYp9mE2YXYtNin2LHZiti5INil2LDYpyDZhNmFINiq2YPZhiDZhdit2YXZhNipCiAgICAgICAgICAgIGlmIChkZXBhcnRtZW50c0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRGVwYXJ0bWVudHMoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAocHJvamVjdHNEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgYXdhaXQgbG9hZFByb2plY3RzKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIj4tLSDYp9iu2KrYsSDYp9mE2YLYs9mFIC0tPC9vcHRpb24+JzsKICAgICAgICAgICAgZGVwYXJ0bWVudHNEYXRhLmZvckVhY2goZGVwdCA9PiB7CiAgICAgICAgICAgICAgICBpZiAoZXhjbHVkZUlkICYmIGRlcHQuaWQgPT09IGV4Y2x1ZGVJZCkgcmV0dXJuOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGRlcHQuaWQ7CiAgICAgICAgICAgICAgICBsZXQgcHJvamVjdE5hbWUgPSAnJzsKICAgICAgICAgICAgICAgIGlmIChkZXB0LnByb2plY3RJZCA9PT0gJ2dlbmVyYWxfbWFuYWdlbWVudCcpIHsKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0TmFtZSA9ICfYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2KknOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZXB0LnByb2plY3RJZCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0c0RhdGEuZmluZChwID0+IHAuaWQgPT09IGRlcHQucHJvamVjdElkKTsKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0TmFtZSA9IHByb2plY3QgPyBwcm9qZWN0Lm5hbWUgOiAn2YXYtNix2YjYuSDZhdit2LDZiNmBJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGAke2RlcHQubmFtZX0ke3Byb2plY3ROYW1lID8gJyAtICcgKyBwcm9qZWN0TmFtZSA6ICcnfWA7CiAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyDYqtit2K/ZitirINmC2KfYptmF2Kkg2KfZhNmF2YbYp9i32YIgKNmF2YPYp9mGINin2YTYudmF2YQpCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlV29ya0xvY2F0aW9uU2VsZWN0KCkgewogICAgICAgICAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wV29ya0xvY2F0aW9uJyk7CiAgICAgICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqtit2YXZitmEINin2YTZhdmG2KfYt9mCINil2LDYpyDZhNmFINiq2YPZhiDZhdit2YXZhNipCiAgICAgICAgICAgIGlmIChyZWdpb25zRGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRSZWdpb25zKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIj4tLSDYp9iu2KrYsSDZhdmD2KfZhiDYp9mE2LnZhdmEIC0tPC9vcHRpb24+JzsKICAgICAgICAgICAgcmVnaW9uc0RhdGEuZm9yRWFjaChyZWdpb24gPT4gewogICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSByZWdpb24uaWQ7CiAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSByZWdpb24ubmFtZSB8fCByZWdpb24ubmFtZUVuIHx8ICfZhdmG2LfZgtipINi62YrYsSDZhdit2K/Yr9ipJzsKICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vINiq2K3Yr9mK2Ksg2YLYp9im2YXYqSDYp9mE2YXZhtin2LfZgiDZhNmE2KXYrNin2LLYp9iqICjZhdmH2YXYqSDYudmF2YQpCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVhdmVSZWdpb25TZWxlY3QoKSB7CiAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZVJlZ2lvbklkJyk7CiAgICAgICAgICAgIGlmICghc2VsZWN0KSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqtit2YXZitmEINin2YTZhdmG2KfYt9mCINil2LDYpyDZhNmFINiq2YPZhiDZhdit2YXZhNipCiAgICAgICAgICAgIGlmIChyZWdpb25zRGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRSZWdpb25zKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIj4tLSDYp9iu2KrYsSDYp9mE2YXZhti32YLYqSAtLTwvb3B0aW9uPic7CiAgICAgICAgICAgIHJlZ2lvbnNEYXRhLmZvckVhY2gocmVnaW9uID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOwogICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gcmVnaW9uLmlkOwogICAgICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gcmVnaW9uLm5hbWUgfHwgcmVnaW9uLm5hbWVFbiB8fCAn2YXZhti32YLYqSDYutmK2LEg2YXYrdiv2K/YqSc7CiAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICAvLyDZhdi52KfZhNis2Kkg2KrYutmK2YrYsSDZhtmI2Lkg2KfZhNil2KzYp9iy2KkKICAgICAgICBmdW5jdGlvbiBoYW5kbGVMZWF2ZVR5cGVDaGFuZ2UoKSB7CiAgICAgICAgICAgIGNvbnN0IGxlYXZlVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZVR5cGUnKT8udmFsdWU7CiAgICAgICAgICAgIGNvbnN0IGxlYXZlSG91cnNHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUhvdXJzR3JvdXAnKTsKICAgICAgICAgICAgY29uc3QgbGVhdmVSZWdpb25Hcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZVJlZ2lvbkdyb3VwJyk7CiAgICAgICAgICAgIGNvbnN0IGxlYXZlTWlzc2lvblR5cGVHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1pc3Npb25UeXBlR3JvdXAnKTsKICAgICAgICAgICAgY29uc3QgbGVhdmVNaXNzaW9uSG91cnNHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1pc3Npb25Ib3Vyc0dyb3VwJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdi42YfYp9ixL9il2K7Zgdin2KEg2K3ZgtmEINin2YTYs9in2LnYp9iqINmE2YTYpdis2KfYstin2Kog2KfZhNiy2YXZhtmK2KkKICAgICAgICAgICAgaWYgKGxlYXZlSG91cnNHcm91cCkgewogICAgICAgICAgICAgICAgbGVhdmVIb3Vyc0dyb3VwLnN0eWxlLmRpc3BsYXkgPSAobGVhdmVUeXBlID09PSAnaG91cmx5JykgPyAnYmxvY2snIDogJ25vbmUnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdi42YfYp9ixL9il2K7Zgdin2KEg2K3ZgtmI2YQg2YXZh9mF2Kkg2KfZhNi52YXZhAogICAgICAgICAgICBpZiAobGVhdmVSZWdpb25Hcm91cCkgewogICAgICAgICAgICAgICAgbGVhdmVSZWdpb25Hcm91cC5zdHlsZS5kaXNwbGF5ID0gKGxlYXZlVHlwZSA9PT0gJ3dvcmstbWlzc2lvbicpID8gJ2Jsb2NrJyA6ICdub25lJzsKICAgICAgICAgICAgICAgIC8vINis2LnZhCDYp9mE2K3ZgtmEINmF2LfZhNmI2KjYp9mLINi52YbYryDYp9iu2KrZitin2LEg2YXZh9mF2Kkg2LnZhdmECiAgICAgICAgICAgICAgICBjb25zdCByZWdpb25TZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVSZWdpb25JZCcpOwogICAgICAgICAgICAgICAgaWYgKHJlZ2lvblNlbGVjdCkgewogICAgICAgICAgICAgICAgICAgIGlmIChsZWF2ZVR5cGUgPT09ICd3b3JrLW1pc3Npb24nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvblNlbGVjdC5zZXRBdHRyaWJ1dGUoJ3JlcXVpcmVkJywgJ3JlcXVpcmVkJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uU2VsZWN0LnJlbW92ZUF0dHJpYnV0ZSgncmVxdWlyZWQnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LjZh9in2LEv2KXYrtmB2KfYoSDZhtmI2Lkg2KfZhNmF2YfZhdipICjYstmF2YbZitipINij2Ygg2YrZiNmFINmD2KfZhdmEKQogICAgICAgICAgICBpZiAobGVhdmVNaXNzaW9uVHlwZUdyb3VwKSB7CiAgICAgICAgICAgICAgICBsZWF2ZU1pc3Npb25UeXBlR3JvdXAuc3R5bGUuZGlzcGxheSA9IChsZWF2ZVR5cGUgPT09ICd3b3JrLW1pc3Npb24nKSA/ICdibG9jaycgOiAnbm9uZSc7CiAgICAgICAgICAgICAgICBpZiAobGVhdmVUeXBlICE9PSAnd29yay1taXNzaW9uJykgewogICAgICAgICAgICAgICAgICAgIC8vINil2LnYp9iv2Kkg2KrYudmK2YrZhiDYp9mE2YLZitmFINi52YbYryDYqti62YrZitixINmG2YjYuSDYp9mE2KXYrNin2LLYqQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pc3Npb25UeXBlU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlTWlzc2lvblR5cGUnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtaXNzaW9uSG91cnNJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1pc3Npb25Ib3VycycpOwogICAgICAgICAgICAgICAgICAgIGlmIChtaXNzaW9uVHlwZVNlbGVjdCkgbWlzc2lvblR5cGVTZWxlY3QudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICBpZiAobWlzc2lvbkhvdXJzSW5wdXQpIG1pc3Npb25Ib3Vyc0lucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxlYXZlTWlzc2lvbkhvdXJzR3JvdXApIGxlYXZlTWlzc2lvbkhvdXJzR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDZhdi52KfZhNis2Kkg2KrYutmK2YrYsSDZhtmI2Lkg2KfZhNmF2YfZhdipICjYstmF2YbZitipINij2Ygg2YrZiNmFINmD2KfZhdmEKQogICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1pc3Npb25UeXBlQ2hhbmdlKCkgewogICAgICAgICAgICBjb25zdCBtaXNzaW9uVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1pc3Npb25UeXBlJyk/LnZhbHVlOwogICAgICAgICAgICBjb25zdCBsZWF2ZU1pc3Npb25Ib3Vyc0dyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlTWlzc2lvbkhvdXJzR3JvdXAnKTsKICAgICAgICAgICAgY29uc3QgbGVhdmVFbmREYXRlR3JvdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1ncm91cDpoYXMoI2xlYXZlRW5kRGF0ZSknKTsKICAgICAgICAgICAgY29uc3QgbGVhdmVFbmREYXRlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVFbmREYXRlJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobGVhdmVNaXNzaW9uSG91cnNHcm91cCkgewogICAgICAgICAgICAgICAgbGVhdmVNaXNzaW9uSG91cnNHcm91cC5zdHlsZS5kaXNwbGF5ID0gKG1pc3Npb25UeXBlID09PSAnaG91cmx5JykgPyAnYmxvY2snIDogJ25vbmUnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYudmG2K8g2KfYrtiq2YrYp9ixICLYstmF2YbZitipItiMINil2K7Zgdin2KEg2K3ZgtmEINiq2KfYsdmK2K4g2KfZhNin2YbYqtmH2KfYoQogICAgICAgICAgICAvLyDYudmG2K8g2KfYrtiq2YrYp9ixICLZitmI2YUg2YPYp9mF2YQi2Iwg2KXYuNmH2KfYsSDYrdmC2YQg2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihCiAgICAgICAgICAgIGlmIChsZWF2ZUVuZERhdGVJbnB1dCkgewogICAgICAgICAgICAgICAgaWYgKG1pc3Npb25UeXBlID09PSAnaG91cmx5JykgewogICAgICAgICAgICAgICAgICAgIGxlYXZlRW5kRGF0ZUlucHV0LnJlbW92ZUF0dHJpYnV0ZSgncmVxdWlyZWQnKTsKICAgICAgICAgICAgICAgICAgICBsZWF2ZUVuZERhdGVJbnB1dC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtaXNzaW9uVHlwZSA9PT0gJ2Z1bGwtZGF5JykgewogICAgICAgICAgICAgICAgICAgIC8vINmK2YXZg9mGINis2LnZhNmHINmF2LfZhNmI2KjYp9mLINil2LDYpyDZhNiy2YUg2KfZhNij2YXYsQogICAgICAgICAgICAgICAgICAgIC8vIGxlYXZlRW5kRGF0ZUlucHV0LnNldEF0dHJpYnV0ZSgncmVxdWlyZWQnLCAncmVxdWlyZWQnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDZhdi52KfZhNis2Kkg2KrYutmK2YrYsSDYt9ix2YrZgtipINil2K/Yrtin2YQg2KfZhNiz2KfYudin2Kog2YTZhNil2KzYp9iy2Kkg2KfZhNiy2YXZhtmK2KkKICAgICAgICBmdW5jdGlvbiBoYW5kbGVMZWF2ZUhvdXJzTWV0aG9kQ2hhbmdlKCkgewogICAgICAgICAgICBjb25zdCBtZXRob2QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVIb3Vyc0lucHV0TWV0aG9kJyk/LnZhbHVlOwogICAgICAgICAgICBjb25zdCBtYW51YWxHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUhvdXJzTWFudWFsR3JvdXAnKTsKICAgICAgICAgICAgY29uc3QgdGltZVJhbmdlR3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVIb3Vyc1RpbWVSYW5nZUdyb3VwJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAobWV0aG9kID09PSAndGltZS1yYW5nZScpIHsKICAgICAgICAgICAgICAgIGlmIChtYW51YWxHcm91cCkgbWFudWFsR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGlmICh0aW1lUmFuZ2VHcm91cCkgdGltZVJhbmdlR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2LPYp9i52KfYqiDYudmG2K8g2KfZhNiq2KjYr9mK2YQKICAgICAgICAgICAgICAgIGNhbGN1bGF0ZUxlYXZlSG91cnNGcm9tVGltZSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKG1hbnVhbEdyb3VwKSBtYW51YWxHcm91cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGlmICh0aW1lUmFuZ2VHcm91cCkgdGltZVJhbmdlR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2LPYp9i52KfYqiDZhdmGINmI2YLYqiDYp9mE2KjYr9in2YrYqSDZiNin2YTZhtmH2KfZitipINmE2YTYpdis2KfYstipINin2YTYstmF2YbZitipCiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlTGVhdmVIb3Vyc0Zyb21UaW1lKCkgewogICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVTdGFydFRpbWUnKT8udmFsdWU7CiAgICAgICAgICAgIGNvbnN0IGVuZFRpbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVFbmRUaW1lJyk/LnZhbHVlOwogICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVkSG91cnNTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlQ2FsY3VsYXRlZEhvdXJzJyk7CiAgICAgICAgICAgIGNvbnN0IGhvdXJzSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVIb3VycycpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFzdGFydFRpbWUgfHwgIWVuZFRpbWUpIHsKICAgICAgICAgICAgICAgIGlmIChjYWxjdWxhdGVkSG91cnNTcGFuKSBjYWxjdWxhdGVkSG91cnNTcGFuLnRleHRDb250ZW50ID0gJzAnOwogICAgICAgICAgICAgICAgaWYgKGhvdXJzSW5wdXQpIGhvdXJzSW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KrYrdmI2YrZhCDYp9mE2KPZiNmC2KfYqiDYpdmE2Ykg2K/Zgtin2KbZggogICAgICAgICAgICBjb25zdCBbc3RhcnRIb3Vycywgc3RhcnRNaW51dGVzXSA9IHN0YXJ0VGltZS5zcGxpdCgnOicpLm1hcChOdW1iZXIpOwogICAgICAgICAgICBjb25zdCBbZW5kSG91cnMsIGVuZE1pbnV0ZXNdID0gZW5kVGltZS5zcGxpdCgnOicpLm1hcChOdW1iZXIpOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3Qgc3RhcnRUb3RhbE1pbnV0ZXMgPSBzdGFydEhvdXJzICogNjAgKyBzdGFydE1pbnV0ZXM7CiAgICAgICAgICAgIGNvbnN0IGVuZFRvdGFsTWludXRlcyA9IGVuZEhvdXJzICogNjAgKyBlbmRNaW51dGVzOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2KfZhNmB2LHZgiDYqNin2YTYr9mC2KfYptmCCiAgICAgICAgICAgIGxldCBkaWZmTWludXRlcyA9IGVuZFRvdGFsTWludXRlcyAtIHN0YXJ0VG90YWxNaW51dGVzOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2YjZgtiqINin2YTZhtmH2KfYptmKINmC2KjZhCDYp9mE2YjZgtiqINin2YTYp9io2KrYr9in2KbZitiMINmG2LnYqtio2LEg2KPZhtmHINin2YTZitmI2YUg2KfZhNiq2KfZhNmKCiAgICAgICAgICAgIGlmIChkaWZmTWludXRlcyA8IDApIHsKICAgICAgICAgICAgICAgIGRpZmZNaW51dGVzICs9IDI0ICogNjA7IC8vINil2LbYp9mB2KkgMjQg2LPYp9i52KkKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KrYrdmI2YrZhCDYp9mE2K/Zgtin2KbZgiDYpdmE2Ykg2LPYp9i52KfYqiAo2YXYuSDYr9mC2KkgMC41KQogICAgICAgICAgICBjb25zdCBob3VycyA9IGRpZmZNaW51dGVzIC8gNjA7CiAgICAgICAgICAgIGNvbnN0IHJvdW5kZWRIb3VycyA9IE1hdGgucm91bmQoaG91cnMgKiAyKSAvIDI7IC8vINiq2YLYsdmK2Kgg2KXZhNmJINij2YLYsdioIDAuNQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2LnYsdi2INin2YTZhtiq2YrYrNipCiAgICAgICAgICAgIGlmIChjYWxjdWxhdGVkSG91cnNTcGFuKSB7CiAgICAgICAgICAgICAgICBjYWxjdWxhdGVkSG91cnNTcGFuLnRleHRDb250ZW50ID0gcm91bmRlZEhvdXJzLnRvRml4ZWQoMSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2K3ZgtmEINin2YTYs9in2LnYp9iqCiAgICAgICAgICAgIGlmIChob3Vyc0lucHV0KSB7CiAgICAgICAgICAgICAgICBob3Vyc0lucHV0LnZhbHVlID0gcm91bmRlZEhvdXJzLnRvRml4ZWQoMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2YXYudin2YTYrNipINiq2LrZitmK2LEg2LfYsdmK2YLYqSDYpdiv2K7Yp9mEINin2YTYs9in2LnYp9iqINmE2YTZhdmH2YXYqSDYp9mE2LLZhdmG2YrYqQogICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1pc3Npb25Ib3Vyc01ldGhvZENoYW5nZSgpIHsKICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlTWlzc2lvbkhvdXJzSW5wdXRNZXRob2QnKT8udmFsdWU7CiAgICAgICAgICAgIGNvbnN0IG1hbnVhbEdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlTWlzc2lvbkhvdXJzTWFudWFsR3JvdXAnKTsKICAgICAgICAgICAgY29uc3QgdGltZVJhbmdlR3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNaXNzaW9uSG91cnNUaW1lUmFuZ2VHcm91cCcpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ3RpbWUtcmFuZ2UnKSB7CiAgICAgICAgICAgICAgICBpZiAobWFudWFsR3JvdXApIG1hbnVhbEdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBpZiAodGltZVJhbmdlR3JvdXApIHRpbWVSYW5nZUdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2KfZhNiz2KfYudin2Kog2LnZhtivINin2YTYqtio2K/ZitmECiAgICAgICAgICAgICAgICBjYWxjdWxhdGVNaXNzaW9uSG91cnNGcm9tVGltZSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKG1hbnVhbEdyb3VwKSBtYW51YWxHcm91cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGlmICh0aW1lUmFuZ2VHcm91cCkgdGltZVJhbmdlR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2LPYp9i52KfYqiDZhdmGINmI2YLYqiDYp9mE2KjYr9in2YrYqSDZiNin2YTZhtmH2KfZitipINmE2YTZhdmH2YXYqSDYp9mE2LLZhdmG2YrYqQogICAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZU1pc3Npb25Ib3Vyc0Zyb21UaW1lKCkgewogICAgICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNaXNzaW9uU3RhcnRUaW1lJyk/LnZhbHVlOwogICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlTWlzc2lvbkVuZFRpbWUnKT8udmFsdWU7CiAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0ZWRIb3Vyc1NwYW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNaXNzaW9uQ2FsY3VsYXRlZEhvdXJzJyk7CiAgICAgICAgICAgIGNvbnN0IGhvdXJzSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNaXNzaW9uSG91cnMnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghc3RhcnRUaW1lIHx8ICFlbmRUaW1lKSB7CiAgICAgICAgICAgICAgICBpZiAoY2FsY3VsYXRlZEhvdXJzU3BhbikgY2FsY3VsYXRlZEhvdXJzU3Bhbi50ZXh0Q29udGVudCA9ICcwJzsKICAgICAgICAgICAgICAgIGlmIChob3Vyc0lucHV0KSBob3Vyc0lucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3ZiNmK2YQg2KfZhNij2YjZgtin2Kog2KXZhNmJINiv2YLYp9im2YIKICAgICAgICAgICAgY29uc3QgW3N0YXJ0SG91cnMsIHN0YXJ0TWludXRlc10gPSBzdGFydFRpbWUuc3BsaXQoJzonKS5tYXAoTnVtYmVyKTsKICAgICAgICAgICAgY29uc3QgW2VuZEhvdXJzLCBlbmRNaW51dGVzXSA9IGVuZFRpbWUuc3BsaXQoJzonKS5tYXAoTnVtYmVyKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VG90YWxNaW51dGVzID0gc3RhcnRIb3VycyAqIDYwICsgc3RhcnRNaW51dGVzOwogICAgICAgICAgICBjb25zdCBlbmRUb3RhbE1pbnV0ZXMgPSBlbmRIb3VycyAqIDYwICsgZW5kTWludXRlczsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINit2LPYp9ioINin2YTZgdix2YIg2KjYp9mE2K/Zgtin2KbZggogICAgICAgICAgICBsZXQgZGlmZk1pbnV0ZXMgPSBlbmRUb3RhbE1pbnV0ZXMgLSBzdGFydFRvdGFsTWludXRlczsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2KfZhNmI2YLYqiDYp9mE2YbZh9in2KbZiiDZgtio2YQg2KfZhNmI2YLYqiDYp9mE2KfYqNiq2K/Yp9im2YrYjCDZhti52KrYqNixINij2YbZhyDYp9mE2YrZiNmFINin2YTYqtin2YTZigogICAgICAgICAgICBpZiAoZGlmZk1pbnV0ZXMgPCAwKSB7CiAgICAgICAgICAgICAgICBkaWZmTWludXRlcyArPSAyNCAqIDYwOyAvLyDYpdi22KfZgdipIDI0INiz2KfYudipCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3ZiNmK2YQg2KfZhNiv2YLYp9im2YIg2KXZhNmJINiz2KfYudin2KogKNmF2Lkg2K/ZgtipIDAuNSkKICAgICAgICAgICAgY29uc3QgaG91cnMgPSBkaWZmTWludXRlcyAvIDYwOwogICAgICAgICAgICBjb25zdCByb3VuZGVkSG91cnMgPSBNYXRoLnJvdW5kKGhvdXJzICogMikgLyAyOyAvLyDYqtmC2LHZitioINil2YTZiSDYo9mC2LHYqCAwLjUKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINi52LHYtiDYp9mE2YbYqtmK2KzYqQogICAgICAgICAgICBpZiAoY2FsY3VsYXRlZEhvdXJzU3BhbikgewogICAgICAgICAgICAgICAgY2FsY3VsYXRlZEhvdXJzU3Bhbi50ZXh0Q29udGVudCA9IHJvdW5kZWRIb3Vycy50b0ZpeGVkKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqtit2K/ZitirINit2YLZhCDYp9mE2LPYp9i52KfYqgogICAgICAgICAgICBpZiAoaG91cnNJbnB1dCkgewogICAgICAgICAgICAgICAgaG91cnNJbnB1dC52YWx1ZSA9IHJvdW5kZWRIb3Vycy50b0ZpeGVkKDEpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYqtiz2KzZitmEINin2YTYrtix2YjYrAogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2K/ZiNin2YQg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2YjYp9mE2K7YsdmI2KwKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIAogICAgICAgIC8vINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmECiAgICAgICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlTG9naW4oZXZlbnQpIHsKICAgICAgICAgICAgaWYgKGV2ZW50KSB7CiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbkVtYWlsJykudmFsdWUudHJpbSgpOwogICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpblBhc3N3b3JkJykudmFsdWU7CiAgICAgICAgICAgIGNvbnN0IHJlbWVtYmVyTWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtZW1iZXJNZScpLmNoZWNrZWQ7CiAgICAgICAgICAgIGNvbnN0IGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luRXJyb3InKTsKICAgICAgICAgICAgY29uc3QgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbkxvYWRpbmcnKTsKICAgICAgICAgICAgY29uc3QgbG9naW5CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5CdG4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYqNmK2KfZhtin2KoKICAgICAgICAgICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgIGVycm9yRGl2LnRleHRDb250ZW50ID0gJ9in2YTYsdis2KfYoSDYpdiv2K7Yp9mEINin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZiiDZiNmD2YTZhdipINin2YTZhdix2YjYsSc7CiAgICAgICAgICAgICAgICBlcnJvckRpdi5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LjZh9in2LEg2K3Yp9mE2Kkg2KfZhNiq2K3ZhdmK2YQKICAgICAgICAgICAgbG9naW5CdG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICBsb2FkaW5nRGl2LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsKICAgICAgICAgICAgZXJyb3JEaXYuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOwogICAgICAgICAgICAKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICghd2luZG93LmF1dGggfHwgIXdpbmRvdy5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCkgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmlyZWJhc2UgQXV0aGVudGljYXRpb24g2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmECiAgICAgICAgICAgICAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHdpbmRvdy5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh3aW5kb3cuYXV0aCwgZW1haWwsIHBhc3N3b3JkKTsKICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gdXNlckNyZWRlbnRpYWwudXNlcjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYudin2K/YqSDYqti52YrZitmGINi52YTYp9mF2Kkg2KrYs9is2YrZhCDYp9mE2K7YsdmI2Kwg2KfZhNmK2K/ZiNmKCiAgICAgICAgICAgICAgICBpc01hbnVhbExvZ291dCA9IGZhbHNlOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINiq2YUg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2KjZhtis2KfYrTonLCBlbWFpbCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINin2YTYqtij2YPYryDZhdmGINmI2KzZiNivINiz2KzZhCDYp9mE2YXYs9iq2K7Yr9mFINmB2YogRmlyZXN0b3JlCiAgICAgICAgICAgICAgICBhd2FpdCBlbnN1cmVVc2VyUmVjb3JkRXhpc3RzKGN1cnJlbnRVc2VyKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2K3Zgdi4INio2YrYp9mG2KfYqiDYqtiz2KzZitmEINin2YTYr9iu2YjZhCDYpdiw2Kcg2KrZhSDYp9iu2KrZitin2LEgItiq2LDZg9ix2YbZiiIKICAgICAgICAgICAgICAgIGlmIChyZW1lbWJlck1lKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2K3Zgdi4INin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZiiDZgdmC2LcgKNmE2Kcg2YbYrdmB2Lgg2YPZhNmF2Kkg2KfZhNmF2LHZiNixKQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaHJtX3JlbWVtYmVyZWRfZW1haWwnLCBlbWFpbCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdocm1fcmVtZW1iZXJfbWUnLCAndHJ1ZScpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINiq2YUg2K3Zgdi4INin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZiiDZhNmE2KzZhNiz2Kkg2KfZhNmC2KfYr9mF2KknKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChzdG9yYWdlRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8g2YTYpyDZitmF2YPZhiDYrdmB2Lgg2KjZitin2YbYp9iqINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEOicsIHN0b3JhZ2VFcnJvcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyDYrdiw2YEg2KfZhNio2YrYp9mG2KfYqiDYp9mE2YXYrdmB2YjYuNipINil2LDYpyDZhNmFINmK2KrZhSDYp9iu2KrZitin2LEgItiq2LDZg9ix2YbZiiIKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaHJtX3JlbWVtYmVyZWRfZW1haWwnKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaHJtX3JlbWVtYmVyX21lJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINil2K7Zgdin2KEg2YjYp9is2YfYqSDYqtiz2KzZitmEINin2YTYr9iu2YjZhCDZiNil2LjZh9in2LEg2KfZhNiq2LfYqNmK2YIKICAgICAgICAgICAgICAgIHNob3dBcHAoKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqINio2LnYryDYqtiz2KzZitmEINin2YTYr9iu2YjZhAogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAvLyDYqtit2YXZitmEINmF2LnZhNmI2YXYp9iqINin2YTYtNix2YPYqQogICAgICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRDb21wYW55SW5mbygpOwogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvbXBhbnlMb2dvSW5BcHAoKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDYqtit2YXZitmEINil2LnYr9in2K/Yp9iqINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICAgICAgICAgIGxvYWREYXRhYmFzZVNldHRpbmdzKCk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDZhNmI2K3YqSDYp9mE2KrYrdmD2YUKICAgICAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRGFzaGJvYXJkU3RhdHMoKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGxvYWRFcnJvcikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KaoO+4jyDYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2Ko6JywgbG9hZEVycm9yKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MINiu2LfYoyDZgdmKINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICfYrti32KMg2YHZiiDYqtiz2KzZitmEINin2YTYr9iu2YjZhCc7CiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ2F1dGgvdXNlci1ub3QtZm91bmQnKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ9in2YTZhdiz2KrYrtiv2YUg2LrZitixINmF2YjYrNmI2K8nOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5jb2RlID09PSAnYXV0aC93cm9uZy1wYXNzd29yZCcpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAn2YPZhNmF2Kkg2KfZhNmF2LHZiNixINi62YrYsSDYtdit2YrYrdipJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IuY29kZSA9PT0gJ2F1dGgvaW52YWxpZC1lbWFpbCcpIHsKICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSAn2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKINi62YrYsSDYtdit2YrYrSc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLmNvZGUgPT09ICdhdXRoL3VzZXItZGlzYWJsZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ9iq2YUg2KrYudi32YrZhCDZh9iw2Kcg2KfZhNit2LPYp9ioJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXJyb3IuY29kZSA9PT0gJ2F1dGgvdG9vLW1hbnktcmVxdWVzdHMnKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ9iq2YUg2KrYrNin2YjYsiDYudiv2K8g2KfZhNmF2K3Yp9mI2YTYp9iqINin2YTZhdiz2YXZiNitINio2YfYpy4g2YrYsdis2Ykg2KfZhNmF2K3Yp9mI2YTYqSDZhNin2K3Zgtin2YsnOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZXJyb3JEaXYudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7CiAgICAgICAgICAgICAgICBlcnJvckRpdi5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBsb2dpbkJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgbG9hZGluZ0Rpdi5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2KrYs9is2YrZhCDYp9mE2K7YsdmI2KwKICAgICAgICBmdW5jdGlvbiBoYW5kbGVMb2dvdXQoKSB7CiAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1BXSDYr9iu2YjZhCBoYW5kbGVMb2dvdXQnKTsKICAgICAgICAgICAgLy8g2KrZhSDYpdiy2KfZhNipINin2LPYqtiv2LnYp9ihIGxvZ2dpbmcg2KfZhNiu2KfYsdis2YoKICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICBpZiAoY29uZmlybSgn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINiq2LPYrNmK2YQg2KfZhNiu2LHZiNis2J8nKSkgewogICAgICAgICAgICAgICAgLy8g2KrYudmK2YrZhiDYudmE2KfZhdipINiq2LPYrNmK2YQg2KfZhNiu2LHZiNisINin2YTZitiv2YjZigogICAgICAgICAgICAgICAgaXNNYW51YWxMb2dvdXQgPSB0cnVlOwogICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnaHJtX21hbnVhbF9sb2dvdXQnLCAndHJ1ZScpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1BXSDYqti52YrZitmGIGlzTWFudWFsTG9nb3V0ID0gdHJ1ZSDZiNit2YHYuNmHINmB2Yogc2Vzc2lvblN0b3JhZ2UnKTsKICAgICAgICAgICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1BXSDYrti32KMg2YHZiiDYrdmB2Lggc2Vzc2lvblN0b3JhZ2U6JywgZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuc2lnbk91dCAmJiB3aW5kb3cuYXV0aCkgewogICAgICAgICAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUFdINmC2KjZhCDYp9iz2KrYr9i52KfYoSBzaWduT3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgLy8g2KrZhSDYpdiy2KfZhNipINin2LPYqtiv2LnYp9ihIGxvZ2dpbmcg2KfZhNiu2KfYsdis2YoKICAgICAgICAgICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNpZ25PdXQod2luZG93LmF1dGgpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctQV0g2KjYudivIHNpZ25PdXQgLSDZhtis2K0nKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KrZhSDYpdiy2KfZhNipINin2LPYqtiv2LnYp9ihIGxvZ2dpbmcg2KfZhNiu2KfYsdis2YoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VXNlciA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dMb2dpbigpOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUFdINiu2LfYoyDZgdmKIHNpZ25PdXQ6JywgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrYs9is2YrZhCDYp9mE2K7YsdmI2Kw6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VXNlciA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dMb2dpbigpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50VXNlciA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgc2hvd0xvZ2luKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2KXYuNmH2KfYsSDZiNin2KzZh9ipINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmECiAgICAgICAgZnVuY3Rpb24gc2hvd0xvZ2luKCkgewogICAgICAgICAgICBjb25zdCBsb2dpblNjcmVlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpblNjcmVlbicpOwogICAgICAgICAgICBjb25zdCBhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7CiAgICAgICAgICAgIGlmIChsb2dpblNjcmVlbikgbG9naW5TY3JlZW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIGlmIChhcHApIGFwcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKINin2YTZhdit2YHZiNi4INil2LDYpyDZg9in2YYgItiq2LDZg9ix2YbZiiIg2YXZgdi52ZHZhAogICAgICAgICAgICBjb25zdCByZW1lbWJlcmVkRW1haWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaHJtX3JlbWVtYmVyZWRfZW1haWwnKTsKICAgICAgICAgICAgY29uc3QgcmVtZW1iZXJNZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdocm1fcmVtZW1iZXJfbWUnKSA9PT0gJ3RydWUnOwogICAgICAgICAgICBjb25zdCBsb2dpbkVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luRW1haWwnKTsKICAgICAgICAgICAgY29uc3QgbG9naW5QYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpblBhc3N3b3JkJyk7CiAgICAgICAgICAgIGNvbnN0IHJlbWVtYmVyTWVDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1lbWJlck1lJyk7CiAgICAgICAgICAgIGNvbnN0IGxvZ2luRXJyb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5FcnJvcicpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGxvZ2luRW1haWwpIHsKICAgICAgICAgICAgICAgIGlmIChyZW1lbWJlck1lICYmIHJlbWVtYmVyZWRFbWFpbCkgewogICAgICAgICAgICAgICAgICAgIGxvZ2luRW1haWwudmFsdWUgPSByZW1lbWJlcmVkRW1haWw7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxvZ2luRW1haWwudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobG9naW5QYXNzd29yZCkgbG9naW5QYXNzd29yZC52YWx1ZSA9ICcnOwogICAgICAgICAgICBpZiAocmVtZW1iZXJNZUNoZWNrYm94KSByZW1lbWJlck1lQ2hlY2tib3guY2hlY2tlZCA9IHJlbWVtYmVyTWU7CiAgICAgICAgICAgIGlmIChsb2dpbkVycm9yKSBsb2dpbkVycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YTYqtix2YPZitiyINi52YTZiSDYrdmC2YQg2YPZhNmF2Kkg2KfZhNmF2LHZiNixINil2LDYpyDZg9in2YYg2KfZhNio2LHZitivINmF2K3ZgdmI2LjYp9mLCiAgICAgICAgICAgIGlmIChyZW1lbWJlck1lICYmIHJlbWVtYmVyZWRFbWFpbCAmJiBsb2dpblBhc3N3b3JkKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGxvZ2luUGFzc3dvcmQuZm9jdXMoKSwgMTAwKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChsb2dpbkVtYWlsKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGxvZ2luRW1haWwuZm9jdXMoKSwgMTAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDYpdi42YfYp9ixINin2YTYqti32KjZitmCINin2YTYsdim2YrYs9mKCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc2hvd0FwcCgpIHsKICAgICAgICAgICAgY29uc3QgbG9naW5TY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5TY3JlZW4nKTsKICAgICAgICAgICAgY29uc3QgYXBwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpOwogICAgICAgICAgICBpZiAobG9naW5TY3JlZW4pIGxvZ2luU2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICBpZiAoYXBwKSBhcHAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqtit2K/ZitirINmF2LnZhNmI2YXYp9iqINin2YTZhdiz2KrYrtiv2YUKICAgICAgICAgICAgYXdhaXQgdXBkYXRlVXNlckluZm8oKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICBhd2FpdCBsb2FkRGFzaGJvYXJkU3RhdHMoKTsKICAgICAgICAgICAgYXdhaXQgbG9hZEVtcGxveWVlcygpOwogICAgICAgICAgICBhd2FpdCBsb2FkUHJvamVjdHMoKTsKICAgICAgICAgICAgYXdhaXQgbG9hZExlYXZlcygpOwogICAgICAgICAgICBhd2FpdCBsb2FkVXNlcnMoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2KrYrdiv2YrYqyDZhdi52YTZiNmF2KfYqiDYp9mE2YXYs9iq2K7Yr9mFINmB2Yog2KfZhNmH2YrYr9ixCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlckluZm8oKSB7CiAgICAgICAgICAgIGlmICghY3VycmVudFVzZXIgfHwgIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KjZitin2YbYp9iqINin2YTZhdiz2KrYrtiv2YUg2YXZhiBGaXJlc3RvcmUKICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmdldERvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICd1c2VycycsIGN1cnJlbnRVc2VyLnVpZCkKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJJbmZvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VySW5mbycpOwogICAgICAgICAgICAgICAgaWYgKCF1c2VySW5mb0VsZW1lbnQpIHJldHVybjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgdXNlck5hbWVFbGVtZW50ID0gdXNlckluZm9FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItdXNlci1uYW1lJyk7CiAgICAgICAgICAgICAgICBjb25zdCB1c2VyUm9sZUVsZW1lbnQgPSB1c2VySW5mb0VsZW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci11c2VyLXJvbGUnKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHVzZXJEb2MuZXhpc3RzKCkpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJEb2MuZGF0YSgpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJOYW1lID0gdXNlckRhdGEubmFtZSB8fCBjdXJyZW50VXNlci5lbWFpbC5zcGxpdCgnQCcpWzBdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJSb2xlID0gdXNlckRhdGEucm9sZSB8fCAnZW1wbG95ZWUnOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyTmFtZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlck5hbWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyUm9sZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlclJvbGVFbGVtZW50LnRleHRDb250ZW50ID0gZ2V0Um9sZU5hbWUodXNlclJvbGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJOYW1lRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBjdXJyZW50VXNlci5lbWFpbC5zcGxpdCgnQCcpWzBdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAodXNlclJvbGVFbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJSb2xlRWxlbWVudC50ZXh0Q29udGVudCA9ICfZhdmI2LjZgSc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDZhdi52YTZiNmF2KfYqiDYp9mE2YXYs9iq2K7Yr9mFOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJJbmZvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VySW5mbycpOwogICAgICAgICAgICAgICAgaWYgKHVzZXJJbmZvRWxlbWVudCAmJiBjdXJyZW50VXNlcikgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJOYW1lRWxlbWVudCA9IHVzZXJJbmZvRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLXVzZXItbmFtZScpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJSb2xlRWxlbWVudCA9IHVzZXJJbmZvRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLXVzZXItcm9sZScpOwogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyTmFtZUVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gY3VycmVudFVzZXIuZW1haWwuc3BsaXQoJ0AnKVswXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJSb2xlRWxlbWVudCkgewogICAgICAgICAgICAgICAgICAgICAgICB1c2VyUm9sZUVsZW1lbnQudGV4dENvbnRlbnQgPSAn2YXZiNi42YEnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDYp9mE2K3YtdmI2YQg2LnZhNmJINin2LPZhSDYp9mE2LXZhNin2K3ZitipCiAgICAgICAgZnVuY3Rpb24gZ2V0Um9sZU5hbWUocm9sZSkgewogICAgICAgICAgICByZXR1cm4gdChyb2xlKSB8fCByb2xlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDYqtio2K/ZitmEINin2YTZhNi62KkKICAgICAgICBmdW5jdGlvbiB0b2dnbGVMYW5ndWFnZSgpIHsKICAgICAgICAgICAgY29uc3QgbmV3TGFuZyA9IGN1cnJlbnRMYW5ndWFnZSA9PT0gJ2FyJyA/ICdlbicgOiAnYXInOwogICAgICAgICAgICBzd2l0Y2hMYW5ndWFnZShuZXdMYW5nKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2KrZh9mK2KbYqSDYp9mE2YTYutipINi52YbYryDYqtit2YXZitmEINin2YTYtdmB2K3YqQogICAgICAgIGZ1bmN0aW9uIGluaXRMYW5ndWFnZSgpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmxhbmcgPSBjdXJyZW50TGFuZ3VhZ2U7CiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kaXIgPSBjdXJyZW50TGFuZ3VhZ2UgPT09ICdhcicgPyAncnRsJyA6ICdsdHInOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KrYrdiv2YrYqyDYstixINin2YTZhNi62KkKICAgICAgICAgICAgY29uc3QgbGFuZ3VhZ2VUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhbmd1YWdlVGV4dCcpOwogICAgICAgICAgICBpZiAobGFuZ3VhZ2VUZXh0KSB7CiAgICAgICAgICAgICAgICBsYW5ndWFnZVRleHQudGV4dENvbnRlbnQgPSBjdXJyZW50TGFuZ3VhZ2UgPT09ICdhcicgPyAnRU4nIDogJ0FSJzsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KrYt9io2YrZgiDYp9mE2KrYsdis2YXYp9iqCiAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb25zKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9ucygpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyDYqtmH2YrYptipINio2YrYp9mG2KfYqiDYp9mE2YXYqti12YHYrQogICAgICAgIGZ1bmN0aW9uIHJlc2V0QnJvd3NlckRhdGEoKSB7CiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcHJvbXB0KCfYo9iv2K7ZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YTYqtmH2YrYptipINio2YrYp9mG2KfYqiDYp9mE2YXYqti12YHYrTonKTsKICAgICAgICAgICAgaWYgKHBhc3N3b3JkID09PSAnMTQ3NTk2MycpIHsKICAgICAgICAgICAgICAgIGlmIChjb25maXJtKCfimqDvuI8g2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINiq2YfZitim2Kkg2KzZhdmK2Lkg2KjZitin2YbYp9iqINin2YTZhdiq2LXZgdit2J9cblxu2LPZitiq2YUg2K3YsNmBOlxuLSDYrNmF2YrYuSDYp9mE2KjZitin2YbYp9iqINin2YTZhdit2YHZiNi42Kkg2YXYrdmE2YrYp9mLXG4tINil2LnYr9in2K/Yp9iqIEZpcmViYXNlXG4tINmF2LnZhNmI2YXYp9iqINin2YTYrNmE2LPYqVxuXG7Zh9iw2Ycg2KfZhNi52YXZhNmK2Kkg2YTYpyDZitmF2YPZhiDYp9mE2KrYsdin2KzYuSDYudmG2YfYpyEnKSkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn4pyFINiq2YUg2YXYs9itINis2YXZiti5INio2YrYp9mG2KfYqiDYp9mE2YXYqti12YHYrSDYqNmG2KzYp9itIVxu2LPZitiq2YUg2KXYudin2K/YqSDYqtit2YXZitmEINin2YTYtdmB2K3YqS4uLicpOwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDZhdiz2K0g2KfZhNio2YrYp9mG2KfYqjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfinYwg2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINmF2LPYrSDYp9mE2KjZitin2YbYp9iqJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3N3b3JkICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn4p2MINmD2YTZhdipINin2YTZhdix2YjYsSDYutmK2LEg2LXYrdmK2K3YqScpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYpdi62YTYp9mCINin2YTZhtmI2KfZgdiwINi52YbYryDYp9mE2YbZgtixINiu2KfYsdis2YfYpwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVNb2RhbCcpOwogICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBlbXBsb3llZU1vZGFsKSB7CiAgICAgICAgICAgICAgICBoaWRlQWRkRW1wbG95ZWVGb3JtKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IHByb2plY3RNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0TW9kYWwnKTsKICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gcHJvamVjdE1vZGFsKSB7CiAgICAgICAgICAgICAgICBoaWRlQWRkUHJvamVjdEZvcm0oKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgbGVhdmVNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1vZGFsJyk7CiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQgPT09IGxlYXZlTW9kYWwpIHsKICAgICAgICAgICAgICAgIGhpZGVBZGRMZWF2ZUZvcm0oKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgdXNlck1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJNb2RhbCcpOwogICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB1c2VyTW9kYWwpIHsKICAgICAgICAgICAgICAgIGhpZGVBZGRVc2VyRm9ybSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2KXYr9in2LHYqSDYpdi52K/Yp9iv2KfYqiDZgtin2LnYr9ipINin2YTYqNmK2KfZhtin2KoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIGNvbnN0IERCX1NFVFRJTkdTX1BBU1NXT1JEID0gJzE0NzU5NjMnOwogICAgICAgIGxldCBkYlNldHRpbmdzRWRpdE1vZGUgPSBmYWxzZTsKCiAgICAgICAgLy8g2KrYrdmF2YrZhCDYpdi52K/Yp9iv2KfYqiDZgtin2LnYr9ipINin2YTYqNmK2KfZhtin2KoKICAgICAgICBmdW5jdGlvbiBsb2FkRGF0YWJhc2VTZXR0aW5ncygpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHNhdmVkQ29uZmlnID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0od2luZG93LkhSTV9GSVJFQkFTRV9DT05GSUdfS0VZIHx8ICdocm1fZmlyZWJhc2VfY29uZmlnJyk7CiAgICAgICAgICAgICAgICBpZiAoc2F2ZWRDb25maWcpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25maWcgPSBKU09OLnBhcnNlKHNhdmVkQ29uZmlnKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGJBcGlLZXknKS52YWx1ZSA9IGNvbmZpZy5hcGlLZXkgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXV0aERvbWFpbicpLnZhbHVlID0gY29uZmlnLmF1dGhEb21haW4gfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiUHJvamVjdElkJykudmFsdWUgPSBjb25maWcucHJvamVjdElkIHx8ICcnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYlN0b3JhZ2VCdWNrZXQnKS52YWx1ZSA9IGNvbmZpZy5zdG9yYWdlQnVja2V0IHx8ICcnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYk1lc3NhZ2luZ1NlbmRlcklkJykudmFsdWUgPSBjb25maWcubWVzc2FnaW5nU2VuZGVySWQgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXBwSWQnKS52YWx1ZSA9IGNvbmZpZy5hcHBJZCB8fCAnJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KXYudiv2KfYr9in2Kog2KfZgdiq2LHYp9i22YrYqQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYkFwaUtleScpLnZhbHVlID0gJ0FJemFTeURJdjU1OGhiYkVnQmZFcllVQWp0STQxSEZESV9QNmJMTSc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXV0aERvbWFpbicpLnZhbHVlID0gJ3B1cmNoYXNlLW9yZGVyLWYxMDEwLmZpcmViYXNlYXBwLmNvbSc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiUHJvamVjdElkJykudmFsdWUgPSAncHVyY2hhc2Utb3JkZXItZjEwMTAnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYlN0b3JhZ2VCdWNrZXQnKS52YWx1ZSA9ICdwdXJjaGFzZS1vcmRlci1mMTAxMC5maXJlYmFzZXN0b3JhZ2UuYXBwJzsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGJNZXNzYWdpbmdTZW5kZXJJZCcpLnZhbHVlID0gJzM0MDA1MDUwOTAwMCc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXBwSWQnKS52YWx1ZSA9ICcxOjM0MDA1MDUwOTAwMDp3ZWI6MDhhNjYwNWJmMGU1OTVlY2Q2NzlmZCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYqtit2YXZitmEINil2LnYr9in2K/Yp9iqINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqjonLCBlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINiq2YHYudmK2YQv2KrYudi32YrZhCDZiNi22Lkg2KfZhNiq2LnYr9mK2YQKICAgICAgICBmdW5jdGlvbiB0b2dnbGVEYXRhYmFzZVNldHRpbmdzRWRpdCgpIHsKICAgICAgICAgICAgaWYgKCFkYlNldHRpbmdzRWRpdE1vZGUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcHJvbXB0KCfYo9iv2K7ZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YTYqti52K/ZitmEINil2LnYr9in2K/Yp9iqINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqjonKTsKICAgICAgICAgICAgICAgIGlmIChwYXNzd29yZCAhPT0gREJfU0VUVElOR1NfUEFTU1dPUkQpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn4p2MINmD2YTZhdipINin2YTZhdix2YjYsSDYutmK2LEg2LXYrdmK2K3YqScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrZgdi52YrZhCDZiNi22Lkg2KfZhNiq2LnYr9mK2YQKICAgICAgICAgICAgICAgIGRiU2V0dGluZ3NFZGl0TW9kZSA9IHRydWU7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGJFZGl0QnRuJykudGV4dENvbnRlbnQgPSAn8J+UkiDYpdmE2LrYp9ihINin2YTYqti52K/ZitmEJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYlNhdmVCdXR0b25zJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYlNhdmVCdXR0b25zJykuc3R5bGUuZ2FwID0gJzEwcHgnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtmB2LnZitmEINin2YTYrdmC2YjZhAogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXBpS2V5JykucmVhZE9ubHkgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYkFwaUtleScpLnN0eWxlLmJhY2tncm91bmQgPSAnI2ZmZic7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGJBdXRoRG9tYWluJykucmVhZE9ubHkgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYkF1dGhEb21haW4nKS5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiUHJvamVjdElkJykucmVhZE9ubHkgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYlByb2plY3RJZCcpLnN0eWxlLmJhY2tncm91bmQgPSAnI2ZmZic7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGJTdG9yYWdlQnVja2V0JykucmVhZE9ubHkgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYlN0b3JhZ2VCdWNrZXQnKS5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiTWVzc2FnaW5nU2VuZGVySWQnKS5yZWFkT25seSA9IGZhbHNlOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiTWVzc2FnaW5nU2VuZGVySWQnKS5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXBwSWQnKS5yZWFkT25seSA9IGZhbHNlOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXBwSWQnKS5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2FuY2VsRGF0YWJhc2VTZXR0aW5nc0VkaXQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KXZhNi62KfYoSDYp9mE2KrYudiv2YrZhAogICAgICAgIGZ1bmN0aW9uIGNhbmNlbERhdGFiYXNlU2V0dGluZ3NFZGl0KCkgewogICAgICAgICAgICBkYlNldHRpbmdzRWRpdE1vZGUgPSBmYWxzZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiRWRpdEJ0bicpLnRleHRDb250ZW50ID0gJ/CflJMg2KrYudiv2YrZhCDYp9mE2KXYudiv2KfYr9in2KonOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGJTYXZlQnV0dG9ucycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqti52LfZitmEINin2YTYrdmC2YjZhCDZiNil2LnYp9iv2Kkg2KrYrdmF2YrZhCDYp9mE2YLZitmFCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYkFwaUtleScpLnJlYWRPbmx5ID0gdHJ1ZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXBpS2V5Jykuc3R5bGUuYmFja2dyb3VuZCA9ICcjZTllY2VmJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXV0aERvbWFpbicpLnJlYWRPbmx5ID0gdHJ1ZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXV0aERvbWFpbicpLnN0eWxlLmJhY2tncm91bmQgPSAnI2U5ZWNlZic7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYlByb2plY3RJZCcpLnJlYWRPbmx5ID0gdHJ1ZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiUHJvamVjdElkJykuc3R5bGUuYmFja2dyb3VuZCA9ICcjZTllY2VmJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiU3RvcmFnZUJ1Y2tldCcpLnJlYWRPbmx5ID0gdHJ1ZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiU3RvcmFnZUJ1Y2tldCcpLnN0eWxlLmJhY2tncm91bmQgPSAnI2U5ZWNlZic7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYk1lc3NhZ2luZ1NlbmRlcklkJykucmVhZE9ubHkgPSB0cnVlOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGJNZXNzYWdpbmdTZW5kZXJJZCcpLnN0eWxlLmJhY2tncm91bmQgPSAnI2U5ZWNlZic7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYkFwcElkJykucmVhZE9ubHkgPSB0cnVlOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGJBcHBJZCcpLnN0eWxlLmJhY2tncm91bmQgPSAnI2U5ZWNlZic7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdi52KfYr9ipINiq2K3ZhdmK2YQg2KfZhNmC2YrZhSDYp9mE2YXYrdmB2YjYuNipCiAgICAgICAgICAgIGxvYWREYXRhYmFzZVNldHRpbmdzKCk7CiAgICAgICAgfQoKICAgICAgICAvLyDYrdmB2Lgg2KXYudiv2KfYr9in2Kog2YLYp9i52K/YqSDYp9mE2KjZitin2YbYp9iqCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc2F2ZURhdGFiYXNlU2V0dGluZ3MoKSB7CiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcHJvbXB0KCfYo9iv2K7ZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YTYqtij2YPZitivINit2YHYuCDYp9mE2KXYudiv2KfYr9in2Ko6Jyk7CiAgICAgICAgICAgIGlmIChwYXNzd29yZCAhPT0gREJfU0VUVElOR1NfUEFTU1dPUkQpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfinYwg2YPZhNmF2Kkg2KfZhNmF2LHZiNixINi62YrYsSDYtdit2YrYrdipJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIGFwaUtleTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXBpS2V5JykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgYXV0aERvbWFpbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiQXV0aERvbWFpbicpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIHByb2plY3RJZDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiUHJvamVjdElkJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgc3RvcmFnZUJ1Y2tldDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RiU3RvcmFnZUJ1Y2tldCcpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIG1lc3NhZ2luZ1NlbmRlcklkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGJNZXNzYWdpbmdTZW5kZXJJZCcpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIGFwcElkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGJBcHBJZCcpLnZhbHVlLnRyaW0oKQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2LXYrdipINin2YTYqNmK2KfZhtin2KoKICAgICAgICAgICAgaWYgKCFjb25maWcuYXBpS2V5IHx8ICFjb25maWcuYXV0aERvbWFpbiB8fCAhY29uZmlnLnByb2plY3RJZCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ+KdjCDZitis2Kgg2KXYr9iu2KfZhCBBUEkgS2V5INmIIEF1dGggRG9tYWluINmIIFByb2plY3QgSUQg2LnZhNmJINin2YTYo9mC2YQnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIC8vINit2YHYuCDZgdmKIGxvY2FsU3RvcmFnZQogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0od2luZG93LkhSTV9GSVJFQkFTRV9DT05GSUdfS0VZIHx8ICdocm1fZmlyZWJhc2VfY29uZmlnJywgSlNPTi5zdHJpbmdpZnkoY29uZmlnKSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINil2LnYp9iv2Kkg2KrYrdmF2YrZhCDYp9mE2LXZgdit2Kkg2YTYqti32KjZitmCINin2YTYqti62YrZitix2KfYqgogICAgICAgICAgICAgICAgLy8gKNiz2YrYqtmFINiq2YfZitim2KkgRmlyZWJhc2Ug2KrZhNmC2KfYptmK2KfZiyDYudmG2K8g2KXYudin2K/YqSDYp9mE2KrYrdmF2YrZhCkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYWxlcnQoJ+KchSDYqtmFINit2YHYuCDYpdi52K/Yp9iv2KfYqiDZgtin2LnYr9ipINin2YTYqNmK2KfZhtin2Kog2KjZhtis2KfYrSFcblxu4pqg77iPINmK2LHYrNmJINil2LnYp9iv2Kkg2KrYrdmF2YrZhCDYp9mE2LXZgdit2Kkg2YTYqti32KjZitmCINin2YTYqti62YrZitix2KfYqi4nKTsKICAgICAgICAgICAgICAgIGNhbmNlbERhdGFiYXNlU2V0dGluZ3NFZGl0KCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn4p2MINiu2LfYoyDZgdmKINit2YHYuCDYp9mE2KXYudiv2KfYr9in2Ko6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIC8vINmF2LnZhNmI2YXYp9iqINin2YTYtNix2YPYqQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgbGV0IGNvbXBhbnlJbmZvID0gbnVsbDsKCiAgICAgICAgLy8g2KrYrdmF2YrZhCDZhdi52YTZiNmF2KfYqiDYp9mE2LTYsdmD2KkKICAgICAgICBhc3luYyBmdW5jdGlvbiBsb2FkQ29tcGFueUluZm8oKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzUmVmID0gd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAnc2V0dGluZ3MnLCAnY29tcGFueScpOwogICAgICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3NEb2MgPSBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmdldERvYyhzZXR0aW5nc1JlZik7CgogICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzRG9jLmV4aXN0cygpKSB7CiAgICAgICAgICAgICAgICAgICAgY29tcGFueUluZm8gPSBzZXR0aW5nc0RvYy5kYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KrYudio2KbYqSDYp9mE2K3ZgtmI2YQKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGFueU5hbWUnKS52YWx1ZSA9IGNvbXBhbnlJbmZvLm5hbWUgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlBZGRyZXNzJykudmFsdWUgPSBjb21wYW55SW5mby5hZGRyZXNzIHx8ICcnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55UGhvbmUnKS52YWx1ZSA9IGNvbXBhbnlJbmZvLnBob25lIHx8ICcnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55RmF4JykudmFsdWUgPSBjb21wYW55SW5mby5mYXggfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlFbWFpbCcpLnZhbHVlID0gY29tcGFueUluZm8uZW1haWwgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlXZWJzaXRlJykudmFsdWUgPSBjb21wYW55SW5mby53ZWJzaXRlIHx8ICcnOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55Q29tbWVyY2lhbFJlZ2lzdGVyJykudmFsdWUgPSBjb21wYW55SW5mby5jb21tZXJjaWFsUmVnaXN0ZXIgfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlEZXNjcmlwdGlvbicpLnZhbHVlID0gY29tcGFueUluZm8uZGVzY3JpcHRpb24gfHwgJyc7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2LnYsdi2INin2YTYtNi52KfYsQogICAgICAgICAgICAgICAgICAgIGlmIChjb21wYW55SW5mby5sb2dvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlDb21wYW55TG9nbyhjb21wYW55SW5mby5sb2dvKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckNvbXBhbnlMb2dvUHJldmlldygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINiq2YUg2KrYrdmF2YrZhCDZhdi52YTZiNmF2KfYqiDYp9mE2LTYsdmD2KknKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KXYudin2K/YqSDYqti52YrZitmGINin2YTYrdmC2YjZhAogICAgICAgICAgICAgICAgICAgIGNsZWFyQ29tcGFueUluZm9Gb3JtKCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyDZhNinINiq2YjYrNivINmF2LnZhNmI2YXYp9iqINi02LHZg9ipINmF2K3ZgdmI2LjYqScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrYrdmF2YrZhCDZhdi52YTZiNmF2KfYqiDYp9mE2LTYsdmD2Kk6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ+KdjCDYrti32KMg2YHZiiDYqtit2YXZitmEINmF2LnZhNmI2YXYp9iqINin2YTYtNix2YPYqTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYrdmB2Lgg2YXYudmE2YjZhdin2Kog2KfZhNi02LHZg9ipCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc2F2ZUNvbXBhbnlJbmZvKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn4p2MIEZpcmViYXNlINi62YrYsSDZhdmH2YrYoycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBjb21wYW55TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55TmFtZScpLnZhbHVlLnRyaW0oKTsKICAgICAgICAgICAgICAgIGlmICghY29tcGFueU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn4p2MINmK2LHYrNmJINil2K/Yrtin2YQg2KfYs9mFINin2YTYtNix2YPYqScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBjb21wYW55RGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBjb21wYW55TmFtZSwKICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGFueUFkZHJlc3MnKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55UGhvbmUnKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICAgICAgZmF4OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGFueUZheCcpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICBlbWFpbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlFbWFpbCcpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICB3ZWJzaXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGFueVdlYnNpdGUnKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICAgICAgY29tbWVyY2lhbFJlZ2lzdGVyOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGFueUNvbW1lcmNpYWxSZWdpc3RlcicpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlEZXNjcmlwdGlvbicpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQnk6IGN1cnJlbnRVc2VyPy5lbWFpbCB8fCAndW5rbm93bicKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgLy8g2KXYttin2YHYqSDYp9mE2LTYudin2LEg2KXYsNinINmD2KfZhiDZhdmI2KzZiNiv2KfZiwogICAgICAgICAgICAgICAgY29uc3QgbG9nb1ByZXZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGFueUxvZ29QcmV2aWV3Jyk7CiAgICAgICAgICAgICAgICBjb25zdCBsb2dvSW1nID0gbG9nb1ByZXZpZXcucXVlcnlTZWxlY3RvcignaW1nJyk7CiAgICAgICAgICAgICAgICBpZiAobG9nb0ltZyAmJiBsb2dvSW1nLnNyYyAmJiBsb2dvSW1nLnNyYy5zdGFydHNXaXRoKCdkYXRhOicpKSB7CiAgICAgICAgICAgICAgICAgICAgY29tcGFueURhdGEubG9nbyA9IGxvZ29JbWcuc3JjOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wYW55SW5mbyAmJiBjb21wYW55SW5mby5sb2dvKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNin2K3YqtmB2KfYuCDYqNin2YTYtNi52KfYsSDYp9mE2YLYr9mK2YUg2KXYsNinINmE2YUg2YrYqtmFINiq2LrZitmK2LHZhwogICAgICAgICAgICAgICAgICAgIGNvbXBhbnlEYXRhLmxvZ28gPSBjb21wYW55SW5mby5sb2dvOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzUmVmID0gd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAnc2V0dGluZ3MnLCAnY29tcGFueScpOwogICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS5zZXREb2Moc2V0dGluZ3NSZWYsIGNvbXBhbnlEYXRhLCB7IG1lcmdlOiB0cnVlIH0pOwoKICAgICAgICAgICAgICAgIGNvbXBhbnlJbmZvID0gY29tcGFueURhdGE7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2LnYsdi2INin2YTYtNi52KfYsSDZgdmKINin2YTYqti32KjZitmCCiAgICAgICAgICAgICAgICB1cGRhdGVDb21wYW55TG9nb0luQXBwKCk7CgogICAgICAgICAgICAgICAgYWxlcnQoJ+KchSDYqtmFINit2YHYuCDZhdi52YTZiNmF2KfYqiDYp9mE2LTYsdmD2Kkg2KjZhtis2KfYrScpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDYqtmFINit2YHYuCDZhdi52YTZiNmF2KfYqiDYp9mE2LTYsdmD2KknKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINit2YHYuCDZhdi52YTZiNmF2KfYqiDYp9mE2LTYsdmD2Kk6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ+KdjCDYrti32KMg2YHZiiDYrdmB2Lgg2YXYudmE2YjZhdin2Kog2KfZhNi02LHZg9ipOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINmF2LnYp9mE2KzYqSDYsdmB2Lkg2KfZhNi02LnYp9ixCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQ29tcGFueUxvZ29VcGxvYWQoZXZlbnQpIHsKICAgICAgICAgICAgY29uc3QgZmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgICAgICAgaWYgKCFmaWxlKSByZXR1cm47CgogICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDZhtmI2Lkg2KfZhNmF2YTZgQogICAgICAgICAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ+KdjCDZitix2KzZiSDYp9iu2KrZitin2LEg2YXZhNmBINi12YjYsdipJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINit2KzZhSDYp9mE2YXZhNmBICgyTUIpCiAgICAgICAgICAgIGlmIChmaWxlLnNpemUgPiAyICogMTAyNCAqIDEwMjQpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfinYwg2K3YrNmFINin2YTYtdmI2LHYqSDZg9io2YrYsSDYrNiv2KfZiy4g2KfZhNit2K8g2KfZhNij2YLYtdmJOiAyTUInKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgIGRpc3BsYXlDb21wYW55TG9nbyhlLnRhcmdldC5yZXN1bHQpOwogICAgICAgICAgICB9OwogICAgICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ+KdjCDYrti32KMg2YHZiiDZgtix2KfYodipINin2YTZhdmE2YEnKTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgfQoKICAgICAgICAvLyDYudix2LYg2KfZhNi02LnYp9ixCiAgICAgICAgZnVuY3Rpb24gZGlzcGxheUNvbXBhbnlMb2dvKGxvZ29EYXRhKSB7CiAgICAgICAgICAgIGNvbnN0IHByZXZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGFueUxvZ29QcmV2aWV3Jyk7CiAgICAgICAgICAgIHByZXZpZXcuaW5uZXJIVE1MID0gYDxpbWcgc3JjPSIke2xvZ29EYXRhfSIgYWx0PSLYtNi52KfYsSDYp9mE2LTYsdmD2KkiIHN0eWxlPSJtYXgtd2lkdGg6IDEwMCU7IG1heC1oZWlnaHQ6IDEwMCU7IG9iamVjdC1maXQ6IGNvbnRhaW47Ij5gOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlTG9nb0J0bicpLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJzsKICAgICAgICB9CgogICAgICAgIC8vINit2LDZgSDYp9mE2LTYudin2LEKICAgICAgICBmdW5jdGlvbiByZW1vdmVDb21wYW55TG9nbygpIHsKICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ9mH2YQg2KPZhtiqINmF2KrYo9mD2K8g2YXZhiDYrdiw2YEg2KfZhNi02LnYp9ix2J8nKSkgewogICAgICAgICAgICAgICAgY2xlYXJDb21wYW55TG9nb1ByZXZpZXcoKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55TG9nb0ZpbGUnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDZhdiz2K0g2YXYudin2YrZhtipINin2YTYtNi52KfYsQogICAgICAgIGZ1bmN0aW9uIGNsZWFyQ29tcGFueUxvZ29QcmV2aWV3KCkgewogICAgICAgICAgICBjb25zdCBwcmV2aWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlMb2dvUHJldmlldycpOwogICAgICAgICAgICBwcmV2aWV3LmlubmVySFRNTCA9ICc8c3BhbiBzdHlsZT0iY29sb3I6ICM5OTk7Ij7Zhdi52KfZitmG2Kkg2KfZhNi02LnYp9ixPC9zcGFuPic7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdmVMb2dvQnRuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB9CgogICAgICAgIC8vINmF2LPYrSDYrNmF2YrYuSDYrdmC2YjZhCDZhdi52YTZiNmF2KfYqiDYp9mE2LTYsdmD2KkKICAgICAgICBmdW5jdGlvbiBjbGVhckNvbXBhbnlJbmZvRm9ybSgpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlOYW1lJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlBZGRyZXNzJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlQaG9uZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55RmF4JykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlFbWFpbCcpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55V2Vic2l0ZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55Q29tbWVyY2lhbFJlZ2lzdGVyJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlEZXNjcmlwdGlvbicpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGNsZWFyQ29tcGFueUxvZ29QcmV2aWV3KCk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21wYW55TG9nb0ZpbGUnKS52YWx1ZSA9ICcnOwogICAgICAgIH0KCiAgICAgICAgLy8g2KrYrdiv2YrYqyDYudix2LYg2KfZhNi02LnYp9ixINmB2Yog2KfZhNiq2LfYqNmK2YIgKNmB2Yog2KfZhNmH2YrYr9ixKQogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbXBhbnlMb2dvSW5BcHAoKSB7CiAgICAgICAgICAgIGNvbnN0IGxvZ29Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tcGFueUxvZ29IZWFkZXInKTsKICAgICAgICAgICAgY29uc3QgY29tcGFueU5hbWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBhbnlOYW1lSGVhZGVyJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIWxvZ29Db250YWluZXIpIHJldHVybjsKCiAgICAgICAgICAgIGlmIChjb21wYW55SW5mbyAmJiBjb21wYW55SW5mby5sb2dvKSB7CiAgICAgICAgICAgICAgICBsb2dvQ29udGFpbmVyLmlubmVySFRNTCA9IGA8aW1nIHNyYz0iJHtjb21wYW55SW5mby5sb2dvfSIgYWx0PSIke2NvbXBhbnlJbmZvLm5hbWUgfHwgJ9i02LnYp9ixINin2YTYtNix2YPYqSd9IiBzdHlsZT0ibWF4LXdpZHRoOiAxMDAlOyBtYXgtaGVpZ2h0OiAxMDAlOyBvYmplY3QtZml0OiBjb250YWluOyI+YDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGxvZ29Db250YWluZXIuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImhlYWRlci1sb2dvLXBsYWNlaG9sZGVyIj7wn4+iPC9kaXY+JzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGNvbXBhbnlOYW1lRWxlbWVudCkgewogICAgICAgICAgICAgICAgaWYgKGNvbXBhbnlJbmZvICYmIGNvbXBhbnlJbmZvLm5hbWUpIHsKICAgICAgICAgICAgICAgICAgICBjb21wYW55TmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBjb21wYW55SW5mby5uYW1lOwogICAgICAgICAgICAgICAgICAgIGNvbXBhbnlOYW1lRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29tcGFueU5hbWVFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2KXYr9in2LHYqSDYp9mE2YXYs9iq2K7Yr9mF2YrZhgogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2YHYqtitINmC2LPZhSDYp9mE2YXYs9iq2K7Yr9mF2YrZhiAo2KjYudivINil2K/Yrtin2YQg2YPZhNmF2Kkg2KfZhNmF2LHZiNixKQogICAgICAgIGZ1bmN0aW9uIHVubG9ja1VzZXJzU2VjdGlvbigpIHsKICAgICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSBwcm9tcHQoJ/CflJIg2YLYs9mFINin2YTZhdiz2KrYrtiv2YXZitmGINmF2K3ZhdmKINio2YPZhNmF2Kkg2YXYsdmI2LFcbtin2YTYsdis2KfYoSDYpdiv2K7Yp9mEINmD2YTZhdipINin2YTZhdix2YjYsTonKTsKICAgICAgICAgICAgaWYgKCFwYXNzd29yZCkgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHBhc3N3b3JkICE9PSBVU0VSU19TRUNUSU9OX1BBU1NXT1JEKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn4p2MINmD2YTZhdipINin2YTZhdix2YjYsSDYutmK2LEg2LXYrdmK2K3YqScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICB3aW5kb3cudXNlcnNTZWN0aW9uVW5sb2NrZWQgPSB0cnVlOwogICAgICAgICAgICBjb25zdCBsb2NrZWREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNTZWN0aW9uTG9ja2VkJyk7CiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNTZWN0aW9uQ29udGVudCcpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGxvY2tlZERpdikgbG9ja2VkRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgIGlmIChjb250ZW50RGl2KSBjb250ZW50RGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDYp9mE2YXYs9iq2K7Yr9mF2YrZhgogICAgICAgICAgICBsb2FkVXNlcnMoKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8g2YLZgdmEINmC2LPZhSDYp9mE2YXYs9iq2K7Yr9mF2YrZhgogICAgICAgIGZ1bmN0aW9uIGxvY2tVc2Vyc1NlY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICghY29uZmlybSgn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINmC2YHZhCDZgtiz2YUg2KfZhNmF2LPYqtiu2K/ZhdmK2YbYnycpKSByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgICAgICB3aW5kb3cudXNlcnNTZWN0aW9uVW5sb2NrZWQgPSBmYWxzZTsKICAgICAgICAgICAgY29uc3QgbG9ja2VkRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJzU2VjdGlvbkxvY2tlZCcpOwogICAgICAgICAgICBjb25zdCBjb250ZW50RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJzU2VjdGlvbkNvbnRlbnQnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChsb2NrZWREaXYpIGxvY2tlZERpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgaWYgKGNvbnRlbnREaXYpIGNvbnRlbnREaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9hZFVzZXJzKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlINi62YrYsSDZhdmH2YrYoycpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRib2R5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49IjYiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7IGNvbG9yOiAjZGMzNTQ1OyI+RmlyZWJhc2Ug2LrZitixINmF2YfZitijPC90ZD48L3RyPic7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2YXYs9iq2K7Yr9mF2YrZhi4uLicpOwogICAgICAgICAgICAgICAgY29uc3QgdXNlcnNSZWYgPSB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAndXNlcnMnKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgd2luZG93LmZpcmVzdG9yZS5nZXREb2NzKHVzZXJzUmVmKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9i52K/YryDYp9mE2YXYs9iq2K7Yr9mF2YrZhiDYp9mE2YXYrdmF2YTZitmGOicsIHNuYXBzaG90LnNpemUpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB1c2Vyc0RhdGEgPSBbXTsKICAgICAgICAgICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgICAgICAgICB1c2Vyc0RhdGEucHVzaCh7IGlkOiBkb2MuaWQsIC4uLmRhdGEgfSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9mF2LPYqtiu2K/ZhSDZhdit2YXZhDonLCBkYXRhLmVtYWlsIHx8IGRhdGEubmFtZSB8fCBkb2MuaWQpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9il2KzZhdin2YTZiiDYp9mE2YXYs9iq2K7Yr9mF2YrZhiDZgdmKINin2YTYsNin2YPYsdipOicsIHVzZXJzRGF0YS5sZW5ndGgpOwogICAgICAgICAgICAgICAgZGlzcGxheVVzZXJzKCk7CiAgICAgICAgICAgICAgICB1cGRhdGVVc2Vyc0NvdW50KCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTZhdiz2KrYrtiv2YXZitmGOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iq2YHYp9i12YrZhCDYp9mE2K7Yt9ijOicsIGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ3Blcm1pc3Npb24tZGVuaWVkJyB8fCBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygncGVybWlzc2lvbicpKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4pqg77iPINiu2LfYoyDZgdmKINin2YTYtdmE2KfYrdmK2KfYqjog2YrYsdis2Ykg2KrYt9io2YrZgiDZgtmI2KfYudivIEZpcmVzdG9yZSDZgdmKIEZpcmViYXNlIENvbnNvbGUnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaXJlc3RvcmVSdWxlc0FsZXJ0JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxlcnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnREaXYuaWQgPSAnZmlyZXN0b3JlUnVsZXNBbGVydCc7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0RGl2LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246IGZpeGVkOyB0b3A6IDIwcHg7IHJpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kOiAjZmZmM2NkOyBib3JkZXI6IDJweCBzb2xpZCAjZmZjMTA3OyBib3JkZXItcmFkaXVzOiAxMHB4OyBwYWRkaW5nOiAyMHB4OyBtYXgtd2lkdGg6IDUwMHB4OyB6LWluZGV4OiAxMDAwMDsgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwwLDAsMC4xKTsnOwogICAgICAgICAgICAgICAgICAgICAgICBhbGVydERpdi5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9Im1hcmdpbi10b3A6IDA7IGNvbG9yOiAjODU2NDA0OyI+4pqg77iPINiu2LfYoyDZgdmKINin2YTYtdmE2KfYrdmK2KfYqjwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT0iY29sb3I6ICM4NTY0MDQ7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij7Zitix2KzZiSDYqti32KjZitmCINmC2YjYp9i52K8gRmlyZXN0b3JlINin2YTYqtin2YTZitipOjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvbCBzdHlsZT0iY29sb3I6ICM4NTY0MDQ7IG1hcmdpbi1ib3R0b206IDE1cHg7IHBhZGRpbmctcmlnaHQ6IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+2KfZgdiq2K06IDxhIGhyZWY9Imh0dHBzOi8vY29uc29sZS5maXJlYmFzZS5nb29nbGUuY29tL3Byb2plY3QvcHVyY2hhc2Utb3JkZXItZjEwMTAvZmlyZXN0b3JlL3J1bGVzIiB0YXJnZXQ9Il9ibGFuayIgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyI+RmlyZWJhc2UgQ29uc29sZTwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7Yp9mG2LPYriDZiNin2YTYtdmCINin2YTZgtmI2KfYudivINmF2YYg2YXZhNmBIGZpcmVzdG9yZS5ydWxlczwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPtin2LbYuti3ICJQdWJsaXNoIjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29sPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZSBzdHlsZT0iYmFja2dyb3VuZDogI2Y4ZjlmYTsgcGFkZGluZzogMTBweDsgYm9yZGVyLXJhZGl1czogNXB4OyBvdmVyZmxvdy14OiBhdXRvOyBmb250LXNpemU6IDExcHg7IG1hcmdpbi1ib3R0b206IDE1cHg7IG1heC1oZWlnaHQ6IDMwMHB4OyBvdmVyZmxvdy15OiBhdXRvOyI+cnVsZXNfdmVyc2lvbiA9ICcyJzsKCnNlcnZpY2UgY2xvdWQuZmlyZXN0b3JlIHsKICBtYXRjaCAvZGF0YWJhc2VzL3tkYXRhYmFzZX0vZG9jdW1lbnRzIHsKICAgIGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHsKICAgICAgcmV0dXJuIHJlcXVlc3QuYXV0aCAhPSBudWxsOwogICAgfQogICAgZnVuY3Rpb24gdXNlckV4aXN0cygpIHsKICAgICAgcmV0dXJuIGV4aXN0cygvZGF0YWJhc2VzLyQoZGF0YWJhc2UpL2RvY3VtZW50cy91c2Vycy8kKHJlcXVlc3QuYXV0aC51aWQpKTsKICAgIH0KICAgIGZ1bmN0aW9uIGdldFVzZXJEYXRhKCkgewogICAgICByZXR1cm4gZ2V0KC9kYXRhYmFzZXMvJChkYXRhYmFzZSkvZG9jdW1lbnRzL3VzZXJzLyQocmVxdWVzdC5hdXRoLnVpZCkpLmRhdGEoKTsKICAgIH0KICAgIGZ1bmN0aW9uIGlzQWN0aXZlVXNlcigpIHsKICAgICAgcmV0dXJuIGlzQXV0aGVudGljYXRlZCgpICYmIHVzZXJFeGlzdHMoKSAmJiAKICAgICAgICAgICAgIChnZXRVc2VyRGF0YSgpLmFjdGl2ZSA9PSB0cnVlIHx8IGdldFVzZXJEYXRhKCkuYWN0aXZlID09IG51bGwpOwogICAgfQogICAgZnVuY3Rpb24gaXNBZG1pbigpIHsKICAgICAgcmV0dXJuIGlzQWN0aXZlVXNlcigpICYmIGdldFVzZXJEYXRhKCkucm9sZSA9PSAnYWRtaW4nOwogICAgfQogICAgZnVuY3Rpb24gaXNIUigpIHsKICAgICAgcmV0dXJuIGlzQWN0aXZlVXNlcigpICYmIGdldFVzZXJEYXRhKCkucm9sZSA9PSAnaHInOwogICAgfQogICAgZnVuY3Rpb24gaXNBZG1pbk9ySFIoKSB7CiAgICAgIHJldHVybiBpc0FkbWluKCkgfHwgaXNIUigpOwogICAgfQogICAgCiAgICBtYXRjaCAvdXNlcnMve3VzZXJJZH0gewogICAgICBhbGxvdyByZWFkOiBpZiBpc0F1dGhlbnRpY2F0ZWQoKSAmJiAocmVxdWVzdC5hdXRoLnVpZCA9PSB1c2VySWQgfHwgaXNBZG1pbk9ySFIoKSk7CiAgICAgIGFsbG93IHdyaXRlOiBpZiBpc0FkbWluKCk7CiAgICB9CiAgICBtYXRjaCAvZW1wbG95ZWVzL3tlbXBsb3llZUlkfSB7CiAgICAgIGFsbG93IHJlYWQ6IGlmIGlzQWN0aXZlVXNlcigpOwogICAgICBhbGxvdyBjcmVhdGUsIHVwZGF0ZTogaWYgaXNBZG1pbk9ySFIoKTsKICAgICAgYWxsb3cgZGVsZXRlOiBpZiBpc0FkbWluKCk7CiAgICB9CiAgICBtYXRjaCAvcHJvamVjdHMve3Byb2plY3RJZH0gewogICAgICBhbGxvdyByZWFkOiBpZiBpc0FjdGl2ZVVzZXIoKTsKICAgICAgYWxsb3cgd3JpdGU6IGlmIGlzQWRtaW5PckhSKCk7CiAgICB9CiAgICBtYXRjaCAvbGVhdmVzL3tsZWF2ZUlkfSB7CiAgICAgIGFsbG93IHJlYWQ6IGlmIGlzQWN0aXZlVXNlcigpOwogICAgICBhbGxvdyBjcmVhdGUsIHVwZGF0ZTogaWYgaXNBZG1pbk9ySFIoKTsKICAgICAgYWxsb3cgZGVsZXRlOiBpZiBpc0FkbWluKCk7CiAgICB9CiAgICBtYXRjaCAvc2V0dGluZ3Mve3NldHRpbmdJZH0gewogICAgICBhbGxvdyByZWFkOiBpZiBpc0FjdGl2ZVVzZXIoKTsKICAgICAgYWxsb3cgd3JpdGU6IGlmIGlzQWRtaW4oKTsKICAgIH0KICAgIG1hdGNoIC97ZG9jdW1lbnQ9Kip9IHsKICAgICAgYWxsb3cgcmVhZDogaWYgaXNBY3RpdmVVc2VyKCk7CiAgICAgIGFsbG93IHdyaXRlOiBpZiBpc0FkbWluT3JIUigpOwogICAgfQogIH0KfTwvcHJlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjODU2NDA0OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtmF2YTYp9it2LjYqTo8L3N0cm9uZz4g2YfYsNmHINin2YTZgtmI2KfYudivINiq2LPZhditINmB2YLYtyDZhNmE2YXYs9iq2K7Yr9mF2YrZhiDYp9mE2YXYs9is2YTZitmGINio2KfZhNmI2LXZiNmE2Iwg2YXYuSDYtdmE2KfYrdmK2KfYqiDZhdit2K/Yr9ipINit2LPYqCDYp9mE2K/ZiNixLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPSJ0aGlzLnBhcmVudEVsZW1lbnQucmVtb3ZlKCkiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjNjY3ZWVhOyBjb2xvcjogd2hpdGU7IGJvcmRlcjogbm9uZTsgcGFkZGluZzogMTBweCAyMHB4OyBib3JkZXItcmFkaXVzOiA1cHg7IGN1cnNvcjogcG9pbnRlcjsgd2lkdGg6IDEwMCU7Ij7ZgdmH2YXYqjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFsZXJ0RGl2KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgICAgICBpZiAodGJvZHkpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ9iu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqic7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdwZXJtaXNzaW9uLWRlbmllZCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gJ+KaoO+4jyDZhNinINiq2YjYrNivINi12YTYp9it2YrYp9iqINmE2YTZiNi12YjZhCDYpdmE2Ykg2KfZhNmF2LPYqtiu2K/ZhdmK2YYuINmK2LHYrNmJINin2YTYqtit2YLZgiDZhdmGINmC2YjYp9i52K8g2KfZhNij2YXYp9mGINmB2YogRmlyZWJhc2UgQ29uc29sZS4nOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9ICfYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2Ko6ICcgKyBlcnJvci5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSBgPHRyPjx0ZCBjb2xzcGFuPSI2IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyBjb2xvcjogI2RjMzU0NTsiPiR7ZXJyb3JNZXNzYWdlfTwvdGQ+PC90cj5gOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkaXNwbGF5VXNlcnMoKSB7CiAgICAgICAgICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgIGlmICghdGJvZHkpIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICh1c2Vyc0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSAnPHRyPjx0ZCBjb2xzcGFuPSI2IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyI+2YTYpyDYqtmI2KzYryDYqNmK2KfZhtin2Ko8L3RkPjwvdHI+JzsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gdXNlcnNEYXRhLm1hcCh1c2VyID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWRBdCA9IHVzZXIuY3JlYXRlZEF0ICYmIHVzZXIuY3JlYXRlZEF0LnRvRGF0ZSA/IGZvcm1hdERhdGUodXNlci5jcmVhdGVkQXQudG9EYXRlKCkpIDogJy0nOwogICAgICAgICAgICAgICAgcmV0dXJuIGAKICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3VzZXIubmFtZSB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7dXNlci5lbWFpbCB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJiYWRnZSAke2dldFJvbGVCYWRnZSh1c2VyLnJvbGUpfSI+JHtnZXRSb2xlTmFtZSh1c2VyLnJvbGUpfTwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9ImJhZGdlICR7Z2V0U3RhdHVzQmFkZ2UodXNlci5zdGF0dXMgfHwgJ2FjdGl2ZScpfSI+JHtnZXRTdGF0dXNOYW1lKHVzZXIuc3RhdHVzIHx8ICdhY3RpdmUnKX08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7Y3JlYXRlZEF0fTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYWN0aW9uLWJ1dHRvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJlZGl0VXNlcignJHt1c2VyLmlkfScpIj7Yqti52K/ZitmEPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iZGVsZXRlVXNlckZyb21TeXN0ZW0oJyR7dXNlci5pZH0nKSI+2K3YsNmBPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZmlsdGVyVXNlcnMoKSB7CiAgICAgICAgICAgIGNvbnN0IHNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyU2VhcmNoJykudmFsdWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgY29uc3Qgcm9sZUZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyUm9sZUZpbHRlcicpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBzdGF0dXNGaWx0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlclN0YXR1c0ZpbHRlcicpLnZhbHVlOwoKICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB1c2Vyc0RhdGEuZmlsdGVyKHVzZXIgPT4gewogICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hTZWFyY2ggPSAhc2VhcmNoIHx8IAogICAgICAgICAgICAgICAgICAgICh1c2VyLm5hbWUgJiYgdXNlci5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSkgfHwKICAgICAgICAgICAgICAgICAgICAodXNlci5lbWFpbCAmJiB1c2VyLmVtYWlsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoUm9sZSA9ICFyb2xlRmlsdGVyIHx8IHVzZXIucm9sZSA9PT0gcm9sZUZpbHRlcjsKICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoU3RhdHVzID0gIXN0YXR1c0ZpbHRlciB8fCAodXNlci5zdGF0dXMgfHwgJ2FjdGl2ZScpID09PSBzdGF0dXNGaWx0ZXI7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaFNlYXJjaCAmJiBtYXRjaFJvbGUgJiYgbWF0Y2hTdGF0dXM7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNUYWJsZUJvZHknKTsKICAgICAgICAgICAgaWYgKCF0Ym9keSkgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gJzx0cj48dGQgY29sc3Bhbj0iNiIgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogNDBweDsiPtmE2Kcg2KrZiNis2K8g2YbYqtin2KbYrDwvdGQ+PC90cj4nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gZmlsdGVyZWQubWFwKHVzZXIgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWRBdCA9IHVzZXIuY3JlYXRlZEF0ICYmIHVzZXIuY3JlYXRlZEF0LnRvRGF0ZSA/IGZvcm1hdERhdGUodXNlci5jcmVhdGVkQXQudG9EYXRlKCkpIDogJy0nOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBgCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3VzZXIubmFtZSB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3VzZXIuZW1haWwgfHwgJy0nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9ImJhZGdlICR7Z2V0Um9sZUJhZGdlKHVzZXIucm9sZSl9Ij4ke2dldFJvbGVOYW1lKHVzZXIucm9sZSl9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9ImJhZGdlICR7Z2V0U3RhdHVzQmFkZ2UodXNlci5zdGF0dXMgfHwgJ2FjdGl2ZScpfSI+JHtnZXRTdGF0dXNOYW1lKHVzZXIuc3RhdHVzIHx8ICdhY3RpdmUnKX08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2NyZWF0ZWRBdH08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJhY3Rpb24tYnV0dG9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJlZGl0VXNlcignJHt1c2VyLmlkfScpIj7Yqti52K/ZitmEPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRlbGV0ZVVzZXJGcm9tU3lzdGVtKCcke3VzZXIuaWR9JykiPtit2LDZgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfSkuam9pbignJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGNvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNDb3VudCcpOwogICAgICAgICAgICBpZiAoY291bnRFbCkgewogICAgICAgICAgICAgICAgY291bnRFbC50ZXh0Q29udGVudCA9IGDYpdis2YXYp9mE2Yog2KfZhNmF2LPYqtiu2K/ZhdmK2YY6ICR7ZmlsdGVyZWQubGVuZ3RofWA7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNsZWFyVXNlckZpbHRlcnMoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyU2VhcmNoJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJSb2xlRmlsdGVyJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJTdGF0dXNGaWx0ZXInKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkaXNwbGF5VXNlcnMoKTsKICAgICAgICAgICAgdXBkYXRlVXNlcnNDb3VudCgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlVXNlcnNDb3VudCgpIHsKICAgICAgICAgICAgY29uc3QgY291bnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vyc0NvdW50Jyk7CiAgICAgICAgICAgIGlmIChjb3VudEVsKSB7CiAgICAgICAgICAgICAgICBjb3VudEVsLnRleHRDb250ZW50ID0gYNil2KzZhdin2YTZiiDYp9mE2YXYs9iq2K7Yr9mF2YrZhjogJHt1c2Vyc0RhdGEubGVuZ3RofWA7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldFJvbGVOYW1lKHJvbGUpIHsKICAgICAgICAgICAgY29uc3Qgcm9sZU5hbWVzID0gewogICAgICAgICAgICAgICAgJ2FkbWluJzogJ9mF2K/ZitixINin2YTZhti42KfZhScsCiAgICAgICAgICAgICAgICAnaHInOiAn2YXZiNin2LHYryDYqNi02LHZitipJywKICAgICAgICAgICAgICAgICdtYW5hZ2VyJzogJ9mF2K/ZitixJywKICAgICAgICAgICAgICAgICdlbXBsb3llZSc6ICfZhdmI2LjZgScKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIHJvbGVOYW1lc1tyb2xlXSB8fCByb2xlOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0Um9sZUJhZGdlKHJvbGUpIHsKICAgICAgICAgICAgY29uc3QgYmFkZ2VzID0gewogICAgICAgICAgICAgICAgJ2FkbWluJzogJ2JhZGdlLWRhbmdlcicsCiAgICAgICAgICAgICAgICAnaHInOiAnYmFkZ2UtaW5mbycsCiAgICAgICAgICAgICAgICAnbWFuYWdlcic6ICdiYWRnZS1pbmZvJywKICAgICAgICAgICAgICAgICdlbXBsb3llZSc6ICdiYWRnZS1zdWNjZXNzJwogICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm4gYmFkZ2VzW3JvbGVdIHx8ICdiYWRnZS1pbmZvJzsKICAgICAgICB9CgogICAgICAgIC8vINi52LHYtiDZhtin2YHYsNipINil2LbYp9mB2Kkg2YXYs9iq2K7Yr9mFCiAgICAgICAgZnVuY3Rpb24gc2hvd0FkZFVzZXJGb3JtKCkgewogICAgICAgICAgICBlZGl0aW5nVXNlcklkID0gbnVsbDsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlck1vZGFsJyk7CiAgICAgICAgICAgIGlmICghbW9kYWwpIHJldHVybjsKCiAgICAgICAgICAgIC8vINiq2LfYqNmK2YIg2KfZhNiq2LHYrNmF2KfYqiDZgtio2YQg2YHYqtitINin2YTZhtin2YHYsNipCiAgICAgICAgICAgIGFwcGx5VHJhbnNsYXRpb25zKCk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyU3VibWl0QnRuJykuc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgJ2FkZFVzZXIoKScpOwogICAgICAgICAgICBjb25zdCBwYXNzd29yZEdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJQYXNzd29yZEdyb3VwJyk7CiAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkQ29uZmlybUdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJQYXNzd29yZENvbmZpcm1Hcm91cCcpOwogICAgICAgICAgICBpZiAocGFzc3dvcmRHcm91cCkgcGFzc3dvcmRHcm91cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgaWYgKHBhc3N3b3JkQ29uZmlybUdyb3VwKSBwYXNzd29yZENvbmZpcm1Hcm91cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgICAgICAgICAgIC8vINmF2LPYrSDYp9mE2K3ZgtmI2YQKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJOYW1lJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJFbWFpbCcpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyUGFzc3dvcmQnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlclBhc3N3b3JkQ29uZmlybScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyUm9sZScpLnZhbHVlID0gJ2VtcGxveWVlJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJTdGF0dXMnKS52YWx1ZSA9ICdhY3RpdmUnOwoKICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgfQoKICAgICAgICAvLyDYpdiu2YHYp9ihINmG2KfZgdiw2Kkg2KXYttin2YHYqSDZhdiz2KrYrtiv2YUKICAgICAgICBmdW5jdGlvbiBoaWRlQWRkVXNlckZvcm0oKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJNb2RhbCcpOwogICAgICAgICAgICBpZiAobW9kYWwpIHsKICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVkaXRpbmdVc2VySWQgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgLy8g2KXYttin2YHYqSDZhdiz2KrYrtiv2YUKICAgICAgICBhc3luYyBmdW5jdGlvbiBhZGRVc2VyKCkgewogICAgICAgICAgICBpZiAoZWRpdGluZ1VzZXJJZCkgewogICAgICAgICAgICAgICAgdXBkYXRlVXNlcigpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSB8fCAhd2luZG93LmF1dGggfHwgIXdpbmRvdy5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyTmFtZScpLnZhbHVlLnRyaW0oKTsKICAgICAgICAgICAgY29uc3QgZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlckVtYWlsJykudmFsdWUudHJpbSgpOwogICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyUGFzc3dvcmQnKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgcGFzc3dvcmRDb25maXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJQYXNzd29yZENvbmZpcm0nKS52YWx1ZTsKICAgICAgICAgICAgY29uc3Qgcm9sZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyUm9sZScpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlclN0YXR1cycpLnZhbHVlIHx8ICdhY3RpdmUnOwoKICAgICAgICAgICAgaWYgKCFuYW1lIHx8ICFlbWFpbCB8fCAhcGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDYrNmF2YrYuSDYp9mE2K3ZgtmI2YQg2KfZhNmF2LfZhNmI2KjYqScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgNikgewogICAgICAgICAgICAgICAgYWxlcnQoJ9mD2YTZhdipINin2YTZhdix2YjYsSDZitis2Kgg2KPZhiDYqtmD2YjZhiA2INij2K3YsdmBINi52YTZiSDYp9mE2KPZgtmEJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChwYXNzd29yZCAhPT0gcGFzc3dvcmRDb25maXJtKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2YPZhNmF2Kkg2KfZhNmF2LHZiNixINmI2KrYo9mD2YrYryDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2LrZitixINmF2KrYt9in2KjZgtmK2YYnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIC8vINil2YbYtNin2KEg2KfZhNmF2LPYqtiu2K/ZhSDZgdmKIEZpcmViYXNlIEF1dGhlbnRpY2F0aW9uCiAgICAgICAgICAgICAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHdpbmRvdy5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQod2luZG93LmF1dGgsIGVtYWlsLCBwYXNzd29yZCk7CiAgICAgICAgICAgICAgICBjb25zdCB1c2VySWQgPSB1c2VyQ3JlZGVudGlhbC51c2VyLnVpZDsKCiAgICAgICAgICAgICAgICAvLyDYrdmB2Lgg2KjZitin2YbYp9iqINin2YTZhdiz2KrYrtiv2YUg2YHZiiBGaXJlc3RvcmUKICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gewogICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgICAgICAgICAgIHJvbGU6IHJvbGUsCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMsCiAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBzdGF0dXMgPT09ICdhY3RpdmUnLAogICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogd2luZG93LmZpcmVzdG9yZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IGN1cnJlbnRVc2VyPy51aWQgfHwgJ3N5c3RlbScKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS5zZXREb2MoCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAndXNlcnMnLCB1c2VySWQpLAogICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIGFsZXJ0KCfYqtmFINil2LbYp9mB2Kkg2KfZhNmF2LPYqtiu2K/ZhSDYqNmG2KzYp9itIScpOwogICAgICAgICAgICAgICAgaGlkZUFkZFVzZXJGb3JtKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkVXNlcnMoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYpdi22KfZgdipINin2YTZhdiz2KrYrtiv2YU6ICcgKyBnZXRFcnJvck1lc3NhZ2UoZXJyb3IpKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYqti52K/ZitmEINmF2LPYqtiu2K/ZhQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGVkaXRVc2VyKGlkKSB7CiAgICAgICAgICAgIGVkaXRpbmdVc2VySWQgPSBpZDsKICAgICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzRGF0YS5maW5kKHUgPT4gdS5pZCA9PT0gaWQpOwogICAgICAgICAgICBpZiAoIXVzZXIpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2YXYs9iq2K7Yr9mFINi62YrYsSDZhdmI2KzZiNivJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJNb2RhbCcpOwogICAgICAgICAgICBpZiAoIW1vZGFsKSByZXR1cm47CgogICAgICAgICAgICAvLyDYqti32KjZitmCINin2YTYqtix2KzZhdin2Kog2YLYqNmEINmB2KrYrSDYp9mE2YbYp9mB2LDYqQogICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9ucygpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlclN1Ym1pdEJ0bicpLnNldEF0dHJpYnV0ZSgnb25jbGljaycsICd1cGRhdGVVc2VyKCknKTsKICAgICAgICAgICAgY29uc3QgcGFzc3dvcmRHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyUGFzc3dvcmRHcm91cCcpOwogICAgICAgICAgICBjb25zdCBwYXNzd29yZENvbmZpcm1Hcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyUGFzc3dvcmRDb25maXJtR3JvdXAnKTsKICAgICAgICAgICAgaWYgKHBhc3N3b3JkR3JvdXApIHBhc3N3b3JkR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgaWYgKHBhc3N3b3JkQ29uZmlybUdyb3VwKSBwYXNzd29yZENvbmZpcm1Hcm91cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJOYW1lJykudmFsdWUgPSB1c2VyLm5hbWUgfHwgJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyRW1haWwnKS52YWx1ZSA9IHVzZXIuZW1haWwgfHwgJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyUm9sZScpLnZhbHVlID0gdXNlci5yb2xlIHx8ICdlbXBsb3llZSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyU3RhdHVzJykudmFsdWUgPSB1c2VyLnN0YXR1cyB8fCAnYWN0aXZlJzsKCiAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgIH0KCiAgICAgICAgLy8g2KrYrdiv2YrYqyDZhdiz2KrYrtiv2YUKICAgICAgICBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyKCkgewogICAgICAgICAgICBpZiAoIWVkaXRpbmdVc2VySWQpIHJldHVybjsKCiAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gewogICAgICAgICAgICAgICAgbmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJOYW1lJykudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgZW1haWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyRW1haWwnKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICByb2xlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlclJvbGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgIHN0YXR1czogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJTdGF0dXMnKS52YWx1ZSB8fCAnYWN0aXZlJywKICAgICAgICAgICAgICAgIGFjdGl2ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJTdGF0dXMnKS52YWx1ZSA9PT0gJ2FjdGl2ZScsCiAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IHdpbmRvdy5maXJlc3RvcmUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgICAgICAgICB1cGRhdGVkQnk6IGN1cnJlbnRVc2VyPy51aWQgfHwgJ3N5c3RlbScKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGlmICghdXNlckRhdGEubmFtZSB8fCAhdXNlckRhdGEuZW1haWwpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDYp9mE2KfYs9mFINmI2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICd1c2VycycsIGVkaXRpbmdVc2VySWQpLAogICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIGFsZXJ0KCfYqtmFINiq2K3Yr9mK2Ksg2KfZhNmF2LPYqtiu2K/ZhSDYqNmG2KzYp9itIScpOwogICAgICAgICAgICAgICAgaGlkZUFkZFVzZXJGb3JtKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkVXNlcnMoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYqtit2K/ZitirINin2YTZhdiz2KrYrtiv2YU6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYrdiw2YEg2YXYs9iq2K7Yr9mFCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZGVsZXRlVXNlckZyb21TeXN0ZW0odXNlcklkKSB7CiAgICAgICAgICAgIGlmICghY29uZmlybSgn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINit2LDZgSDZh9iw2Kcg2KfZhNmF2LPYqtiu2K/ZhdifJykpIHJldHVybjsKCiAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyDYrdiw2YEg2YXZhiBGaXJlc3RvcmUKICAgICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuZGVsZXRlRG9jKAogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5maXJlc3RvcmUuZG9jKHdpbmRvdy5kYiwgJ3VzZXJzJywgdXNlcklkKQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICBhbGVydCgn2KrZhSDYrdiw2YEg2KfZhNmF2LPYqtiu2K/ZhSDYqNmG2KzYp9itIScpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZFVzZXJzKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2K3YsNmBINin2YTZhdiz2KrYrtiv2YU6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDZiNis2YjYryDYp9mE2YXYs9iq2K7Yr9mFINin2YTYo9mI2YQg2YjYpdmG2LTYp9im2Ycg2KrZhNmC2KfYptmK2KfZiwogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGNoZWNrQW5kQ3JlYXRlRmlyc3RVc2VyKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUgfHwgIXdpbmRvdy5hdXRoIHx8ICF3aW5kb3cuY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMgLSDYs9mK2KrZhSDYp9mE2YXYrdin2YjZhNipINmE2KfYrdmC2KfZiycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFVzZXJFbWFpbCA9ICdhbGkuYWxxYWRyZTkzQGdtYWlsLmNvbSc7CiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFVzZXJQYXNzd29yZCA9ICc5ODc1MzIxJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2YjYrNmI2K8g2KfZhNmF2LPYqtiu2K/ZhSDYp9mE2KPZiNmEINio2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKCiAgICAgICAgICAgICAgICAvLyDYo9mI2YTYp9mLOiDZhdit2KfZiNmE2Kkg2KfZhNiq2K3ZgtmCINmF2YYgRmlyZXN0b3JlCiAgICAgICAgICAgICAgICBsZXQgZmlyc3RVc2VyRXhpc3RzSW5GaXJlc3RvcmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlcnNSZWYgPSB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAndXNlcnMnKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuZ2V0RG9jcyh1c2Vyc1JlZik7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNio2K3YqyDYudmGINin2YTZhdiz2KrYrtiv2YUg2KjYp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2YoKICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJEYXRhLmVtYWlsID09PSBmaXJzdFVzZXJFbWFpbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RVc2VyRXhpc3RzSW5GaXJlc3RvcmUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDYp9mE2YXYs9iq2K7Yr9mFINin2YTYo9mI2YQg2YXZiNis2YjYryDZgdmKIEZpcmVzdG9yZTonLCBmaXJzdFVzZXJFbWFpbCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBjYXRjaCAocmVhZEVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmB2LTZhNiqINin2YTZgtix2KfYodipINio2LPYqNioINin2YTYtdmE2KfYrdmK2KfYqtiMINiz2YbYqtit2YLZgiDZhdmGIEF1dGhlbnRpY2F0aW9uINmF2KjYp9i02LHYqQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8g2YTYpyDZitmF2YPZhiDZgtix2KfYodipINin2YTZhdiz2KrYrtiv2YXZitmGINmF2YYgRmlyZXN0b3JlINio2LPYqNioINmC2YjYp9i52K8g2KfZhNij2YXYp9mGJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINir2KfZhtmK2KfZizog2KfZhNiq2K3ZgtmCINmF2YYg2YjYrNmI2K8g2KfZhNmF2LPYqtiu2K/ZhSDZgdmKIEF1dGhlbnRpY2F0aW9uCiAgICAgICAgICAgICAgICAvLyDZhtiq2K3ZgtmCINmF2YYg2KfZhNmF2LPYqtiu2K/ZhSDYp9mE2K3Yp9mE2Yog2KPZiNmE2KfZiwogICAgICAgICAgICAgICAgbGV0IGZpcnN0VXNlckV4aXN0c0luQXV0aCA9IGZhbHNlOwogICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEF1dGhVc2VyID0gd2luZG93LmF1dGg/LmN1cnJlbnRVc2VyOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEF1dGhVc2VyICYmIGN1cnJlbnRBdXRoVXNlci5lbWFpbCA9PT0gZmlyc3RVc2VyRW1haWwpIHsKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2YXYs9iq2K7Yr9mFINmF2LPYrNmEINiv2K7ZiNmEINio2KfZhNmB2LnZhAogICAgICAgICAgICAgICAgICAgIGZpcnN0VXNlckV4aXN0c0luQXV0aCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDYp9mE2YXYs9iq2K7Yr9mFINin2YTYo9mI2YQg2YXYs9is2YQg2K/YrtmI2YQg2KjYp9mE2YHYudmEOicsIGZpcnN0VXNlckVtYWlsKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2YXYrdin2YjZhNipINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEINmE2YTYqtit2YLZgiDZhdmGINmI2KzZiNivINin2YTZhdiz2KrYrtiv2YUg2YHZiiBBdXRoZW50aWNhdGlvbgogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh3aW5kb3cuYXV0aCwgZmlyc3RVc2VyRW1haWwsIGZpcnN0VXNlclBhc3N3b3JkKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RVc2VyRXhpc3RzSW5BdXRoID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDYp9mE2YXYs9iq2K7Yr9mFINin2YTYo9mI2YQg2YXZiNis2YjYryDZgdmKIEF1dGhlbnRpY2F0aW9uOicsIGZpcnN0VXNlckVtYWlsKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChhdXRoRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dGhFcnJvci5jb2RlID09PSAnYXV0aC91c2VyLW5vdC1mb3VuZCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfihLnvuI8g2KfZhNmF2LPYqtiu2K/ZhSDYutmK2LEg2YXZiNis2YjYryDZgdmKIEF1dGhlbnRpY2F0aW9uIC0g2LPZitiq2YUg2KXZhti02KfYpNmHJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdFVzZXJFeGlzdHNJbkF1dGggPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdXRoRXJyb3IuY29kZSA9PT0gJ2F1dGgvd3JvbmctcGFzc3dvcmQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPINmD2YTZhdipINin2YTZhdix2YjYsSDYutmK2LEg2LXYrdmK2K3YqSAtINin2YTZhdiz2KrYrtiv2YUg2YXZiNis2YjYryDZhNmD2YYg2YPZhNmF2Kkg2KfZhNmF2LHZiNixINiu2KfYt9im2KknKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINmE2Kcg2YbZhti02KYg2YXYs9iq2K7Yr9mFINis2K/ZitivINil2LDYpyDZg9in2YbYqiDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2K7Yp9i32KbYqQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyDYrti32KMg2YHZiiDYp9mE2KrYrdmC2YIg2YXZhiBBdXRoZW50aWNhdGlvbjonLCBhdXRoRXJyb3IuY29kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDZhtiz2KrZhdixINmB2Yog2YXYrdin2YjZhNipINil2YbYtNin2KEg2KfZhNmF2LPYqtiu2K/ZhQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RVc2VyRXhpc3RzSW5BdXRoID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2KfZhNmF2LPYqtiu2K/ZhSDZhdmI2KzZiNiv2KfZiyDZgdmKIEF1dGhlbnRpY2F0aW9uCiAgICAgICAgICAgICAgICBpZiAoZmlyc3RVc2VyRXhpc3RzSW5BdXRoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDZhdmI2KzZiNiv2KfZiyDZgdmKIEF1dGhlbnRpY2F0aW9u2Iwg2YbYqtit2YLZgiDZhdmGIEZpcmVzdG9yZQogICAgICAgICAgICAgICAgICAgIGlmICghZmlyc3RVc2VyRXhpc3RzSW5GaXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyDYp9mE2YXYs9iq2K7Yr9mFINmF2YjYrNmI2K8g2YHZiiBBdXRoZW50aWNhdGlvbiDZhNmD2YYg2LrZitixINmF2YjYrNmI2K8g2YHZiiBGaXJlc3RvcmUgLSDYs9mK2KrZhSDYpdmG2LTYp9ihINin2YTYs9is2YQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2LPZitiq2YUg2KXZhti02KfYoSDYp9mE2LPYrNmEINmB2YogZW5zdXJlVXNlclJlY29yZEV4aXN0cwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2YXYs9iq2K7Yr9mFINmF2YjYrNmI2K/YjCDZhNinINit2KfYrNipINmE2KXZhti02KfYptmHCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitmD2YYg2KfZhNmF2LPYqtiu2K/ZhSDZhdmI2KzZiNiv2KfZiyDZgdmKIEF1dGhlbnRpY2F0aW9u2Iwg2YLZhSDYqNil2YbYtNin2KHZhwogICAgICAgICAgICAgICAgaWYgKCFmaXJzdFVzZXJFeGlzdHNJbkF1dGgpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn2YTYpyDZitmI2KzYryDZhdiz2KrYrtiv2YUg2YHZiiBBdXRoZW50aWNhdGlvbiAtINis2KfYsdmKINil2YbYtNin2KEg2KfZhNmF2LPYqtiu2K/ZhSDYp9mE2KPZiNmELi4uJyk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXZhti02KfYoSDYp9mE2YXYs9iq2K7Yr9mFINmB2YogRmlyZWJhc2UgQXV0aGVudGljYXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCB3aW5kb3cuY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmF1dGgsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RVc2VyRW1haWwsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RVc2VyUGFzc3dvcmQKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlcklkID0gdXNlckNyZWRlbnRpYWwudXNlci51aWQ7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyDYqNi52K8g2KXZhti02KfYoSDYp9mE2YXYs9iq2K7Yr9mFINmB2YogQXV0aGVudGljYXRpb27YjCDZiti12KjYrSDZhdiz2KzZhCDYr9iu2YjZhCDYqtmE2YLYp9im2YrYp9mLCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINmE2LDYpyDZitmF2YPZhtmG2Kcg2KfZhNii2YYg2KXZhti02KfYoSDYp9mE2YXYs9iq2YbYryDZgdmKIEZpcmVzdG9yZQogICAgICAgICAgICAgICAgICAgICAgICAvLyDYp9mG2KrYuNin2LEg2YLZhNmK2YTYp9mLINmE2YTYqtij2YPYryDZhdmGINij2YYgQXV0aGVudGljYXRpb24g2KrZhSDYqtit2K/Zitir2YcKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2K3Zgdi4INio2YrYp9mG2KfYqiDYp9mE2YXYs9iq2K7Yr9mFINmB2YogRmlyZXN0b3JlCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ9in2YTZhdiz2KrYrtiv2YUg2KfZhNij2YjZhCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZmlyc3RVc2VyRW1haWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnYWRtaW4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRmlyc3RBZG1pbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogd2luZG93LmZpcmVzdG9yZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogJ3N5c3RlbScKICAgICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuc2V0RG9jKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAndXNlcnMnLCB1c2VySWQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg2KrZhSDYpdmG2LTYp9ihINin2YTZhdiz2KrYrtiv2YUg2KfZhNij2YjZhCDYqNmG2KzYp9itIScpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpyDYp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2Yo6JywgZmlyc3RVc2VyRW1haWwpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UkSDZg9mE2YXYqSDYp9mE2YXYsdmI2LE6JywgZmlyc3RVc2VyUGFzc3dvcmQpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+RpCBVc2VyIElEOicsIHVzZXJJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAvLyDYqtit2K/ZitirIGN1cnJlbnRVc2VyCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gdXNlckNyZWRlbnRpYWwudXNlcjsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfinIUg2KrZhSDYpdmG2LTYp9ihINin2YTZhdiz2KrYrtiv2YUg2KfZhNij2YjZhCDYqNmG2KzYp9itIVxuXG7Yp9mE2KjYsdmK2K86ICcgKyBmaXJzdFVzZXJFbWFpbCArICdcbtmD2YTZhdipINin2YTZhdix2YjYsTogJyArIGZpcnN0VXNlclBhc3N3b3JkKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg2K7Yt9ijINmB2Yog2KXZhti02KfYoSDYp9mE2YXYs9iq2K7Yr9mFINin2YTYo9mI2YQ6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyDZgtivINmK2YPZiNmGINin2YTZhdiz2KrYrtiv2YUg2YXZiNis2YjYr9in2Ysg2KjYp9mE2YHYudmEINmB2YogQXV0aGVudGljYXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdhdXRoL2VtYWlsLWFscmVhZHktaW4tdXNlJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyDYp9mE2YXYs9iq2K7Yr9mFINmF2YjYrNmI2K8g2KjYp9mE2YHYudmEINmB2YogQXV0aGVudGljYXRpb24gLSDYrNin2LHZiiDYqtiz2KzZitmEINin2YTYr9iu2YjZhC4uLicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2YXYrdin2YjZhNipINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEINmE2YTYqtit2YLZggogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VyQ3JlZGVudGlhbCA9IGF3YWl0IHdpbmRvdy5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh3aW5kb3cuYXV0aCwgZmlyc3RVc2VyRW1haWwsIGZpcnN0VXNlclBhc3N3b3JkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINiq2YUg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2KjZhtis2KfYrScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINmI2KzZiNivINin2YTZhdiz2KrYrtiv2YUg2YHZiiBGaXJlc3RvcmUg2YjYpdmG2LTYp9ihINin2YTYs9is2YQg2KXYsNinINmE2YUg2YrZg9mGINmF2YjYrNmI2K/Yp9mLCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlcklkID0gdXNlckNyZWRlbnRpYWwudXNlci51aWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuZ2V0RG9jKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICd1c2VycycsIHVzZXJJZCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdXNlckRvYy5leGlzdHMoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPINin2YTZhdiz2KrYrtiv2YUg2LrZitixINmF2YjYrNmI2K8g2YHZiiBGaXJlc3RvcmUgLSDYrNin2LHZiiDYpdmG2LTYp9ihINin2YTYs9is2YQuLi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAn2KfZhNmF2LPYqtiu2K/ZhSDYp9mE2KPZiNmEJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBmaXJzdFVzZXJFbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6ICdhZG1pbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdEFkbWluOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiB3aW5kb3cuZmlyZXN0b3JlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiAnc3lzdGVtJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS5zZXREb2MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICd1c2VycycsIHVzZXJJZCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINiq2YUg2KXZhti02KfYoSDYs9is2YQg2KfZhNmF2LPYqtiu2K/ZhSDZgdmKIEZpcmVzdG9yZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg2KfZhNmF2LPYqtiu2K/ZhSDZhdmI2KzZiNivINmB2YogRmlyZXN0b3JlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2K3Yr9mK2KsgY3VycmVudFVzZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VXNlciA9IHVzZXJDcmVkZW50aWFsLnVzZXI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChsb2dpbkVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MINiu2LfYoyDZgdmKINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEOicsIGxvZ2luRXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MINiu2LfYoyDYutmK2LEg2YXYqtmI2YLYuTonLCBlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg2K7Yt9ijINmB2Yog2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNmF2LPYqtiu2K/ZhSDYp9mE2KPZiNmEOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIC8vINmE2Kcg2YbZiNmC2YEg2KfZhNiq2LfYqNmK2YIg2KXYsNinINmB2LTZhCDYp9mE2KrYrdmC2YIKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2YjYrNmI2K8g2KfZhNmF2LPYqtiu2K/ZhSDZgdmKIEZpcmVzdG9yZSDZiNil2YbYtNin2KEg2LPYrNmE2Ycg2KXYsNinINmE2YUg2YrZg9mGINmF2YjYrNmI2K/Yp9mLCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZW5zdXJlVXNlclJlY29yZEV4aXN0cyh1c2VyKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXVzZXIgfHwgIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgd2luZG93LmZpcmVzdG9yZS5nZXREb2MoCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAndXNlcnMnLCB1c2VyLnVpZCkKICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgaWYgKCF1c2VyRG9jLmV4aXN0cygpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNmF2LPYqtiu2K/ZhSDYutmK2LEg2YXZiNis2YjYryDZgdmKIEZpcmVzdG9yZdiMINil2YbYtNin2KEg2LPYrNmE2YcKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPINin2YTZhdiz2KrYrtiv2YUg2LrZitixINmF2YjYrNmI2K8g2YHZiiBGaXJlc3RvcmUgLSDYrNin2LHZiiDYpdmG2LTYp9ihINin2YTYs9is2YQuLi4nKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYudiv2K8g2KfZhNmF2LPYqtiu2K/ZhdmK2YYg2YTYqtit2K/ZitivINil2LDYpyDZg9in2YYg2YfYsNinINin2YTZhdiz2KrYrtiv2YUg2KfZhNij2YjZhAogICAgICAgICAgICAgICAgICAgIGxldCBpc0ZpcnN0VXNlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJzUmVmID0gd2luZG93LmZpcmVzdG9yZS5jb2xsZWN0aW9uKHdpbmRvdy5kYiwgJ3VzZXJzJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgd2luZG93LmZpcmVzdG9yZS5nZXREb2NzKHVzZXJzUmVmKTsKICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdFVzZXIgPSBzbmFwc2hvdC5lbXB0eTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YHYtNmE2Kog2KfZhNmC2LHYp9ih2KnYjCDZhtmB2KrYsdi2INij2YbZhyDYp9mE2YXYs9iq2K7Yr9mFINin2YTYo9mI2YQKICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdFVzZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIuZGlzcGxheU5hbWUgfHwgdXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAn2YXYs9iq2K7Yr9mFJywKICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsCiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IGlzRmlyc3RVc2VyID8gJ2FkbWluJyA6ICdlbXBsb3llZScsIC8vINin2YTZhdiz2KrYrtiv2YUg2KfZhNij2YjZhCDZitmD2YjZhiBhZG1pbgogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLAogICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmlyc3RBZG1pbjogaXNGaXJzdFVzZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogd2luZG93LmZpcmVzdG9yZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiAnc3lzdGVtJwogICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuc2V0RG9jKAogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICd1c2VycycsIHVzZXIudWlkKSwKICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGEKICAgICAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINiq2YUg2KXZhti02KfYoSDYs9is2YQg2KfZhNmF2LPYqtiu2K/ZhSDZgdmKIEZpcmVzdG9yZTonLCB1c2VyLmVtYWlsLCAn2YXYuSByb2xlOicsIHVzZXJEYXRhLnJvbGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2YXYs9iq2K7Yr9mFINmF2YjYrNmI2K/YjCDYp9mE2KrYrdmC2YIg2YXZhiDYo9mGINmE2K/ZitmHIHJvbGUg2YXZhtin2LPYqAogICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlckRvYy5kYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFJvbGUgPSB1c2VyRGF0YS5yb2xlOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZhNmFINmK2YPZhiDZhNiv2YrZhyByb2xlINij2Yggcm9sZSDYutmK2LEg2LXYrdmK2K3YjCDZhti12YTYrdmHCiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50Um9sZSB8fCAoY3VycmVudFJvbGUgIT09ICdhZG1pbicgJiYgY3VycmVudFJvbGUgIT09ICdocicgJiYgY3VycmVudFJvbGUgIT09ICdlbXBsb3llZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8g2KfZhNmF2LPYqtiu2K/ZhSDZhdmI2KzZiNivINmE2YPZhiDZhNmK2LMg2YTYr9mK2Ycgcm9sZSDZhdmG2KfYs9ioIC0g2KzYp9ix2Yog2KfZhNiq2K3Yr9mK2KsuLi4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINi52K/YryDYp9mE2YXYs9iq2K7Yr9mF2YrZhiDZhNiq2K3Yr9mK2K8g2KXYsNinINmD2KfZhiDZh9iw2Kcg2KfZhNmF2LPYqtiu2K/ZhSDYp9mE2KPZiNmECiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpc0ZpcnN0VXNlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlcnNSZWYgPSB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAndXNlcnMnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgd2luZG93LmZpcmVzdG9yZS5nZXREb2NzKHVzZXJzUmVmKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2YfZhtin2YMg2YXYs9iq2K7Yr9mFINmI2KfYrdivINmB2YLYt9iMINmB2YfZiCDYp9mE2YXYs9iq2K7Yr9mFINin2YTYo9mI2YQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRmlyc3RVc2VyID0gc25hcHNob3Quc2l6ZSA9PT0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZgdi02YTYqiDYp9mE2YLYsdin2KHYqdiMINmG2YHYqtix2LYg2KPZhtmHINin2YTZhdiz2KrYrtiv2YUg2KfZhNij2YjZhAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdFVzZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogaXNGaXJzdFVzZXIgPyAnYWRtaW4nIDogKGN1cnJlbnRSb2xlIHx8ICdhZG1pbicpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiB1c2VyRGF0YS5hY3RpdmUgIT09IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YPYp9mGINin2YTZhdiz2KrYrtiv2YUg2KfZhNij2YjZhNiMINij2LbZgSBpc0ZpcnN0QWRtaW4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmlyc3RVc2VyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhLmlzRmlyc3RBZG1pbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICd1c2VycycsIHVzZXIudWlkKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDYqtmFINiq2K3Yr9mK2Ksgcm9sZSDYp9mE2YXYs9iq2K7Yr9mFINil2YTZiTonLCB1cGRhdGVEYXRhLnJvbGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoICh1cGRhdGVFcnJvcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MINiu2LfYoyDZgdmKINiq2K3Yr9mK2Ksgcm9sZSDYp9mE2YXYs9iq2K7Yr9mFOicsIHVwZGF0ZUVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINmG2KrYp9io2Lkg2LnZhNmJINij2Yog2K3Yp9mECiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFINin2YTZhdiz2KrYrtiv2YUg2YTYr9mK2Ycgcm9sZSDYtdit2YrYrTonLCBjdXJyZW50Um9sZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MINiu2LfYoyDZgdmKINin2YTYqtit2YLZgiDZhdmGINiz2KzZhCDYp9mE2YXYs9iq2K7Yr9mFOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gewogICAgICAgICAgICAgICAgJ2F1dGgvZW1haWwtYWxyZWFkeS1pbi11c2UnOiAn2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKINmF2LPYqtiu2K/ZhSDYqNin2YTZgdi52YQnLAogICAgICAgICAgICAgICAgJ2F1dGgvaW52YWxpZC1lbWFpbCc6ICfYp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2Yog2LrZitixINi12K3ZititJywKICAgICAgICAgICAgICAgICdhdXRoL3dlYWstcGFzc3dvcmQnOiAn2YPZhNmF2Kkg2KfZhNmF2LHZiNixINi22LnZitmB2Kkg2KzYr9in2YsnLAogICAgICAgICAgICAgICAgJ2F1dGgvdXNlci1ub3QtZm91bmQnOiAn2KfZhNmF2LPYqtiu2K/ZhSDYutmK2LEg2YXZiNis2YjYrycsCiAgICAgICAgICAgICAgICAnYXV0aC93cm9uZy1wYXNzd29yZCc6ICfZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2K7Yp9i32KbYqScKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2VzW2Vycm9yLmNvZGVdIHx8IGVycm9yLm1lc3NhZ2U7CiAgICAgICAgfQoKICAgICAgICAvLyDYqtmH2YrYptipINin2YTYqti32KjZitmCINi52YbYryDYqtit2YXZitmEINin2YTYtdmB2K3YqQogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgYXN5bmMgKCkgPT4gewogICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctQl0gRE9NQ29udGVudExvYWRlZCAtINio2K/YoSDYp9mE2KrZh9mK2KbYqSwgaXNNYW51YWxMb2dvdXQ6JywgaXNNYW51YWxMb2dvdXQpOwogICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfYqtmFINiq2K3ZhdmK2YQg2KfZhNi12YHYrdipJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqtmH2YrYptipINin2YTZhNi62KkKICAgICAgICAgICAgaW5pdExhbmd1YWdlKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdi42YfYp9ixINmI2KfYrNmH2Kkg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2KPZiNmE2KfZiwogICAgICAgICAgICBzaG93TG9naW4oKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YbYqti42KfYsSDYqtmH2YrYptipIEZpcmViYXNlCiAgICAgICAgICAgIGxldCBhdHRlbXB0cyA9IDA7CiAgICAgICAgICAgIGNvbnN0IG1heEF0dGVtcHRzID0gNTA7CiAgICAgICAgICAgIHdoaWxlIChhdHRlbXB0cyA8IG1heEF0dGVtcHRzKSB7CiAgICAgICAgICAgICAgICBpZiAod2luZG93LmRiICYmIHdpbmRvdy5maXJlc3RvcmUgJiYgd2luZG93LmF1dGgpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZpcmViYXNlINis2KfZh9iyINmE2YTYp9iz2KrYrtiv2KfZhScpOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpOwogICAgICAgICAgICAgICAgYXR0ZW1wdHMrKzsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUgfHwgIXdpbmRvdy5hdXRoKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBGaXJlYmFzZSDZhNmFINmK2KrZhSDYqtmH2YrYptiq2Ycg2KjYudivLiDZgtivINiq2K3Yqtin2Kwg2KXZhNmJINil2LnYp9iv2Kkg2KrYrdmF2YrZhCDYp9mE2LXZgdit2KkuJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINit2KfZhNipINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmECiAgICAgICAgICAgIGlmICh3aW5kb3cub25BdXRoU3RhdGVDaGFuZ2VkKSB7CiAgICAgICAgICAgICAgICB3aW5kb3cub25BdXRoU3RhdGVDaGFuZ2VkKHdpbmRvdy5hdXRoLCBhc3luYyAodXNlcikgPT4gewogICAgICAgICAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUNdIG9uQXV0aFN0YXRlQ2hhbmdlZCAtINin2LPYqtiv2LnYp9ihLCBoYXNVc2VyOicsICEhdXNlciwgJ3VzZXJFbWFpbDonLCB1c2VyPy5lbWFpbCwgJ2lzTWFudWFsTG9nb3V0OicsIGlzTWFudWFsTG9nb3V0KTsKICAgICAgICAgICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgICAgICAgICBpZiAodXNlcikgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2YXYs9iq2K7Yr9mFINmF2LPYrNmEINiv2K7ZiNmECiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gdXNlcjsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXYudin2K/YqSDYqti52YrZitmGINi52YTYp9mF2Kkg2KrYs9is2YrZhCDYp9mE2K7YsdmI2Kwg2KfZhNmK2K/ZiNmKINi52YbYryDYqtiz2KzZitmEINin2YTYr9iu2YjZhAogICAgICAgICAgICAgICAgICAgICAgICBpc01hbnVhbExvZ291dCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnaHJtX21hbnVhbF9sb2dvdXQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1DXSDYp9mE2YXYs9iq2K7Yr9mFINmF2LPYrNmEINiv2K7ZiNmEIC0g2KXYudin2K/YqSDYqti52YrZitmGIGlzTWFudWFsTG9nb3V0ID0gZmFsc2UnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1DXSDYrti32KMg2YHZiiDYpdiy2KfZhNipIHNlc3Npb25TdG9yYWdlOicsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDYp9mE2YXYs9iq2K7Yr9mFINmF2LPYrNmEINiv2K7ZiNmEOicsIHVzZXIuZW1haWwpOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNiq2KPZg9ivINmF2YYg2YjYrNmI2K8g2LPYrNmEINin2YTZhdiz2KrYrtiv2YUg2YHZiiBGaXJlc3RvcmUKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgZW5zdXJlVXNlclJlY29yZEV4aXN0cyh1c2VyKTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LjZh9in2LEg2KfZhNiq2LfYqNmK2YIKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0FwcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqINio2LnYryDYp9mE2KrYrdmC2YIg2YjYqtiz2KzZitmEINin2YTYr9iu2YjZhAogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDYqtit2YXZitmEINmF2LnZhNmI2YXYp9iqINin2YTYtNix2YPYqQogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBsb2FkQ29tcGFueUluZm8oKTsKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ29tcGFueUxvZ29JbkFwcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYqtit2YXZitmEINil2LnYr9in2K/Yp9iqINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZERhdGFiYXNlU2V0dGluZ3MoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDZhNmI2K3YqSDYp9mE2KrYrdmD2YUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGxvYWREYXNoYm9hcmRTdGF0cygpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChsb2FkRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KaoO+4jyDYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2Ko6JywgbG9hZEVycm9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTZhdiz2KrYrtiv2YUg2LrZitixINmF2LPYrNmEINiv2K7ZiNmECiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLURdINin2YTZhdiz2KrYrtiv2YUg2LrZitixINmF2LPYrNmEINiv2K7ZiNmELCBpc01hbnVhbExvZ291dDonLCBpc01hbnVhbExvZ291dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyDYp9mE2YXYs9iq2K7Yr9mFINi62YrYsSDZhdiz2KzZhCDYr9iu2YjZhCcpOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2YjYrNmI2K8g2KfZhNmF2LPYqtiu2K/ZhSDYp9mE2KPZiNmEINmI2KXZhti02KfYpNmHINil2LDYpyDZhNmFINmK2YPZhiDZhdmI2KzZiNiv2KfZiwogICAgICAgICAgICAgICAgICAgICAgICAvLyDZgdmC2Lcg2KXYsNinINmE2YUg2YrZg9mGINiq2LPYrNmK2YQg2K7YsdmI2Kwg2YrYr9mI2YoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc01hbnVhbExvZ291dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1EXSDYp9iz2KrYr9i52KfYoSBjaGVja0FuZENyZWF0ZUZpcnN0VXNlciAtIGlzTWFudWFsTG9nb3V0ID0gZmFsc2UnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNoZWNrQW5kQ3JlYXRlRmlyc3RVc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLURdINiq2K7Yt9mKIGNoZWNrQW5kQ3JlYXRlRmlyc3RVc2VyIC0gaXNNYW51YWxMb2dvdXQgPSB0cnVlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXYudin2K/YqSDYqti52YrZitmGINin2YTYudmE2KfZhdipINio2LnYryDZhdi52KfZhNis2Kkg2KrYs9is2YrZhCDYp9mE2K7YsdmI2KwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWFudWFsTG9nb3V0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ2hybV9tYW51YWxfbG9nb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLURdINiq2YUg2KXYstin2YTYqSBocm1fbWFudWFsX2xvZ291dCDZhdmGIHNlc3Npb25TdG9yYWdlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLURdINiu2LfYoyDZgdmKINil2LLYp9mE2Kkgc2Vzc2lvblN0b3JhZ2U6JywgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LjZh9in2LEg2YjYp9is2YfYqSDYqtiz2KzZitmEINin2YTYr9iu2YjZhAogICAgICAgICAgICAgICAgICAgICAgICBzaG93TG9naW4oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vINil2LDYpyDZhNmFINmK2YPZhiBvbkF1dGhTdGF0ZUNoYW5nZWQg2YXYqtin2K3Yp9mL2Iwg2YbYqtit2YLZgiDZhdmGINin2YTZhdiz2KrYrtiv2YUg2KfZhNij2YjZhCDZgdmC2LcKICAgICAgICAgICAgICAgIGF3YWl0IGNoZWNrQW5kQ3JlYXRlRmlyc3RVc2VyKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINmF2YTYp9it2LjYqTog2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqINmK2KrZhSDYqNi52K8g2KfZhNiq2K3ZgtmCINmI2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2YHZiiBvbkF1dGhTdGF0ZUNoYW5nZWQKICAgICAgICB9KTsKCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICAvLyDYpdiv2KfYsdipINin2YTYpdis2KfYstin2KoKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRMZWF2ZXMoKSB7CiAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25JZCA9ICdkZWJ1Zy1zZXNzaW9uLScgKyBEYXRlLm5vdygpOwogICAgICAgICAgICBjb25zdCBydW5JZCA9ICdydW4xJzsKICAgICAgICAgICAgY29uc3QgbGVhdmVzRGF0YUNvdW50QmVmb3JlID0gbGVhdmVzRGF0YS5sZW5ndGg7CiAgICAgICAgICAgIGNvbnN0IGxlYXZlc0lkc0JlZm9yZSA9IGxlYXZlc0RhdGEubWFwKGwgPT4gbC5pZCk7CiAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1MT0FEXSDYqNiv2KEgbG9hZExlYXZlcygpLCBsZWF2ZXNEYXRhINmC2KjZhDonLCBsZWF2ZXNEYXRhQ291bnRCZWZvcmUsIGxlYXZlc0lkc0JlZm9yZSk7CiAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRib2R5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49IjkiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7IGNvbG9yOiAjZGMzNTQ1OyI+RmlyZWJhc2Ug2LrZitixINmF2YfZitijPC90ZD48L3RyPic7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZXNSZWYgPSB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAnbGVhdmVzJyk7CiAgICAgICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuZ2V0RG9jcyhsZWF2ZXNSZWYpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgY29uc3Qgc25hcHNob3RTaXplID0gc25hcHNob3Quc2l6ZTsKICAgICAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtTE9BRF0g2LnYr9ivINin2YTYpdis2KfYstin2Kog2YXZhiBGaXJlYmFzZTonLCBzbmFwc2hvdFNpemUpOwogICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZWF2ZXNEYXRhID0gW107CiAgICAgICAgICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgICAgICAgICAgbGVhdmVzRGF0YS5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZGF0YSB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZXNEYXRhQ291bnRBZnRlciA9IGxlYXZlc0RhdGEubGVuZ3RoOwogICAgICAgICAgICAgICAgY29uc3QgbGVhdmVzSWRzQWZ0ZXIgPSBsZWF2ZXNEYXRhLm1hcChsID0+IGwuaWQpOwogICAgICAgICAgICAgICAgLy8g2KrZhSDYpdiy2KfZhNipINin2LPYqtiv2LnYp9ihIGxvZ2dpbmcg2KfZhNiu2KfYsdis2YoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1MT0FEXSBsZWF2ZXNEYXRhINio2LnYrzonLCBsZWF2ZXNEYXRhQ291bnRBZnRlciwgbGVhdmVzSWRzQWZ0ZXIpOwogICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgoKICAgICAgICAgICAgICAgIGRpc3BsYXlMZWF2ZXMoKTsKICAgICAgICAgICAgICAgIHVwZGF0ZUxlYXZlc0NvdW50KCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYqtit2YXZitmEINin2YTYpdis2KfYstin2Ko6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgICAgICBpZiAodGJvZHkpIHsKICAgICAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSAnPHRyPjx0ZCBjb2xzcGFuPSI5IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyBjb2xvcjogI2RjMzU0NTsiPtiu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqjwvdGQ+PC90cj4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkaXNwbGF5TGVhdmVzKCkgewogICAgICAgICAgICBjb25zdCB0Ym9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZXNUYWJsZUJvZHknKTsKICAgICAgICAgICAgaWYgKCF0Ym9keSkgcmV0dXJuOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGxlYXZlc0RhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICB0Ym9keS5pbm5lckhUTUwgPSAnPHRyPjx0ZCBjb2xzcGFuPSI5IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyI+2YTYpyDYqtmI2KzYryDYqNmK2KfZhtin2Ko8L3RkPjwvdHI+JzsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gbGVhdmVzRGF0YS5tYXAobGVhdmUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWUgPSBlbXBsb3llZXNEYXRhLmZpbmQoZSA9PiBlLmlkID09PSBsZWF2ZS5lbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlTmFtZSA9IGVtcGxveWVlID8gZW1wbG95ZWUubmFtZSA6ICfYutmK2LEg2YXYrdiv2K8nOwogICAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gbGVhdmUuc3RhcnREYXRlID8gZm9ybWF0RGF0ZShsZWF2ZS5zdGFydERhdGUpIDogJy0nOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYudix2LYg2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihINin2YTZgdi52YTZiiAo2KXZhiDZiNis2K8pCiAgICAgICAgICAgICAgICBsZXQgZW5kRGF0ZSA9ICctJzsKICAgICAgICAgICAgICAgIGlmIChsZWF2ZS5lbmREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZSA9IGZvcm1hdERhdGUobGVhdmUuZW5kRGF0ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINit2LPYp9ioINin2YTZhdiv2Kkg2KjYp9mE2KPZitin2YUKICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9ICctJzsKICAgICAgICAgICAgICAgIGlmIChsZWF2ZS50eXBlID09PSAnaG91cmx5JyAmJiBsZWF2ZS5ob3VycykgewogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gbGVhdmUuaG91cnMgKyAnINiz2KfYudipJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGVhdmUuc3RhcnREYXRlICYmIGxlYXZlLmVuZERhdGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2YXYr9ipINio2KfZhNij2YrYp9mFINmE2YTYpdis2KfYstin2Kog2KfZhNi02YfYsdmK2Kkg2YjYqNiv2YjZhiDYsdin2KrYqAogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUobGVhdmUuc3RhcnREYXRlKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZShsZWF2ZS5lbmREYXRlKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmVGltZSA9IE1hdGguYWJzKGVuZCAtIHN0YXJ0KTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmRGF5cyA9IE1hdGguY2VpbChkaWZmVGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSkgKyAxOwogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gZGlmZkRheXMgKyAnINmK2YjZhSc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlYXZlLnN0YXJ0RGF0ZSAmJiBsZWF2ZS50eXBlID09PSAndW5wYWlkJykgewogICAgICAgICAgICAgICAgICAgIC8vINmE2YTYpdis2KfYstin2Kog2KjYr9mI2YYg2LHYp9iq2Kgg2KjYr9mI2YYg2KrYp9ix2YrYriDYp9mG2KrZh9in2KHYjCDZhtiz2KrYrtiv2YUg2KrYp9ix2YrYriDYp9mE2KjYr9in2YrYqSDZgdmC2LcKICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9ICcxINmK2YjZhSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c0JhZGdlID0gZ2V0TGVhdmVTdGF0dXNCYWRnZShsZWF2ZS5zdGF0dXMgfHwgJ3BlbmRpbmcnKTsKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c05hbWUgPSBnZXRMZWF2ZVN0YXR1c05hbWUobGVhdmUuc3RhdHVzIHx8ICdwZW5kaW5nJyk7CiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U3RhdHVzID0gbGVhdmUuc3RhdHVzIHx8ICdwZW5kaW5nJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KPYstix2KfYsSDYp9mE2YXZiNin2YHZgtipL9in2YTYsdmB2LYgKNiq2LjZh9ixINmB2YLYtyDZhNmE2KXYrNin2LLYp9iqINmC2YrYryDYp9mE2KfZhtiq2LjYp9ixKQogICAgICAgICAgICAgICAgbGV0IGFjdGlvbkJ1dHRvbnMgPSAnJzsKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdHVzID09PSAncGVuZGluZycpIHsKICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b25zID0gYAogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIG9uY2xpY2s9ImFwcHJvdmVMZWF2ZSgnJHtsZWF2ZS5pZH0nKSIgc3R5bGU9InBhZGRpbmc6IDZweCAxMnB4OyBmb250LXNpemU6IDEzcHg7IG1hcmdpbi1sZWZ0OiA1cHg7Ij7inIUg2YXZiNin2YHZgtipPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJyZWplY3RMZWF2ZSgnJHtsZWF2ZS5pZH0nKSIgc3R5bGU9InBhZGRpbmc6IDZweCAxMnB4OyBmb250LXNpemU6IDEzcHg7IG1hcmdpbi1sZWZ0OiA1cHg7Ij7inYwg2LHZgdi2PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZWRpdExlYXZlKCcke2xlYXZlLmlkfScpIiBzdHlsZT0icGFkZGluZzogNnB4IDEycHg7IGZvbnQtc2l6ZTogMTNweDsgbWFyZ2luLWxlZnQ6IDVweDsiPuKcj++4jyDYqti52K/ZitmEPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJkZWxldGVMZWF2ZSgnJHtsZWF2ZS5pZH0nKSIgc3R5bGU9InBhZGRpbmc6IDZweCAxMnB4OyBmb250LXNpemU6IDEzcHg7Ij7wn5eR77iPINit2LDZgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbnMgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZWRpdExlYXZlKCcke2xlYXZlLmlkfScpIiBzdHlsZT0icGFkZGluZzogNnB4IDEycHg7IGZvbnQtc2l6ZTogMTNweDsgbWFyZ2luLWxlZnQ6IDVweDsiPuKcj++4jyDYqti52K/ZitmEPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJkZWxldGVMZWF2ZSgnJHtsZWF2ZS5pZH0nKSIgc3R5bGU9InBhZGRpbmc6IDZweCAxMnB4OyBmb250LXNpemU6IDEzcHg7Ij7wn5eR77iPINit2LDZgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINit2LPYp9ioINin2YTYrti12YUg2YTZhNil2KzYp9iy2KfYqiDYqNiv2YjZhiDYsdin2KrYqAogICAgICAgICAgICAgICAgbGV0IGRlZHVjdGlvbkRpc3BsYXkgPSAnLSc7CiAgICAgICAgICAgICAgICBpZiAobGVhdmUudHlwZSA9PT0gJ3VucGFpZCcgJiYgZW1wbG95ZWUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWR1Y3Rpb24gPSBjYWxjdWxhdGVVbnBhaWRMZWF2ZURlZHVjdGlvbihsZWF2ZSwgZW1wbG95ZWUpOwogICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuZGVkdWN0aW9uVmlld1VubG9ja2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINi52LHYtiDYp9mE2K7YtdmFINmF2Lkg2KfZhNi52YXZhNipICjYp9iz2KrYrtiv2KfZhSDYp9mE2LnZhdmE2Kkg2KfZhNmF2K3ZgdmI2LjYqSDYpdmGINmI2KzYr9iqKQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW5jeSA9IGxlYXZlLnNhbGFyeUN1cnJlbmN5QXRMZWF2ZSB8fCBlbXBsb3llZS5jdXJyZW50U2FsYXJ5Q3VycmVuY3kgfHwgJ0lRRCc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbmN5U3ltYm9sID0gY3VycmVuY3kgPT09ICdVU0QnID8gJyQnIDogJ9ivLti5JzsKICAgICAgICAgICAgICAgICAgICAgICAgZGVkdWN0aW9uRGlzcGxheSA9IGRlZHVjdGlvbiAhPT0gbnVsbCA/IGZvcm1hdE51bWJlcihkZWR1Y3Rpb24pICsgJyAnICsgY3VycmVuY3lTeW1ib2wgOiAnLSc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVkdWN0aW9uRGlzcGxheSA9IGRlZHVjdGlvbiAhPT0gbnVsbCA/ICcqKioqJyA6ICctJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiBgCiAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtlbXBsb3llZU5hbWV9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7Z2V0TGVhdmVUeXBlTmFtZShsZWF2ZS50eXBlLCBsZWF2ZSl9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7c3RhcnREYXRlfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2VuZERhdGV9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZHVyYXRpb259PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJiYWRnZSAke3N0YXR1c0JhZGdlfSI+JHtzdGF0dXNOYW1lfTwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImZvbnQtd2VpZ2h0OiAke2xlYXZlLnR5cGUgPT09ICd1bnBhaWQnID8gJ2JvbGQnIDogJ25vcm1hbCd9OyBjb2xvcjogJHtsZWF2ZS50eXBlID09PSAndW5wYWlkJyA/ICcjZGMzNTQ1JyA6ICdpbmhlcml0J307Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7ZGVkdWN0aW9uRGlzcGxheX0KICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7bGVhdmUubm90ZXMgfHwgJy0nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYWN0aW9uLWJ1dHRvbnMiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogbm93cmFwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2FjdGlvbkJ1dHRvbnN9CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZmlsdGVyTGVhdmVzKCkgewogICAgICAgICAgICBjb25zdCBzZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVTZWFyY2gnKS52YWx1ZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBjb25zdCB0eXBlRmlsdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlVHlwZUZpbHRlcicpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBzdGF0dXNGaWx0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVTdGF0dXNGaWx0ZXInKS52YWx1ZTsKCiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gbGVhdmVzRGF0YS5maWx0ZXIobGVhdmUgPT4gewogICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWUgPSBlbXBsb3llZXNEYXRhLmZpbmQoZSA9PiBlLmlkID09PSBsZWF2ZS5lbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlTmFtZSA9IGVtcGxveWVlID8gZW1wbG95ZWUubmFtZS50b0xvd2VyQ2FzZSgpIDogJyc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoU2VhcmNoID0gIXNlYXJjaCB8fCBlbXBsb3llZU5hbWUuaW5jbHVkZXMoc2VhcmNoKTsKICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoVHlwZSA9ICF0eXBlRmlsdGVyIHx8IGxlYXZlLnR5cGUgPT09IHR5cGVGaWx0ZXI7CiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaFN0YXR1cyA9ICFzdGF0dXNGaWx0ZXIgfHwgKGxlYXZlLnN0YXR1cyB8fCAncGVuZGluZycpID09PSBzdGF0dXNGaWx0ZXI7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaFNlYXJjaCAmJiBtYXRjaFR5cGUgJiYgbWF0Y2hTdGF0dXM7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVzVGFibGVCb2R5Jyk7CiAgICAgICAgICAgIGlmICghdGJvZHkpIHJldHVybjsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9ICc8dHI+PHRkIGNvbHNwYW49IjkiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7Ij7ZhNinINiq2YjYrNivINmG2KrYp9im2Kw8L3RkPjwvdHI+JzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRib2R5LmlubmVySFRNTCA9IGZpbHRlcmVkLm1hcChsZWF2ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWUgPSBlbXBsb3llZXNEYXRhLmZpbmQoZSA9PiBlLmlkID09PSBsZWF2ZS5lbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbXBsb3llZU5hbWUgPSBlbXBsb3llZSA/IGVtcGxveWVlLm5hbWUgOiAn2LrZitixINmF2K3Yr9ivJzsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydERhdGUgPSBsZWF2ZS5zdGFydERhdGUgPyBmb3JtYXREYXRlKGxlYXZlLnN0YXJ0RGF0ZSkgOiAnLSc7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IGxlYXZlLmVuZERhdGUgPyBmb3JtYXREYXRlKGxlYXZlLmVuZERhdGUpIDogKGxlYXZlLnR5cGUgPT09ICd1bnBhaWQnID8gJ9io2K/ZiNmGINix2KfYqtioJyA6ICctJyk7CiAgICAgICAgICAgICAgICAgICAgbGV0IGR1cmF0aW9uID0gJy0nOwogICAgICAgICAgICAgICAgICAgIGlmIChsZWF2ZS50eXBlID09PSAnaG91cmx5JyAmJiBsZWF2ZS5ob3VycykgewogICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGxlYXZlLmhvdXJzICsgJyDYs9in2LnYqSc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZWF2ZS50eXBlID09PSAndW5wYWlkJykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVhdmUuc3RhcnREYXRlICYmIGxlYXZlLmVuZERhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUobGVhdmUuc3RhcnREYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKGxlYXZlLmVuZERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZlRpbWUgPSBNYXRoLmFicyhlbmQgLSBzdGFydCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmRGF5cyA9IE1hdGguY2VpbChkaWZmVGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSkgKyAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSBkaWZmRGF5cyArICcg2YrZiNmFICjYqNiv2YjZhiDYsdin2KrYqCknOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlYXZlLnN0YXJ0RGF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSAn2KjYr9mI2YYg2LHYp9iq2KgnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZWF2ZS5zdGFydERhdGUgJiYgbGVhdmUuZW5kRGF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKGxlYXZlLnN0YXJ0RGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKGxlYXZlLmVuZERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmVGltZSA9IE1hdGguYWJzKGVuZCAtIHN0YXJ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZkRheXMgPSBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpICsgMTsKICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSBkaWZmRGF5cyArICcg2YrZiNmFJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBnZXRMZWF2ZVN0YXR1c0JhZGdlKGxlYXZlLnN0YXR1cyB8fCAncGVuZGluZycpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c05hbWUgPSBnZXRMZWF2ZVN0YXR1c05hbWUobGVhdmUuc3RhdHVzIHx8ICdwZW5kaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFN0YXR1cyA9IGxlYXZlLnN0YXR1cyB8fCAncGVuZGluZyc7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KPYstix2KfYsSDYp9mE2YXZiNin2YHZgtipL9in2YTYsdmB2LYgKNiq2LjZh9ixINmB2YLYtyDZhNmE2KXYrNin2LLYp9iqINmC2YrYryDYp9mE2KfZhtiq2LjYp9ixKQogICAgICAgICAgICAgICAgICAgIGxldCBhY3Rpb25CdXR0b25zID0gJyc7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0dXMgPT09ICdwZW5kaW5nJykgewogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b25zID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBvbmNsaWNrPSJhcHByb3ZlTGVhdmUoJyR7bGVhdmUuaWR9JykiIHN0eWxlPSJwYWRkaW5nOiA2cHggMTJweDsgZm9udC1zaXplOiAxM3B4OyBtYXJnaW4tbGVmdDogNXB4OyI+4pyFINmF2YjYp9mB2YLYqTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9InJlamVjdExlYXZlKCcke2xlYXZlLmlkfScpIiBzdHlsZT0icGFkZGluZzogNnB4IDEycHg7IGZvbnQtc2l6ZTogMTNweDsgbWFyZ2luLWxlZnQ6IDVweDsiPuKdjCDYsdmB2LY8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iZWRpdExlYXZlKCcke2xlYXZlLmlkfScpIiBzdHlsZT0icGFkZGluZzogNnB4IDEycHg7IGZvbnQtc2l6ZTogMTNweDsgbWFyZ2luLWxlZnQ6IDVweDsiPuKcj++4jyDYqti52K/ZitmEPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iZGVsZXRlTGVhdmUoJyR7bGVhdmUuaWR9JykiIHN0eWxlPSJwYWRkaW5nOiA2cHggMTJweDsgZm9udC1zaXplOiAxM3B4OyI+8J+Xke+4jyDYrdiw2YE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b25zID0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJlZGl0TGVhdmUoJyR7bGVhdmUuaWR9JykiIHN0eWxlPSJwYWRkaW5nOiA2cHggMTJweDsgZm9udC1zaXplOiAxM3B4OyBtYXJnaW4tbGVmdDogNXB4OyI+4pyP77iPINiq2LnYr9mK2YQ8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJkZWxldGVMZWF2ZSgnJHtsZWF2ZS5pZH0nKSIgc3R5bGU9InBhZGRpbmc6IDZweCAxMnB4OyBmb250LXNpemU6IDEzcHg7Ij7wn5eR77iPINit2LDZgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2K7YtdmFINmE2YTYpdis2KfYstin2Kog2KjYr9mI2YYg2LHYp9iq2KgKICAgICAgICAgICAgICAgICAgICBsZXQgZGVkdWN0aW9uRGlzcGxheSA9ICctJzsKICAgICAgICAgICAgICAgICAgICBpZiAobGVhdmUudHlwZSA9PT0gJ3VucGFpZCcgJiYgZW1wbG95ZWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVkdWN0aW9uID0gY2FsY3VsYXRlVW5wYWlkTGVhdmVEZWR1Y3Rpb24obGVhdmUsIGVtcGxveWVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5kZWR1Y3Rpb25WaWV3VW5sb2NrZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINi52LHYtiDYp9mE2K7YtdmFINmF2Lkg2KfZhNi52YXZhNipICjYp9iz2KrYrtiv2KfZhSDYp9mE2LnZhdmE2Kkg2KfZhNmF2K3ZgdmI2LjYqSDYpdmGINmI2KzYr9iqKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVuY3kgPSBsZWF2ZS5zYWxhcnlDdXJyZW5jeUF0TGVhdmUgfHwgZW1wbG95ZWUuY3VycmVudFNhbGFyeUN1cnJlbmN5IHx8ICdJUUQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVuY3lTeW1ib2wgPSBjdXJyZW5jeSA9PT0gJ1VTRCcgPyAnJCcgOiAn2K8u2LknOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVkdWN0aW9uRGlzcGxheSA9IGRlZHVjdGlvbiAhPT0gbnVsbCA/IGZvcm1hdE51bWJlcihkZWR1Y3Rpb24pICsgJyAnICsgY3VycmVuY3lTeW1ib2wgOiAnLSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWR1Y3Rpb25EaXNwbGF5ID0gZGVkdWN0aW9uICE9PSBudWxsID8gJyoqKionIDogJy0nOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHJldHVybiBgCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2VtcGxveWVlTmFtZX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7Z2V0TGVhdmVUeXBlTmFtZShsZWF2ZS50eXBlLCBsZWF2ZSl9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3N0YXJ0RGF0ZX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZW5kRGF0ZX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZHVyYXRpb259PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48c3BhbiBjbGFzcz0iYmFkZ2UgJHtzdGF0dXNCYWRnZX0iPiR7c3RhdHVzTmFtZX08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iZm9udC13ZWlnaHQ6ICR7bGVhdmUudHlwZSA9PT0gJ3VucGFpZCcgPyAnYm9sZCcgOiAnbm9ybWFsJ307IGNvbG9yOiAke2xlYXZlLnR5cGUgPT09ICd1bnBhaWQnID8gJyNkYzM1NDUnIDogJ2luaGVyaXQnfTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7ZGVkdWN0aW9uRGlzcGxheX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtsZWF2ZS5ub3RlcyB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYWN0aW9uLWJ1dHRvbnMiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogbm93cmFwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHthY3Rpb25CdXR0b25zfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfSkuam9pbignJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGNvdW50RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVzQ291bnQnKTsKICAgICAgICAgICAgaWYgKGNvdW50RWwpIHsKICAgICAgICAgICAgICAgIGNvdW50RWwudGV4dENvbnRlbnQgPSBg2KXYrNmF2KfZhNmKINin2YTYpdis2KfYstin2Ko6ICR7ZmlsdGVyZWQubGVuZ3RofWA7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNsZWFyTGVhdmVGaWx0ZXJzKCkgewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVTZWFyY2gnKS52YWx1ZSA9ICcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVUeXBlRmlsdGVyJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlU3RhdHVzRmlsdGVyJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZGlzcGxheUxlYXZlcygpOwogICAgICAgICAgICB1cGRhdGVMZWF2ZXNDb3VudCgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdXBkYXRlTGVhdmVzQ291bnQoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZXNDb3VudCcpLnRleHRDb250ZW50ID0gYNil2KzZhdin2YTZiiDYp9mE2KXYrNin2LLYp9iqOiAke2xlYXZlc0RhdGEubGVuZ3RofWA7CiAgICAgICAgfQoKICAgICAgICBhc3luYyBmdW5jdGlvbiBzaG93QWRkTGVhdmVGb3JtKCkgewogICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICBjb25zdCBzZXNzaW9uSWQgPSAnZGVidWctc2Vzc2lvbi0nICsgRGF0ZS5ub3coKTsKICAgICAgICAgICAgY29uc3QgcnVuSWQgPSAncnVuMSc7CiAgICAgICAgICAgIGNvbnN0IGVkaXRpbmdMZWF2ZUlkQmVmb3JlID0gZWRpdGluZ0xlYXZlSWQ7CiAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1TSE9XXSBzaG93QWRkTGVhdmVGb3JtKCkgLSBlZGl0aW5nTGVhdmVJZCDZgtio2YQ6JywgZWRpdGluZ0xlYXZlSWRCZWZvcmUpOwogICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgIAogICAgICAgICAgICBlZGl0aW5nTGVhdmVJZCA9IG51bGw7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtU0hPV10gc2hvd0FkZExlYXZlRm9ybSgpIC0gZWRpdGluZ0xlYXZlSWQg2KjYudivOicsIGVkaXRpbmdMZWF2ZUlkKTsKICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNb2RhbCcpOwogICAgICAgICAgICBpZiAoIW1vZGFsKSB7CiAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgLy8g2KrZhSDYpdiy2KfZhNipINin2LPYqtiv2LnYp9ihIGxvZ2dpbmcg2KfZhNiu2KfYsdis2YoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1TSE9XXSDYp9mE2YbYp9mB2LDYqSDYutmK2LEg2YXZiNis2YjYr9ipIScpOwogICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYqti32KjZitmCINin2YTYqtix2KzZhdin2Kog2YLYqNmEINmB2KrYrSDYp9mE2YbYp9mB2LDYqQogICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9ucygpOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlU3VibWl0QnRuJyk7CiAgICAgICAgICAgIGlmIChzdWJtaXRCdG4pIHsKICAgICAgICAgICAgICAgIHN1Ym1pdEJ0bi5zZXRBdHRyaWJ1dGUoJ29uY2xpY2snLCAnYWRkTGVhdmUoKScpOwogICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgIGNvbnN0IG9uY2xpY2tBZnRlciA9IHN1Ym1pdEJ0bi5nZXRBdHRyaWJ1dGUoJ29uY2xpY2snKTsKICAgICAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtU0hPV10gb25jbGljayDYqNi52K8g2KfZhNiq2LnZitmK2YY6Jywgb25jbGlja0FmdGVyKTsKICAgICAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUxFQVZFLVNIT1ddINin2YTYstixIGxlYXZlU3VibWl0QnRuINi62YrYsSDZhdmI2KzZiNivIScpOwogICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDZhdiz2K0g2KfZhNmG2YjYuSDYp9mE2KPYtdmE2Yog2KfZhNmF2K3ZgdmI2Lgg2LnZhtivINmB2KrYrSDYp9mE2YbYp9mB2LDYqQogICAgICAgICAgICBjb25zdCBsZWF2ZVR5cGVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVUeXBlJyk7CiAgICAgICAgICAgIGlmIChsZWF2ZVR5cGVTZWxlY3QpIHsKICAgICAgICAgICAgICAgIGxlYXZlVHlwZVNlbGVjdC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdHlwZScpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYqtit2YXZitmEINin2YTZhdmI2LjZgdmK2YYg2KXYsNinINmE2YUg2KrZg9mGINmF2K3ZhdmE2Kkg2KjYp9mE2YHYudmECiAgICAgICAgICAgIGlmICghZW1wbG95ZWVzRGF0YSB8fCBlbXBsb3llZXNEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9is2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNmF2YjYuNmB2YrZhi4uLicpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZEVtcGxveWVlcygpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYqtit2K/ZitirINmC2KfYptmF2Kkg2KfZhNmF2YjYuNmB2YrZhgogICAgICAgICAgICBjb25zdCBlbXBsb3llZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW1wbG95ZWVJZCcpOwogICAgICAgICAgICBjb25zdCBlbXBsb3llZURhdGFsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW1wbG95ZWVMaXN0Jyk7CiAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlSGlkZGVuSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVFbXBsb3llZUlkSGlkZGVuJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoZW1wbG95ZWVJbnB1dCAmJiBlbXBsb3llZURhdGFsaXN0KSB7CiAgICAgICAgICAgICAgICAvLyDZhdiz2K0g2KfZhNmC2KfYptmF2Kkg2KfZhNiz2KfYqNmC2KkKICAgICAgICAgICAgICAgIGVtcGxveWVlRGF0YWxpc3QuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgICAgICAgICBlbXBsb3llZUlucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVIaWRkZW5JbnB1dCkgZW1wbG95ZWVIaWRkZW5JbnB1dC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVzRGF0YSAmJiBlbXBsb3llZXNEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyDYqtix2KrZitioINin2YTZhdmI2LjZgdmK2YYg2K3Ys9ioINin2YTYp9iz2YUKICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRFbXBsb3llZXMgPSBbLi4uZW1wbG95ZWVzRGF0YV0uc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lQSA9IChhLm5hbWUgfHwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lQiA9IChiLm5hbWUgfHwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZUEubG9jYWxlQ29tcGFyZShuYW1lQiwgJ2FyJyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgc29ydGVkRW1wbG95ZWVzLmZvckVhY2goZW1wID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gYCR7ZW1wLm5hbWUgfHwgJ9io2K/ZiNmGINin2LPZhSd9JHtlbXAuZW1wbG95ZWVOdW1iZXIgPyAnICgnICsgZW1wLmVtcGxveWVlTnVtYmVyICsgJyknIDogJyd9YDsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gZGlzcGxheVRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZW1wbG95ZWUtaWQnLCBlbXAuaWQpOwogICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZURhdGFsaXN0LmFwcGVuZENoaWxkKG9wdGlvbik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINil2LbYp9mB2KkgZXZlbnQgbGlzdGVuZXIg2YTYrdiz2KfYqCDYp9mE2KXYrNin2LLYp9iqINin2YTZhdiq2KjZgtmK2Kkg2LnZhtivINin2K7YqtmK2KfYsSDYp9mE2YXZiNi42YEKICAgICAgICAgICAgICAgIGVtcGxveWVlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFZhbHVlID0gdGhpcy52YWx1ZS50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dFZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZUhpZGRlbklucHV0KSBlbXBsb3llZUhpZGRlbklucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlQmFsYW5jZUluZm8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhbGFuY2VJbmZvKSBiYWxhbmNlSW5mby5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINin2YTYqNit2Ksg2LnZhiDYp9mE2YXZiNi42YEg2KfZhNmF2LfYp9io2YIKICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGluZ09wdGlvbiA9IEFycmF5LmZyb20oZW1wbG95ZWVEYXRhbGlzdC5vcHRpb25zKS5maW5kKG9wdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHQudmFsdWUgPT09IGlucHV0VmFsdWUgfHwgb3B0LnZhbHVlLmluY2x1ZGVzKGlucHV0VmFsdWUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ09wdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbXBsb3llZUlkID0gbWF0Y2hpbmdPcHRpb24uZ2V0QXR0cmlidXRlKCdkYXRhLWVtcGxveWVlLWlkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZUhpZGRlbklucHV0KSBlbXBsb3llZUhpZGRlbklucHV0LnZhbHVlID0gZW1wbG95ZWVJZDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZUxlYXZlQmFsYW5jZShlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYqNit2Ksg2YHZiiDYrNmF2YrYuSDYp9mE2K7Zitin2LHYp9iqINmE2YTYudir2YjYsSDYudmE2Ykg2YXYt9in2KjZgtipINis2LLYptmK2KkKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm91bmRPcHRpb24gPSBBcnJheS5mcm9tKGVtcGxveWVlRGF0YWxpc3Qub3B0aW9ucykuZmluZChvcHQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdC52YWx1ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGlucHV0VmFsdWUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kT3B0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbXBsb3llZUlkID0gZm91bmRPcHRpb24uZ2V0QXR0cmlidXRlKCdkYXRhLWVtcGxveWVlLWlkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVIaWRkZW5JbnB1dCkgZW1wbG95ZWVIaWRkZW5JbnB1dC52YWx1ZSA9IGVtcGxveWVlSWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZUxlYXZlQmFsYW5jZShlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZUhpZGRlbklucHV0KSBlbXBsb3llZUhpZGRlbklucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWxhbmNlSW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUJhbGFuY2VJbmZvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFsYW5jZUluZm8pIGJhbGFuY2VJbmZvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYttin2YHYqSBldmVudCBsaXN0ZW5lciDYudmG2K8g2KfYrtiq2YrYp9ixINmF2YYg2KfZhNmC2KfYptmF2Kkg2KfZhNmF2YbYs9iv2YTYqQogICAgICAgICAgICAgICAgZW1wbG95ZWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFZhbHVlID0gdGhpcy52YWx1ZS50cmltKCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dFZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZUhpZGRlbklucHV0KSBlbXBsb3llZUhpZGRlbklucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlQmFsYW5jZUluZm8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhbGFuY2VJbmZvKSBiYWxhbmNlSW5mby5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nT3B0aW9uID0gQXJyYXkuZnJvbShlbXBsb3llZURhdGFsaXN0Lm9wdGlvbnMpLmZpbmQob3B0ID0+IG9wdC52YWx1ZSA9PT0gaW5wdXRWYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nT3B0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlSWQgPSBtYXRjaGluZ09wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZW1wbG95ZWUtaWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSGlkZGVuSW5wdXQpIGVtcGxveWVlSGlkZGVuSW5wdXQudmFsdWUgPSBlbXBsb3llZUlkOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlTGVhdmVCYWxhbmNlKGVtcGxveWVlSWQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmE2YUg2YrYqtmFINin2YTYudir2YjYsSDYudmE2Ykg2YXYt9in2KjZgtipINiv2YLZitmC2KnYjCDYp9mE2KjYrdirINi52YYg2YXYt9in2KjZgtipINis2LLYptmK2KkKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZm91bmRPcHRpb24gPSBBcnJheS5mcm9tKGVtcGxveWVlRGF0YWxpc3Qub3B0aW9ucykuZmluZChvcHQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdC52YWx1ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGlucHV0VmFsdWUudG9Mb3dlckNhc2UoKSkgfHwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG9wdC52YWx1ZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRPcHRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlSWQgPSBmb3VuZE9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZW1wbG95ZWUtaWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZUhpZGRlbklucHV0KSBlbXBsb3llZUhpZGRlbklucHV0LnZhbHVlID0gZW1wbG95ZWVJZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBmb3VuZE9wdGlvbi52YWx1ZTsgLy8g2KrYrdiv2YrYqyDYp9mE2YbYtSDYp9mE2YXYudix2YjYtgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVMZWF2ZUJhbGFuY2UoZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitiq2YUg2KfZhNi52KvZiNixINi52YTZiSDYo9mKINmF2LfYp9io2YLYqdiMINmF2LPYrSDYp9mE2YLZitmF2KkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZUhpZGRlbklucHV0KSBlbXBsb3llZUhpZGRlbklucHV0LnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYWxhbmNlSW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUJhbGFuY2VJbmZvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFsYW5jZUluZm8pIGJhbGFuY2VJbmZvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINin2K7YqtmK2KfYsSDZhdmI2LjZgSDZhdmGINin2YTZgtin2KbZhdipJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2KrYrdiv2YrYqyDZgtin2KbZhdipINin2YTZhdmG2KfYt9mCCiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZUxlYXZlUmVnaW9uU2VsZWN0KCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDZhdiz2K0g2KfZhNit2YLZiNmEINmI2KrYudmK2YrZhiDYp9mE2YLZitmFINin2YTYp9mB2KrYsdin2LbZitipCiAgICAgICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07IC8vINiq2KfYsdmK2K4g2KfZhNmK2YjZhSDYqNi12YrYutipIFlZWVktTU0tREQKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2LPYqtiu2K/Yp9mFIGxlYXZlVHlwZVNlbGVjdCDYp9mE2YXZiNis2YjYryDYqNiv2YTYp9mLINmF2YYgZ2V0RWxlbWVudEJ5SWQg2YXYsdipINij2K7YsdmJCiAgICAgICAgICAgIGlmIChsZWF2ZVR5cGVTZWxlY3QpIHsKICAgICAgICAgICAgICAgIGxlYXZlVHlwZVNlbGVjdC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgaGFuZGxlTGVhdmVUeXBlQ2hhbmdlKCk7IC8vINil2K7Zgdin2KEv2KXYuNmH2KfYsSDYp9mE2K3ZgtmI2YQg2K3Ys9ioINin2YTZhtmI2LkKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlU3RhcnREYXRlJykudmFsdWUgPSB0b2RheTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW5kRGF0ZScpLnZhbHVlID0gdG9kYXk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUhvdXJzJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlU3RhdHVzJykudmFsdWUgPSAncGVuZGluZyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU5vdGVzJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LnYp9iv2Kkg2KrYudmK2YrZhiDYrdmC2YjZhCDYp9mE2YjZgtiqINmE2YTYpdis2KfYstipINin2YTYstmF2YbZitipCiAgICAgICAgICAgIGNvbnN0IGxlYXZlSG91cnNJbnB1dE1ldGhvZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUhvdXJzSW5wdXRNZXRob2QnKTsKICAgICAgICAgICAgY29uc3QgbGVhdmVTdGFydFRpbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVTdGFydFRpbWUnKTsKICAgICAgICAgICAgY29uc3QgbGVhdmVFbmRUaW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW5kVGltZScpOwogICAgICAgICAgICBpZiAobGVhdmVIb3Vyc0lucHV0TWV0aG9kKSBsZWF2ZUhvdXJzSW5wdXRNZXRob2QudmFsdWUgPSAnbWFudWFsJzsKICAgICAgICAgICAgaWYgKGxlYXZlU3RhcnRUaW1lKSBsZWF2ZVN0YXJ0VGltZS52YWx1ZSA9ICcnOwogICAgICAgICAgICBpZiAobGVhdmVFbmRUaW1lKSBsZWF2ZUVuZFRpbWUudmFsdWUgPSAnJzsKICAgICAgICAgICAgY29uc3QgbGVhdmVDYWxjdWxhdGVkSG91cnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVDYWxjdWxhdGVkSG91cnMnKTsKICAgICAgICAgICAgaWYgKGxlYXZlQ2FsY3VsYXRlZEhvdXJzKSBsZWF2ZUNhbGN1bGF0ZWRIb3Vycy50ZXh0Q29udGVudCA9ICcwJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LnYp9iv2Kkg2KrYudmK2YrZhiDYrdmC2YjZhCDYp9mE2YjZgtiqINmE2YTZhdmH2YXYqSDYp9mE2LLZhdmG2YrYqQogICAgICAgICAgICBjb25zdCBsZWF2ZU1pc3Npb25Ib3Vyc0lucHV0TWV0aG9kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlTWlzc2lvbkhvdXJzSW5wdXRNZXRob2QnKTsKICAgICAgICAgICAgY29uc3QgbGVhdmVNaXNzaW9uU3RhcnRUaW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlTWlzc2lvblN0YXJ0VGltZScpOwogICAgICAgICAgICBjb25zdCBsZWF2ZU1pc3Npb25FbmRUaW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlTWlzc2lvbkVuZFRpbWUnKTsKICAgICAgICAgICAgaWYgKGxlYXZlTWlzc2lvbkhvdXJzSW5wdXRNZXRob2QpIGxlYXZlTWlzc2lvbkhvdXJzSW5wdXRNZXRob2QudmFsdWUgPSAnbWFudWFsJzsKICAgICAgICAgICAgaWYgKGxlYXZlTWlzc2lvblN0YXJ0VGltZSkgbGVhdmVNaXNzaW9uU3RhcnRUaW1lLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGlmIChsZWF2ZU1pc3Npb25FbmRUaW1lKSBsZWF2ZU1pc3Npb25FbmRUaW1lLnZhbHVlID0gJyc7CiAgICAgICAgICAgIGNvbnN0IGxlYXZlTWlzc2lvbkNhbGN1bGF0ZWRIb3VycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1pc3Npb25DYWxjdWxhdGVkSG91cnMnKTsKICAgICAgICAgICAgaWYgKGxlYXZlTWlzc2lvbkNhbGN1bGF0ZWRIb3VycykgbGVhdmVNaXNzaW9uQ2FsY3VsYXRlZEhvdXJzLnRleHRDb250ZW50ID0gJzAnOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KXYudin2K/YqSDYqti52YrZitmGINi32LHZitmC2Kkg2KfZhNi52LHYtgogICAgICAgICAgICBoYW5kbGVMZWF2ZUhvdXJzTWV0aG9kQ2hhbmdlKCk7CiAgICAgICAgICAgIGhhbmRsZU1pc3Npb25Ib3Vyc01ldGhvZENoYW5nZSgpOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3QgbGVhdmVIb3Vyc0dyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlSG91cnNHcm91cCcpOwogICAgICAgICAgICBjb25zdCBsZWF2ZURlZHVjdGlvbkdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRGVkdWN0aW9uR3JvdXAnKTsKICAgICAgICAgICAgY29uc3QgbGVhdmVCYWxhbmNlSW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUJhbGFuY2VJbmZvJyk7CiAgICAgICAgICAgIGlmIChsZWF2ZUhvdXJzR3JvdXApIGxlYXZlSG91cnNHcm91cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBpZiAobGVhdmVEZWR1Y3Rpb25Hcm91cCkgbGVhdmVEZWR1Y3Rpb25Hcm91cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBpZiAobGVhdmVCYWxhbmNlSW5mbykgbGVhdmVCYWxhbmNlSW5mby5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KXYudin2K/YqSDYqti52YrZitmGIGNoZWNrYm94INin2YTYrti12YUKICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlRGVkdWN0aW9uQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVDYWxjdWxhdGVEZWR1Y3Rpb24nKTsKICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZURlZHVjdGlvbkNoZWNrYm94KSB7CiAgICAgICAgICAgICAgICBjYWxjdWxhdGVEZWR1Y3Rpb25DaGVja2JveC5jaGVja2VkID0gdHJ1ZTsgLy8g2KfZgdiq2LHYp9i22Yo6INmF2YHYudmR2YQKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBoaWRlQWRkTGVhdmVGb3JtKCkgewogICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICBjb25zdCBzZXNzaW9uSWQgPSAnZGVidWctc2Vzc2lvbi0nICsgRGF0ZS5ub3coKTsKICAgICAgICAgICAgY29uc3QgcnVuSWQgPSAncnVuMSc7CiAgICAgICAgICAgIGNvbnN0IGVkaXRpbmdMZWF2ZUlkQmVmb3JlID0gZWRpdGluZ0xlYXZlSWQ7CiAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1ISURFXSBoaWRlQWRkTGVhdmVGb3JtKCkgLSBlZGl0aW5nTGVhdmVJZCDZgtio2YQ6JywgZWRpdGluZ0xlYXZlSWRCZWZvcmUpOwogICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1vZGFsJyk7CiAgICAgICAgICAgIGlmIChtb2RhbCkgewogICAgICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWRpdGluZ0xlYXZlSWQgPSBudWxsOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgLy8g2KrZhSDYpdiy2KfZhNipINin2LPYqtiv2LnYp9ihIGxvZ2dpbmcg2KfZhNiu2KfYsdis2YoKICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUxFQVZFLUhJREVdIGhpZGVBZGRMZWF2ZUZvcm0oKSAtIGVkaXRpbmdMZWF2ZUlkINio2LnYrzonLCBlZGl0aW5nTGVhdmVJZCk7CiAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICB9CgogICAgICAgIC8vINiq2LrZitmK2LEg2YbZiNi5INin2YTYpdis2KfYstipINmE2KXYuNmH2KfYsS/Ypdiu2YHYp9ihINit2YLZhCDYp9mE2LPYp9i52KfYqgogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgY29uc3QgbGVhdmVUeXBlU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlVHlwZScpOwogICAgICAgICAgICBjb25zdCBsZWF2ZUhvdXJzR3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVIb3Vyc0dyb3VwJyk7CiAgICAgICAgICAgIGlmIChsZWF2ZVR5cGVTZWxlY3QgJiYgbGVhdmVIb3Vyc0dyb3VwKSB7CiAgICAgICAgICAgICAgICBsZWF2ZVR5cGVTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2K3Zgdi4INin2YTZhtmI2Lkg2KfZhNij2LXZhNmKINi52YbYryDYp9iu2KrZitin2LEg2YbZiNi5INin2YTYpdis2KfYstipINmE2KPZiNmEINmF2LHYqQogICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdHlwZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXR5cGUnLCB0aGlzLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09ICdob3VybHknKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZlSG91cnNHcm91cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW5kRGF0ZScpLnJlcXVpcmVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlID09PSAndW5wYWlkJykgewogICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZUhvdXJzR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW5kRGF0ZScpLnJlcXVpcmVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZUhvdXJzR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW5kRGF0ZScpLnJlcXVpcmVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBhc3luYyBmdW5jdGlvbiBhZGRMZWF2ZSgpIHsKICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbklkID0gJ2RlYnVnLXNlc3Npb24tJyArIERhdGUubm93KCk7CiAgICAgICAgICAgIGNvbnN0IHJ1bklkID0gJ3J1bjEnOwogICAgICAgICAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVTdWJtaXRCdG4nKTsKICAgICAgICAgICAgY29uc3Qgb25jbGlja1ZhbHVlID0gc3VibWl0QnRuID8gc3VibWl0QnRuLmdldEF0dHJpYnV0ZSgnb25jbGljaycpIDogJ9i62YrYsSDZhdmI2KzZiNivJzsKICAgICAgICAgICAgLy8g2KrZhSDYpdiy2KfZhNipINin2LPYqtiv2LnYp9ihIGxvZ2dpbmcg2KfZhNiu2KfYsdis2YoKICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUxFQVZFLUFERF0g2KjYr9ihIGFkZExlYXZlKCksIGVkaXRpbmdMZWF2ZUlkOicsIGVkaXRpbmdMZWF2ZUlkLCAnb25jbGljazonLCBvbmNsaWNrVmFsdWUpOwogICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoZWRpdGluZ0xlYXZlSWQpIHsKICAgICAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUxFQVZFLUFERF0g4pqg77iPIGVkaXRpbmdMZWF2ZUlkINmF2YjYrNmI2K/YjCDYp9iz2KrYr9i52KfYoSB1cGRhdGVMZWF2ZSgpIC0g2YfYsNinINmC2K8g2YrZg9mI2YYg2K7Yt9ijIScpOwogICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgdXBkYXRlTGVhdmUoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2YLYsdin2KHYqSBJRCDYp9mE2YXZiNi42YEg2YXZhiDYp9mE2K3ZgtmEINin2YTZhdiu2YHZigogICAgICAgICAgICBjb25zdCBlbXBsb3llZUhpZGRlbklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW1wbG95ZWVJZEhpZGRlbicpOwogICAgICAgICAgICBjb25zdCBlbXBsb3llZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW1wbG95ZWVJZCcpOwogICAgICAgICAgICBsZXQgZW1wbG95ZWVJZCA9IGVtcGxveWVlSGlkZGVuSW5wdXQgPyBlbXBsb3llZUhpZGRlbklucHV0LnZhbHVlIDogJyc7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitmD2YYg2YfZhtin2YMgSUQg2YHZiiDYp9mE2K3ZgtmEINin2YTZhdiu2YHZitiMINit2KfZiNmEINin2YTYqNit2Ksg2YXZhiDYp9mE2YbYtSDYp9mE2YXYr9iu2YQKICAgICAgICAgICAgaWYgKCFlbXBsb3llZUlkICYmIGVtcGxveWVlSW5wdXQgJiYgZW1wbG95ZWVJbnB1dC52YWx1ZS50cmltKCkpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW1wbG95ZWVMaXN0Jyk7CiAgICAgICAgICAgICAgICBpZiAoZGF0YWxpc3QpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGluZ09wdGlvbiA9IEFycmF5LmZyb20oZGF0YWxpc3Qub3B0aW9ucykuZmluZChvcHQgPT4gb3B0LnZhbHVlID09PSBlbXBsb3llZUlucHV0LnZhbHVlLnRyaW0oKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nT3B0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSWQgPSBtYXRjaGluZ09wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZW1wbG95ZWUtaWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSWQgJiYgZW1wbG95ZWVIaWRkZW5JbnB1dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVIaWRkZW5JbnB1dC52YWx1ZSA9IGVtcGxveWVlSWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghZW1wbG95ZWVJZCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYsdis2KfYoSDYp9iu2KrZitin2LEg2YXZiNi42YEg2LXYrdmK2K0g2YXZhiDYp9mE2YLYp9im2YXYqScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBsZWF2ZVR5cGVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVUeXBlJyk7CiAgICAgICAgICAgIGlmICghbGVhdmVUeXBlU2VsZWN0KSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijOiDZhNmFINmK2KrZhSDYp9mE2LnYq9mI2LEg2LnZhNmJINit2YLZhCDZhtmI2Lkg2KfZhNil2KzYp9iy2KknKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgbGV0IHR5cGUgPSBsZWF2ZVR5cGVTZWxlY3QudmFsdWU7IC8vINiq2LrZitmK2LEg2KXZhNmJIGxldCDZhNmE2LPZhdin2K0g2KjYp9mE2KrYudiv2YrZhAogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KrYrdiv2YrYryDYp9mE2YbZiNi5INin2YTYo9i12YTZiiAo2KXYsNinINmE2YUg2YrZg9mGINmF2K3Yr9iv2KfZi9iMINin2LPYqtiu2K/ZhSDYp9mE2YbZiNi5INin2YTYrdin2YTZiikKICAgICAgICAgICAgbGV0IG9yaWdpbmFsVHlwZSA9IGxlYXZlVHlwZVNlbGVjdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdHlwZScpOwogICAgICAgICAgICBpZiAoIW9yaWdpbmFsVHlwZSkgewogICAgICAgICAgICAgICAgb3JpZ2luYWxUeXBlID0gdHlwZTsgLy8g2KXYsNinINmE2YUg2YrZg9mGINmH2YbYp9mDINmG2YjYuSDYo9i12YTZiiDZhdit2YHZiNi42Iwg2YHYp9mE2YbZiNi5INin2YTYrdin2YTZiiDZh9mIINin2YTYo9i12YTZigogICAgICAgICAgICAgICAgbGVhdmVUeXBlU2VsZWN0LnNldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10eXBlJywgdHlwZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZVN0YXJ0RGF0ZScpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBlbmREYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW5kRGF0ZScpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBob3VycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUhvdXJzJykudmFsdWU7CiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZVN0YXR1cycpLnZhbHVlIHx8ICdwZW5kaW5nJzsKICAgICAgICAgICAgY29uc3Qgbm90ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVOb3RlcycpLnZhbHVlLnRyaW0oKTsKCiAgICAgICAgICAgIGlmICghZW1wbG95ZWVJZCB8fCAhdHlwZSB8fCAhc3RhcnREYXRlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINil2K/Yrtin2YQg2KzZhdmK2Lkg2KfZhNit2YLZiNmEINin2YTZhdi32YTZiNio2KknKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNix2LXZitivINmE2YTYpdis2KfYstin2Kog2KfZhNi02YfYsdmK2KkgKNmC2KjZhCDYp9mE2KrYrdmC2YIg2YXZhiBlbmREYXRlKQogICAgICAgICAgICAvLyDZhNij2YYgZW5kRGF0ZSDZgtivINmE2Kcg2YrZg9mI2YYg2YXYt9mE2YjYqNin2Ysg2KXYsNinINiq2YUg2KfZhNiq2K3ZiNmK2YQg2KXZhNmJINio2K/ZiNmGINix2KfYqtioCiAgICAgICAgICAgIGxldCBuZWVkc0VuZERhdGUgPSB0cnVlOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2hvdXJseScgfHwgdHlwZSA9PT0gJ3VucGFpZCcpIHsKICAgICAgICAgICAgICAgIG5lZWRzRW5kRGF0ZSA9IGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobmVlZHNFbmREYXRlICYmICFlbmREYXRlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINil2K/Yrtin2YQg2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0eXBlID09PSAnaG91cmx5JyAmJiAhaG91cnMpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDYudiv2K8g2KfZhNiz2KfYudin2KonKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2YbZiNi5INin2YTZhdmH2YXYqSDZhNmF2YfZhdipINin2YTYudmF2YQKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICd3b3JrLW1pc3Npb24nKSB7CiAgICAgICAgICAgICAgICBjb25zdCBtaXNzaW9uVHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1pc3Npb25UeXBlJyk/LnZhbHVlOwogICAgICAgICAgICAgICAgaWYgKCFtaXNzaW9uVHlwZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KfYrtiq2YrYp9ixINmG2YjYuSDYp9mE2YXZh9mF2KkgKNiy2YXZhtmK2Kkg2KPZiCDZitmI2YUg2YPYp9mF2YQpJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKG1pc3Npb25UeXBlID09PSAnaG91cmx5JykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pc3Npb25Ib3VycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1pc3Npb25Ib3VycycpPy52YWx1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoIW1pc3Npb25Ib3VycyB8fCBwYXJzZUZsb2F0KG1pc3Npb25Ib3VycykgPD0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINil2K/Yrtin2YQg2LnYr9ivINiz2KfYudin2Kog2KfZhNmF2YfZhdipJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1pc3Npb25UeXBlID09PSAnZnVsbC1kYXknICYmICFlbmREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYsdis2KfYoSDYpdiv2K7Yp9mEINiq2KfYsdmK2K4g2KfZhNin2YbYqtmH2KfYoSDZhNmF2YfZhdipINin2YTYudmF2YQgKNmK2YjZhSDZg9in2YXZhCknKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vINmF2KrYutmK2LHYp9iqINmE2KrYrtiy2YrZhiDZhdi52YTZiNmF2KfYqiDYp9mE2KrZgtiz2YrZhSAo2KXYsNinINmE2LLZhSDYp9mE2KPZhdixKQogICAgICAgICAgICBsZXQgc2hvdWxkU3BsaXRMZWF2ZSA9IGZhbHNlOwogICAgICAgICAgICBsZXQgcGFpZEhvdXJzID0gMDsKICAgICAgICAgICAgbGV0IHVucGFpZEhvdXJzID0gMDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYsdi12YrYryDZhNmE2KXYrNin2LLYp9iqINin2YTYstmF2YbZitipCiAgICAgICAgICAgIGlmICh0eXBlID09PSAnaG91cmx5JyAmJiBob3VycykgewogICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWUgPSBlbXBsb3llZXNEYXRhLmZpbmQoZSA9PiBlLmlkID09PSBlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJseUxlYXZlSG91cnMgPSBlbXBsb3llZS5ob3VybHlMZWF2ZUhvdXJzIHx8IDg7CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdERheU9mTW9udGggPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINit2LPYp9ioINin2YTYpdis2KfYstin2Kog2KfZhNiy2YXZhtmK2Kkg2KfZhNmF2LPYqtiu2K/ZhdipINmB2Yog2KfZhNi02YfYsSDYp9mE2K3Yp9mE2YoKICAgICAgICAgICAgICAgICAgICBsZXQgaG91cmx5VXNlZCA9IDA7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG91cmx5TGVhdmVzID0gbGVhdmVzRGF0YS5maWx0ZXIobCA9PiAKICAgICAgICAgICAgICAgICAgICAgICAgbC5lbXBsb3llZUlkID09PSBlbXBsb3llZUlkICYmIAogICAgICAgICAgICAgICAgICAgICAgICBsLnR5cGUgPT09ICdob3VybHknICYmIAogICAgICAgICAgICAgICAgICAgICAgICBsLnN0YXR1cyA9PT0gJ2FwcHJvdmVkJwogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaG91cmx5TGVhdmVzLmZvckVhY2gobGVhdmUgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVhdmUuc3RhcnREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZURhdGUgPSBuZXcgRGF0ZShsZWF2ZS5zdGFydERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhtiqINin2YTYpdis2KfYstipINmB2Yog2KfZhNi02YfYsSDYp9mE2K3Yp9mE2YoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWF2ZURhdGUgPj0gZmlyc3REYXlPZk1vbnRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cmx5VXNlZCArPSAobGVhdmUuaG91cnMgfHwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBjb25zdCBob3VybHlCYWxhbmNlID0gaG91cmx5TGVhdmVIb3VycyAtIGhvdXJseVVzZWQ7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVxdWlyZWRIb3VycyA9IHBhcnNlRmxvYXQoaG91cnMpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2KfZhNix2LXZitivINi62YrYsSDZg9in2YHZiiAo2LXZgdixINij2Ygg2LPYp9mE2KgpINij2Ygg2KfZhNmF2LfZhNmI2Kgg2YrYqtis2KfZiNiyINin2YTYsdi12YrYryDYp9mE2YXYqtin2K0KICAgICAgICAgICAgICAgICAgICBpZiAoaG91cmx5QmFsYW5jZSA8PSAwIHx8IGhvdXJseUJhbGFuY2UgPCByZXF1aXJlZEhvdXJzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb25maXJtTWVzc2FnZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG91cmx5QmFsYW5jZSA8IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYsdi12YrYryDYp9mE2LPYp9mE2KgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1NZXNzYWdlID0gYOKaoO+4jyDYp9mE2LHYtdmK2K8g2KfZhNiy2YXZhtmKINin2YTYrdin2YTZijogJHtob3VybHlCYWxhbmNlLnRvRml4ZWQoMSl9INiz2KfYudipICjYsdi12YrYryDYs9in2YTYqClcblxu2KfZhNmF2LfZhNmI2Kg6ICR7cmVxdWlyZWRIb3Vyc30g2LPYp9i52Klcblxu2LPZitiq2YUg2KrYs9is2YrZhCDYp9mE2KXYrNin2LLYqSDYqtmE2YLYp9im2YrYp9mLINmD2YAgItil2KzYp9iy2Kkg2KjYr9mI2YYg2LHYp9iq2KgiINmE2KPZhiDYp9mE2LHYtdmK2K8g2KfZhNiy2YXZhtmKINiz2KfZhNioLlxuXG7Zh9mEINiq2LHZitivINin2YTZhdiq2KfYqNi52KnYn2A7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaG91cmx5QmFsYW5jZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNix2LXZitivINi12YHYsQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybU1lc3NhZ2UgPSBg4pqg77iPINin2YTYsdi12YrYryDYp9mE2LLZhdmG2Yog2KfZhNit2KfZhNmKOiAke2hvdXJseUJhbGFuY2UudG9GaXhlZCgxKX0g2LPYp9i52KkgKNix2LXZitivINi12YHYsSlcblxu2KfZhNmF2LfZhNmI2Kg6ICR7cmVxdWlyZWRIb3Vyc30g2LPYp9i52Klcblxu2LPZitiq2YUg2KrYs9is2YrZhCDYp9mE2KXYrNin2LLYqSDYqtmE2YLYp9im2YrYp9mLINmD2YAgItil2KzYp9iy2Kkg2KjYr9mI2YYg2LHYp9iq2KgiINmE2KPZhiDYp9mE2LHYtdmK2K8g2KfZhNiy2YXZhtmKINi12YHYsS5cblxu2YfZhCDYqtix2YrYryDYp9mE2YXYqtin2KjYudip2J9gOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNix2LXZitivINmF2YjYrNioINmE2YPZhiDYutmK2LEg2YPYp9mB2YogLSDYqtmC2LPZitmFINin2YTYpdis2KfYstipCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG9ydGFnZSA9IHJlcXVpcmVkSG91cnMgLSBob3VybHlCYWxhbmNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybU1lc3NhZ2UgPSBg4pqg77iPINin2YTYsdi12YrYryDYp9mE2LLZhdmG2Yog2KfZhNmF2KrYp9itOiAke2hvdXJseUJhbGFuY2UudG9GaXhlZCgxKX0g2LPYp9i52Klcbtin2YTZhdi32YTZiNioOiAke3JlcXVpcmVkSG91cnN9INiz2KfYudipXG7Yp9mE2YbZgti1OiAke3Nob3J0YWdlLnRvRml4ZWQoMSl9INiz2KfYudipXG5cbtiz2YrYqtmFINiq2YLYs9mK2YUg2KfZhNil2KzYp9iy2Kkg2KrZhNmC2KfYptmK2KfZizpcbuKAoiDYpdis2KfYstipINiy2YXZhtmK2Kk6ICR7aG91cmx5QmFsYW5jZS50b0ZpeGVkKDEpfSDYs9in2LnYqSAo2YXZhiDYp9mE2LHYtdmK2K8pXG7igKIg2KXYrNin2LLYqSDYqNiv2YjZhiDYsdin2KrYqDogJHtzaG9ydGFnZS50b0ZpeGVkKDEpfSDYs9in2LnYqSAo2KfZhNio2KfZgtmKKVxuXG7Zh9mEINiq2LHZitivINin2YTZhdiq2KfYqNi52KnYn2A7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRTcGxpdExlYXZlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhaWRIb3VycyA9IGhvdXJseUJhbGFuY2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnBhaWRIb3VycyA9IHNob3J0YWdlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpcm0oY29uZmlybU1lc3NhZ2UpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LjZh9in2LEg2K7Zitin2LEg2KfZhNiu2LXZhSDYudmG2K8g2KrZgtiz2YrZhSDYp9mE2KXYrNin2LLYqQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU3BsaXRMZWF2ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhdmVEZWR1Y3Rpb25Hcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZURlZHVjdGlvbkdyb3VwJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVhdmVEZWR1Y3Rpb25Hcm91cCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZlRGVkdWN0aW9uR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvdWxkU3BsaXRMZWF2ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KrYrdmI2YrZhCDZhtmI2Lkg2KfZhNil2KzYp9iy2Kkg2KXZhNmJINio2K/ZiNmGINix2KfYqtioICjZhNmE2LHYtdmK2K8g2KfZhNiz2KfZhNioINij2Ygg2KfZhNi12YHYsSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsVHlwZSA9ICdob3VybHknOyAvLyDYrdmB2Lgg2KfZhNmG2YjYuSDYp9mE2KPYtdmE2YoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZlVHlwZVNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdHlwZScsICdob3VybHknKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZlVHlwZVNlbGVjdC52YWx1ZSA9ICd1bnBhaWQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICd1bnBhaWQnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYpdi42YfYp9ixINiu2YrYp9ixINin2YTYrti12YUg2LnZhtivINin2YTYqtit2YjZitmEINil2YTZiSDYqNiv2YjZhiDYsdin2KrYqAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhdmVEZWR1Y3Rpb25Hcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZURlZHVjdGlvbkdyb3VwJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVhdmVEZWR1Y3Rpb25Hcm91cCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZlRGVkdWN0aW9uR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2K7Zgdin2KEg2K3ZgtmEINin2YTYs9in2LnYp9iqINi52YbYryDYp9mE2KrYrdmI2YrZhCDYpdmE2Ykg2KjYr9mI2YYg2LHYp9iq2KgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZlSG91cnNHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUhvdXJzR3JvdXAnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWF2ZUhvdXJzR3JvdXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZUhvdXJzR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2YXYqti62YrYsdin2Kog2YTYqtiu2LLZitmGINmF2LnZhNmI2YXYp9iqINin2YTYqtmC2LPZitmFINmE2YTYpdis2KfYstin2Kog2KfZhNi02YfYsdmK2KkKICAgICAgICAgICAgbGV0IHNob3VsZFNwbGl0TW9udGhseUxlYXZlID0gZmFsc2U7CiAgICAgICAgICAgIGxldCBwYWlkRGF5cyA9IDA7CiAgICAgICAgICAgIGxldCB1bnBhaWREYXlzID0gMDsKICAgICAgICAgICAgbGV0IHBhaWRFbmREYXRlID0gbnVsbDsKICAgICAgICAgICAgbGV0IHVucGFpZFN0YXJ0RGF0ZSA9IG51bGw7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2LHYtdmK2K8g2YTZhNil2KzYp9iy2KfYqiDYp9mE2LTZh9ix2YrYqQogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21vbnRobHknICYmIGVuZERhdGUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlID0gZW1wbG95ZWVzRGF0YS5maW5kKGUgPT4gZS5pZCA9PT0gZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtb250aGx5TGVhdmVEYXlzID0gZW1wbG95ZWUubW9udGhseUxlYXZlRGF5cyB8fCAyLjU7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbEJhbGFuY2UgPSBlbXBsb3llZS5pbml0aWFsTGVhdmVCYWxhbmNlIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50cnlEYXRlID0gZW1wbG95ZWUuc3lzdGVtRW50cnlEYXRlIHx8IGVtcGxveWVlLmhpcmVEYXRlOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbE1vbnRobHlMZWF2ZXMgPSAwOwogICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeURhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3lzdGVtRW50cnlEYXRlID0gbmV3IERhdGUoZW50cnlEYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtRW50cnlEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApOyAvLyDYttio2Lcg2KfZhNmI2YLYqiDYpdmE2Ykg2KjYr9in2YrYqSDYp9mE2YrZiNmFCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vdy5zZXRIb3VycygwLCAwLCAwLCAwKTsgLy8g2LbYqNi3INin2YTZiNmC2Kog2KXZhNmJINio2K/Yp9mK2Kkg2KfZhNmK2YjZhQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2LnYr9ivINin2YTYo9i02YfYsSDYqNiv2YLYqSAo2YXYsdin2LnYp9ipINin2YTYo9mK2KfZhSkKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vbnRoc0RpZmYgPSAobm93LmdldEZ1bGxZZWFyKCkgLSBzeXN0ZW1FbnRyeURhdGUuZ2V0RnVsbFllYXIoKSkgKiAxMiArIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5vdy5nZXRNb250aCgpIC0gc3lzdGVtRW50cnlEYXRlLmdldE1vbnRoKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2YrZiNmFINin2YTYrdin2YTZiiA8INmK2YjZhSDYp9mE2KXYr9ix2KfYrNiMINmE2Kcg2YbYrdiz2Kgg2KfZhNi02YfYsSDYp9mE2K3Yp9mE2YoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdy5nZXREYXRlKCkgPCBzeXN0ZW1FbnRyeURhdGUuZ2V0RGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aHNEaWZmIC09IDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYqtij2YPYryDZhdmGINij2YYg2LnYr9ivINin2YTYo9i02YfYsSDZhNmK2LMg2LPYp9mE2KjYp9mLCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb250aHNEaWZmIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhzRGlmZiA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9udGhseUxlYXZlcyA9IChtb250aHNEaWZmICogbW9udGhseUxlYXZlRGF5cykgKyBpbml0aWFsQmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbE1vbnRobHlMZWF2ZXMgPSBpbml0aWFsQmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2KfZhNil2KzYp9iy2KfYqiDYp9mE2YXYs9iq2K7Yr9mF2KkKICAgICAgICAgICAgICAgICAgICAvLyDZhdmE2KfYrdi42Kk6IAogICAgICAgICAgICAgICAgICAgIC8vIDEuINis2YXZiti5INin2YTYpdis2KfYstin2Kog2YXZhiDZhtmI2LkgIm1vbnRobHkiINiq2Y/Yrdiz2Kgg2YHZiiDYp9mE2LHYtdmK2K8g2KfZhNmF2LPYqtiu2K/ZhQogICAgICAgICAgICAgICAgICAgIC8vIDIuINin2YTYpdis2KfYstin2Kog2YXZhiDZhtmI2LkgInVucGFpZCIg2KfZhNiq2Yog2KrZhSDYqtit2YjZitmE2YfYpyDZhdmGICJtb250aGx5IiAoY29udmVydGVkRnJvbU1vbnRobHkgPT09IHRydWUpINiq2Y/Yrdiz2Kgg2KPZiti22KfZiwogICAgICAgICAgICAgICAgICAgIC8vIDMuINin2YTYpdis2KfYstin2Kog2YXZhiDZhtmI2LkgInVucGFpZCIg2KfZhNmF2KjYp9i02LHYqSAo2LrZitixINmF2K3ZiNmE2KkpINmE2Kcg2KrZj9it2LPYqCDZgdmKINin2YTYsdi12YrYryDYp9mE2YXYs9iq2K7Yr9mFCiAgICAgICAgICAgICAgICAgICAgbGV0IG1vbnRobHlVc2VkID0gMDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtb250aGx5TGVhdmVzID0gbGVhdmVzRGF0YS5maWx0ZXIobCA9PiAKICAgICAgICAgICAgICAgICAgICAgICAgbC5lbXBsb3llZUlkID09PSBlbXBsb3llZUlkICYmIAogICAgICAgICAgICAgICAgICAgICAgICBsLnN0YXR1cyA9PT0gJ2FwcHJvdmVkJyAmJiAvLyDYp9mE2YXZiNin2YHZgiDYudmE2YrZh9inINmB2YLYtwogICAgICAgICAgICAgICAgICAgICAgICAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLnR5cGUgPT09ICdtb250aGx5JyB8fCAvLyDYp9mE2KXYrNin2LLYp9iqINin2YTYtNmH2LHZitipCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobC50eXBlID09PSAndW5wYWlkJyAmJiBsLmNvbnZlcnRlZEZyb21Nb250aGx5ID09PSB0cnVlKSAvLyDYp9mE2KXYrNin2LLYp9iqINin2YTZhdit2YjZhNipINmF2YYg2LTZh9ix2YrYqSDYpdmE2Ykg2KjYr9mI2YYg2LHYp9iq2KgKICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgbW9udGhseUxlYXZlcy5mb3JFYWNoKGxlYXZlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlYXZlLnN0YXJ0RGF0ZSAmJiBsZWF2ZS5lbmREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKGxlYXZlLnN0YXJ0RGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTsgLy8g2LbYqNi3INin2YTZiNmC2Kog2KXZhNmJINio2K/Yp9mK2Kkg2KfZhNmK2YjZhQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUobGVhdmUuZW5kRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQuc2V0SG91cnMoMCwgMCwgMCwgMCk7IC8vINi22KjYtyDYp9mE2YjZgtiqINil2YTZiSDYqNiv2KfZitipINin2YTZitmI2YUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2LnYr9ivINin2YTYo9mK2KfZhSAo2LTYp9mF2YTYqSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnMoZW5kIC0gc3RhcnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZkRheXMgPSBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpICsgMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRobHlVc2VkICs9IGRpZmZEYXlzOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGhseUJhbGFuY2UgPSB0b3RhbE1vbnRobHlMZWF2ZXMgLSBtb250aGx5VXNlZDsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDZhdiv2Kkg2KfZhNil2KzYp9iy2Kkg2KfZhNmF2LfZhNmI2KjYqQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoc3RhcnREYXRlKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZShlbmREYXRlKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmVGltZSA9IE1hdGguYWJzKGVuZCAtIHN0YXJ0KTsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1aXJlZERheXMgPSBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpICsgMTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YPYp9mGINin2YTYsdi12YrYryDYutmK2LEg2YPYp9mB2YogKNi12YHYsSDYo9mIINiz2KfZhNioKdiMINiq2K3ZiNmK2YQg2KfZhNil2KzYp9iy2Kkg2KXZhNmJINio2K/ZiNmGINix2KfYqtioCiAgICAgICAgICAgICAgICAgICAgaWYgKG1vbnRobHlCYWxhbmNlIDw9IDAgfHwgbW9udGhseUJhbGFuY2UgPCByZXF1aXJlZERheXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbmZpcm1NZXNzYWdlID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb250aGx5QmFsYW5jZSA8IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYsdi12YrYryDYp9mE2LPYp9mE2KgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1NZXNzYWdlID0gYOKaoO+4jyDYp9mE2LHYtdmK2K8g2KfZhNit2KfZhNmKOiAke21vbnRobHlCYWxhbmNlLnRvRml4ZWQoMSl9INmK2YjZhSAo2LHYtdmK2K8g2LPYp9mE2KgpXG5cbtin2YTZhdi32YTZiNioOiAke3JlcXVpcmVkRGF5c30g2YrZiNmFXG5cbtiz2YrYqtmFINiq2LPYrNmK2YQg2KfZhNil2KzYp9iy2Kkg2KrZhNmC2KfYptmK2KfZiyDZg9mAICLYpdis2KfYstipINio2K/ZiNmGINix2KfYqtioIiDZhNij2YYg2KfZhNix2LXZitivINiz2KfZhNioLlxuXG7Zh9mEINiq2LHZitivINin2YTZhdiq2KfYqNi52KnYn2A7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9udGhseUJhbGFuY2UgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYsdi12YrYryDYtdmB2LEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1NZXNzYWdlID0gYOKaoO+4jyDYp9mE2LHYtdmK2K8g2KfZhNit2KfZhNmKOiAke21vbnRobHlCYWxhbmNlLnRvRml4ZWQoMSl9INmK2YjZhSAo2LHYtdmK2K8g2LXZgdixKVxuXG7Yp9mE2YXYt9mE2YjYqDogJHtyZXF1aXJlZERheXN9INmK2YjZhVxuXG7Ys9mK2KrZhSDYqtiz2KzZitmEINin2YTYpdis2KfYstipINiq2YTZgtin2KbZitin2Ysg2YPZgCAi2KXYrNin2LLYqSDYqNiv2YjZhiDYsdin2KrYqCIg2YTYo9mGINin2YTYsdi12YrYryDYtdmB2LEuXG5cbtmH2YQg2KrYsdmK2K8g2KfZhNmF2KrYp9io2LnYqdifYDsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYsdi12YrYryDZhdmI2KzYqCDZhNmD2YYg2LrZitixINmD2KfZgdmKIC0g2KrZgtiz2YrZhSDYp9mE2KXYrNin2LLYqQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvcnRhZ2UgPSByZXF1aXJlZERheXMgLSBtb250aGx5QmFsYW5jZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2KrZiNin2LHZitiuINin2YTYpdis2KfYstin2Kog2KfZhNmF2YLYs9mF2KkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZU9iaiA9IG5ldyBEYXRlKHN0YXJ0RGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGVPYmouc2V0SG91cnMoMCwgMCwgMCwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINiq2KfYsdmK2K4g2KfZhtiq2YfYp9ihINin2YTYpdis2KfYstipINmF2YYg2KfZhNix2LXZitivICjYqNi52K8g2LnYr9ivINin2YTYo9mK2KfZhSDYp9mE2YXYqtin2K3YqSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRFbmREYXRlT2JqID0gbmV3IERhdGUoc3RhcnREYXRlT2JqKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhaWRFbmREYXRlT2JqLnNldERhdGUocGFpZEVuZERhdGVPYmouZ2V0RGF0ZSgpICsgTWF0aC5mbG9vcihtb250aGx5QmFsYW5jZSkgLSAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KrYp9ix2YrYriDYqNiv2KfZitipINin2YTYpdis2KfYstipINio2K/ZiNmGINix2KfYqtioICjYp9mE2YrZiNmFINin2YTYqtin2YTZiiDZhNiq2KfYsdmK2K4g2KfZhtiq2YfYp9ihINin2YTYpdis2KfYstipINmF2YYg2KfZhNix2LXZitivKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5wYWlkU3RhcnREYXRlT2JqID0gbmV3IERhdGUocGFpZEVuZERhdGVPYmopOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5wYWlkU3RhcnREYXRlT2JqLnNldERhdGUodW5wYWlkU3RhcnREYXRlT2JqLmdldERhdGUoKSArIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYqtin2LHZitiuINin2YbYqtmH2KfYoSDYp9mE2KXYrNin2LLYqSDYqNiv2YjZhiDYsdin2KrYqCAo2KfZhNiq2KfYsdmK2K4g2KfZhNij2LXZhNmKKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5wYWlkRW5kRGF0ZU9iaiA9IG5ldyBEYXRlKGVuZERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWlkRW5kRGF0ZSA9IHBhaWRFbmREYXRlT2JqLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVucGFpZFN0YXJ0RGF0ZSA9IHVucGFpZFN0YXJ0RGF0ZU9iai50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1NZXNzYWdlID0gYOKaoO+4jyDYp9mE2LHYtdmK2K8g2KfZhNmF2KrYp9itOiAke21vbnRobHlCYWxhbmNlLnRvRml4ZWQoMSl9INmK2YjZhVxu2KfZhNmF2LfZhNmI2Kg6ICR7cmVxdWlyZWREYXlzfSDZitmI2YVcbtin2YTZhtmC2LU6ICR7c2hvcnRhZ2UudG9GaXhlZCgxKX0g2YrZiNmFXG5cbtiz2YrYqtmFINiq2YLYs9mK2YUg2KfZhNil2KzYp9iy2Kkg2KrZhNmC2KfYptmK2KfZizpcbuKAoiDYpdis2KfYstipINi02YfYsdmK2Kk6ICR7TWF0aC5mbG9vcihtb250aGx5QmFsYW5jZSl9INmK2YjZhSAo2YXZhiAke3N0YXJ0RGF0ZX0g2KXZhNmJICR7cGFpZEVuZERhdGV9KVxu4oCiINil2KzYp9iy2Kkg2KjYr9mI2YYg2LHYp9iq2Kg6ICR7TWF0aC5jZWlsKHNob3J0YWdlKX0g2YrZiNmFICjZhdmGICR7dW5wYWlkU3RhcnREYXRlfSDYpdmE2YkgJHtlbmREYXRlfSlcblxu2YfZhCDYqtix2YrYryDYp9mE2YXYqtin2KjYudip2J9gOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkU3BsaXRNb250aGx5TGVhdmUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpZERheXMgPSBNYXRoLmZsb29yKG1vbnRobHlCYWxhbmNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVucGFpZERheXMgPSBNYXRoLmNlaWwoc2hvcnRhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbmZpcm0oY29uZmlybU1lc3NhZ2UpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LjZh9in2LEg2K7Zitin2LEg2KfZhNiu2LXZhSDYudmG2K8g2KrZgtiz2YrZhSDYp9mE2KXYrNin2LLYqQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU3BsaXRNb250aGx5TGVhdmUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZlRGVkdWN0aW9uR3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVEZWR1Y3Rpb25Hcm91cCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlYXZlRGVkdWN0aW9uR3JvdXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZURlZHVjdGlvbkdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFNwbGl0TW9udGhseUxlYXZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYqtit2YjZitmEINmG2YjYuSDYp9mE2KXYrNin2LLYqSDYpdmE2Ykg2KjYr9mI2YYg2LHYp9iq2KggKNmE2YTYsdi12YrYryDYp9mE2LPYp9mE2Kgg2KPZiCDYp9mE2LXZgdixKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2K3Zgdi4INin2YTZhtmI2Lkg2KfZhNij2LXZhNmKINmC2KjZhCDYp9mE2KrYrdmI2YrZhCAo2KfYs9iq2K7Yr9in2YUg2KfZhNmF2KrYutmK2LEg2KfZhNmF2YjYrNmI2K8pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYqtij2YPZitivINij2YYg2KfZhNmG2YjYuSDYp9mE2KPYtdmE2Yog2YfZiCAnbW9udGhseScg2LnZhtivINin2YTYqtit2YjZitmECiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFR5cGUgPSAnbW9udGhseSc7IC8vINiq2K3Yr9mK2Ksgb3JpZ2luYWxUeXBlINmC2KjZhCDYqti62YrZitixIHR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZlVHlwZVNlbGVjdC5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3JpZ2luYWwtdHlwZScsICdtb250aGx5Jyk7IC8vINit2YHYuCDZgdmKIGF0dHJpYnV0ZSDYo9mK2LbYp9mLCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZVR5cGVTZWxlY3QudmFsdWUgPSAndW5wYWlkJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAndW5wYWlkJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXYuNmH2KfYsSDYrtmK2KfYsSDYp9mE2K7YtdmFINi52YbYryDYp9mE2KrYrdmI2YrZhCDYpdmE2Ykg2KjYr9mI2YYg2LHYp9iq2KgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZlRGVkdWN0aW9uR3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVEZWR1Y3Rpb25Hcm91cCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlYXZlRGVkdWN0aW9uR3JvdXApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZURlZHVjdGlvbkdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDZhdmE2KfYrdi42Kk6IGVuZERhdGUg2LPZitiq2YUg2KrYudmK2YrZhtmHINil2YTZiSBudWxsINi52YbYryDYp9mE2K3Zgdi4INmE2KPZhiB0eXBlINij2LXYqNitICd1bnBhaWQnCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyDYp9mE2K3YtdmI2YQg2LnZhNmJINin2YTZhdmI2LjZgSDZhNmE2K3YtdmI2YQg2LnZhNmJINmF2LnZhNmI2YXYp9iqINin2YTYsdin2KrYqAogICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWUgPSBlbXBsb3llZXNEYXRhLmZpbmQoZSA9PiBlLmlkID09PSBlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDZitis2Kgg2KrZgtiz2YrZhSDYp9mE2KXYrNin2LLYqSAo2LTZh9ix2YrYqSDYo9mIINiy2YXZhtmK2KkpCiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU3BsaXRNb250aGx5TGVhdmUgfHwgc2hvdWxkU3BsaXRMZWF2ZSkgewogICAgICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINi52K/ZhSDYqtmD2LHYp9ixINin2YTYpdis2KfYstin2Kog2YTZhtmB2LMg2KfZhNmF2YjYuNmBINmB2Yog2YbZgdizINin2YTZgdiq2LHYqQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc092ZXJsYXAgPSBjaGVja0xlYXZlT3ZlcmxhcChlbXBsb3llZUlkLCBzdGFydERhdGUsIGVuZERhdGUsIHR5cGUsIG51bGwpOwogICAgICAgICAgICAgICAgICAgIGlmIChoYXNPdmVybGFwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfimqDvuI8g2YrZiNis2K8g2KXYrNin2LLYqSDYo9iu2LHZiSDZhNmE2YXZiNi42YEg2YHZiiDZhtmB2LMg2KfZhNmB2KrYsdipINin2YTYstmF2YbZitipLiDYp9mE2LHYrNin2KEg2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNiq2YjYp9ix2YrYri4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDYqtmC2LPZitmFINin2YTYpdis2KfYstipINin2YTYtNmH2LHZitipCiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3VsZFNwbGl0TW9udGhseUxlYXZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEuINil2YbYtNin2KEg2KXYrNin2LLYqSDYtNmH2LHZitipINmF2YYg2KfZhNix2LXZitivCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRMZWF2ZURhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiBlbXBsb3llZUlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ21vbnRobHknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxUeXBlOiAnbW9udGhseScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWRGcm9tTW9udGhseTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVEZWR1Y3Rpb246IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5QXRMZWF2ZURhdGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlDdXJyZW5jeUF0TGVhdmU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZERhdGU6IHBhaWRFbmREYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cnM6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlcyArICcgKNis2LLYoSDZhdmGINil2KzYp9iy2Kkg2YXZgtiz2YXYqSAtINmF2YYg2KfZhNix2LXZitivKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHdpbmRvdy5maXJlc3RvcmUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IGN1cnJlbnRVc2VyPy51aWQgfHwgJ3N5c3RlbScKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDIuINil2YbYtNin2KEg2KXYrNin2LLYqSDYqNiv2YjZhiDYsdin2KrYqCDZhNmE2KjYp9mC2YoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlRGVkdWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlQ2FsY3VsYXRlRGVkdWN0aW9uJyk/LmNoZWNrZWQgPz8gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhbGFyeUF0TGVhdmVEYXRlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhbGFyeUN1cnJlbmN5QXRMZWF2ZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxjdWxhdGVEZWR1Y3Rpb24gJiYgZW1wbG95ZWUgJiYgZW1wbG95ZWUuY3VycmVudFNhbGFyeSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5QXRMZWF2ZURhdGUgPSBlbXBsb3llZS5jdXJyZW50U2FsYXJ5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5Q3VycmVuY3lBdExlYXZlID0gZW1wbG95ZWUuY3VycmVudFNhbGFyeUN1cnJlbmN5IHx8ICdJUUQnOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1bnBhaWRMZWF2ZURhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiBlbXBsb3llZUlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3VucGFpZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFR5cGU6ICdtb250aGx5JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZEZyb21Nb250aGx5OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlRGVkdWN0aW9uOiBjYWxjdWxhdGVEZWR1Y3Rpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlBdExlYXZlRGF0ZTogc2FsYXJ5QXRMZWF2ZURhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlDdXJyZW5jeUF0TGVhdmU6IHNhbGFyeUN1cnJlbmN5QXRMZWF2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogdW5wYWlkU3RhcnREYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3Rlczogbm90ZXMgKyAnICjYrNiy2KEg2YXZhiDYpdis2KfYstipINmF2YLYs9mF2KkgLSDYqNiv2YjZhiDYsdin2KrYqCknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiB3aW5kb3cuZmlyZXN0b3JlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlcj8udWlkIHx8ICdzeXN0ZW0nCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAvLyDYrdmB2Lgg2KfZhNil2KzYp9iy2KrZitmGCiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5maXJlc3RvcmUuYWRkRG9jKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5jb2xsZWN0aW9uKHdpbmRvdy5kYiwgJ2xlYXZlcycpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpZExlYXZlRGF0YQogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS5hZGREb2MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAnbGVhdmVzJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnBhaWRMZWF2ZURhdGEKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGDinIUg2KrZhSDYqtmC2LPZitmFINin2YTYpdis2KfYstipINio2YbYrNin2K0hXG7igKIg2KXYrNin2LLYqSDYtNmH2LHZitipOiAke3BhaWREYXlzfSDZitmI2YUgKNmF2YYg2KfZhNix2LXZitivKVxu4oCiINil2KzYp9iy2Kkg2KjYr9mI2YYg2LHYp9iq2Kg6ICR7dW5wYWlkRGF5c30g2YrZiNmFYCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINiq2YLYs9mK2YUg2KfZhNil2KzYp9iy2Kkg2KfZhNiy2YXZhtmK2KkKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzaG91bGRTcGxpdExlYXZlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEuINil2YbYtNin2KEg2KXYrNin2LLYqSDYstmF2YbZitipINmF2YYg2KfZhNix2LXZitivCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhaWRMZWF2ZURhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUlkOiBlbXBsb3llZUlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2hvdXJseScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFR5cGU6ICdob3VybHknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGVkRnJvbU1vbnRobHk6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlRGVkdWN0aW9uOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeUF0TGVhdmVEYXRlOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5Q3VycmVuY3lBdExlYXZlOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmREYXRlOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cnM6IHBhaWRIb3VycywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZXM6IG5vdGVzICsgJyAo2KzYstihINmF2YYg2KXYrNin2LLYqSDZhdmC2LPZhdipIC0g2YXZhiDYp9mE2LHYtdmK2K8pJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogd2luZG93LmZpcmVzdG9yZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogY3VycmVudFVzZXI/LnVpZCB8fCAnc3lzdGVtJwogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8gMi4g2KXZhti02KfYoSDYpdis2KfYstipINio2K/ZiNmGINix2KfYqtioINmE2YTYqNin2YLZigogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVEZWR1Y3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVDYWxjdWxhdGVEZWR1Y3Rpb24nKT8uY2hlY2tlZCA/PyB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2FsYXJ5QXRMZWF2ZURhdGUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2FsYXJ5Q3VycmVuY3lBdExlYXZlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0ZURlZHVjdGlvbiAmJiBlbXBsb3llZSAmJiBlbXBsb3llZS5jdXJyZW50U2FsYXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlBdExlYXZlRGF0ZSA9IGVtcGxveWVlLmN1cnJlbnRTYWxhcnk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWxhcnlDdXJyZW5jeUF0TGVhdmUgPSBlbXBsb3llZS5jdXJyZW50U2FsYXJ5Q3VycmVuY3kgfHwgJ0lRRCc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVucGFpZExlYXZlRGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlSWQ6IGVtcGxveWVlSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndW5wYWlkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsVHlwZTogJ2hvdXJseScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWRGcm9tTW9udGhseTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZURlZHVjdGlvbjogY2FsY3VsYXRlRGVkdWN0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5QXRMZWF2ZURhdGU6IHNhbGFyeUF0TGVhdmVEYXRlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5Q3VycmVuY3lBdExlYXZlOiBzYWxhcnlDdXJyZW5jeUF0TGVhdmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZERhdGU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VyczogdW5wYWlkSG91cnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlcyArICcgKNis2LLYoSDZhdmGINil2KzYp9iy2Kkg2YXZgtiz2YXYqSAtINio2K/ZiNmGINix2KfYqtioKScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHdpbmRvdy5maXJlc3RvcmUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IGN1cnJlbnRVc2VyPy51aWQgfHwgJ3N5c3RlbScKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINit2YHYuCDYp9mE2KXYrNin2LLYqtmK2YYKICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS5hZGREb2MoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAnbGVhdmVzJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWlkTGVhdmVEYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmFkZERvYygKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5maXJlc3RvcmUuY29sbGVjdGlvbih3aW5kb3cuZGIsICdsZWF2ZXMnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVucGFpZExlYXZlRGF0YQogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoYOKchSDYqtmFINiq2YLYs9mK2YUg2KfZhNil2KzYp9iy2Kkg2KjZhtis2KfYrSFcbuKAoiDYpdis2KfYstipINiy2YXZhtmK2Kk6ICR7cGFpZEhvdXJzLnRvRml4ZWQoMSl9INiz2KfYudipICjZhdmGINin2YTYsdi12YrYrylcbuKAoiDYpdis2KfYstipINio2K/ZiNmGINix2KfYqtioOiAke3VucGFpZEhvdXJzLnRvRml4ZWQoMSl9INiz2KfYudipYCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGhpZGVBZGRMZWF2ZUZvcm0oKTsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBsb2FkTGVhdmVzKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyDYpdmG2YfYp9ihINin2YTYr9in2YTYqSDYqNi52K8g2K3Zgdi4INin2YTYpdis2KfYstiq2YrZhiDYp9mE2YXZgtiz2YXYqtmK2YYKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KfZhNit2KfZhNipINin2YTYudin2K/ZitipOiDYpdis2KfYstipINmI2KfYrdiv2KkgKNi62YrYsSDZhdmC2LPZhdipKQogICAgICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2LnYr9mFINiq2YPYsdin2LEg2KfZhNil2KzYp9iy2KfYqiDZhNmG2YHYsyDYp9mE2YXZiNi42YEg2YHZiiDZhtmB2LMg2KfZhNmB2KrYsdipCiAgICAgICAgICAgICAgICBjb25zdCBoYXNPdmVybGFwID0gY2hlY2tMZWF2ZU92ZXJsYXAoZW1wbG95ZWVJZCwgc3RhcnREYXRlLCBlbmREYXRlLCB0eXBlLCBudWxsKTsKICAgICAgICAgICAgICAgIGlmIChoYXNPdmVybGFwKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+KaoO+4jyDZitmI2KzYryDYpdis2KfYstipINij2K7YsdmJINmE2YTZhdmI2LjZgSDZgdmKINmG2YHYsyDYp9mE2YHYqtix2Kkg2KfZhNiy2YXZhtmK2KkuINin2YTYsdis2KfYoSDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2KrZiNin2LHZitiuLicpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrYrdiv2YrYryDYp9mE2YbZiNi5INin2YTYo9i12YTZiiDZhNmE2KXYrNin2LLYqSAo2KXYudin2K/YqSDYp9mE2KrYrdmC2YIg2KjYudivINij2Yog2KrYrdmI2YrZhCkKICAgICAgICAgICAgICAgIC8vINin2YTYrdi12YjZhCDYudmE2Ykgb3JpZ2luYWxUeXBlINmF2YYgYXR0cmlidXRlINil2LDYpyDYqtmFINiq2K3Yr9mK2KvZhwogICAgICAgICAgICAgICAgY29uc3QgZmluYWxPcmlnaW5hbFR5cGUgPSBsZWF2ZVR5cGVTZWxlY3QuZ2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXR5cGUnKSB8fCBvcmlnaW5hbFR5cGU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2K3Yr9mK2K8g2K3Yp9mE2Kkg2KfZhNiq2K3ZiNmK2YQ6INmB2YLYtyDYpdiw2Kcg2YPYp9mGINin2YTZhtmI2Lkg2KfZhNij2LXZhNmKINi02YfYsdmK2Kkg2KPZiCDYstmF2YbZitipINmI2KfZhNmG2YjYuSDYp9mE2K3Yp9mE2Yog2KjYr9mI2YYg2LHYp9iq2KgKICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlZEZyb21Nb250aGx5ID0gKGZpbmFsT3JpZ2luYWxUeXBlID09PSAnbW9udGhseScgJiYgdHlwZSA9PT0gJ3VucGFpZCcpIHx8IChmaW5hbE9yaWdpbmFsVHlwZSA9PT0gJ2hvdXJseScgJiYgdHlwZSA9PT0gJ3VucGFpZCcpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYtdit2Kkg2KfZhNio2YrYp9mG2KfYqiDZgtio2YQg2KfZhNit2YHYuAogICAgICAgICAgICAgICAgaWYgKCFmaW5hbE9yaWdpbmFsVHlwZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYozog2YTZhSDZitiq2YUg2KrYrdiv2YrYryDYp9mE2YbZiNi5INin2YTYo9i12YTZiiDZhNmE2KXYrNin2LLYqScpOwogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYrdmB2Lgg2KfZhNio2YrYp9mG2KfYqi4g2KfZhNix2KzYp9ihINin2YTZhdit2KfZiNmE2Kkg2YXYsdipINij2K7YsdmJLicpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KfZhNit2LXZiNmEINi52YTZiSDZgtmK2YXYqSDYrtmK2KfYsSDYp9mE2K7YtdmFICjZgdmC2Lcg2YTZhNil2KzYp9iy2KfYqiDYp9mE2YXYrdmI2YTYqSDYpdmE2Ykg2KjYr9mI2YYg2LHYp9iq2KgpCiAgICAgICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVEZWR1Y3Rpb24gPSB0eXBlID09PSAndW5wYWlkJyAmJiBjb252ZXJ0ZWRGcm9tTW9udGhseSAKICAgICAgICAgICAgICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUNhbGN1bGF0ZURlZHVjdGlvbicpPy5jaGVja2VkID8/IHRydWUgCiAgICAgICAgICAgICAgICAgICAgOiB0cnVlOyAvLyDYp9mB2KrYsdin2LbZijogdHJ1ZSDZhNmE2KXYrNin2LLYp9iqINio2K/ZiNmGINix2KfYqtioINin2YTZhdio2KfYtNix2KkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2K3Zgdi4INin2YTYsdin2KrYqCDYp9mE2K3Yp9mE2Yog2YjYp9mE2LnZhdmE2Kkg2LnZhtivINil2LbYp9mB2Kkg2KfZhNil2KzYp9iy2KkgKNmE2YTYp9iz2KrYrtiv2KfZhSDZgdmKINit2LPYp9ioINin2YTYrti12YUg2YTYp9it2YLYp9mLKQogICAgICAgICAgICAgICAgbGV0IHNhbGFyeUF0TGVhdmVEYXRlID0gbnVsbDsKICAgICAgICAgICAgICAgIGxldCBzYWxhcnlDdXJyZW5jeUF0TGVhdmUgPSBudWxsOwogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICd1bnBhaWQnICYmIGNhbGN1bGF0ZURlZHVjdGlvbikgewogICAgICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZSAmJiBlbXBsb3llZS5jdXJyZW50U2FsYXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeUF0TGVhdmVEYXRlID0gZW1wbG95ZWUuY3VycmVudFNhbGFyeTsKICAgICAgICAgICAgICAgICAgICAgICAgc2FsYXJ5Q3VycmVuY3lBdExlYXZlID0gZW1wbG95ZWUuY3VycmVudFNhbGFyeUN1cnJlbmN5IHx8ICdJUUQnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrYrdiv2YrYryDZhtmI2Lkg2KfZhNmF2YfZhdipINmI2LnYr9ivINin2YTYs9in2LnYp9iqINmE2YXZh9mF2Kkg2KfZhNi52YXZhAogICAgICAgICAgICAgICAgbGV0IG1pc3Npb25UeXBlID0gbnVsbDsKICAgICAgICAgICAgICAgIGxldCBtaXNzaW9uSG91cnMgPSBudWxsOwogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICd3b3JrLW1pc3Npb24nKSB7CiAgICAgICAgICAgICAgICAgICAgbWlzc2lvblR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNaXNzaW9uVHlwZScpPy52YWx1ZSB8fCBudWxsOwogICAgICAgICAgICAgICAgICAgIGlmIChtaXNzaW9uVHlwZSA9PT0gJ2hvdXJseScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWlzc2lvbkhvdXJzID0gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNaXNzaW9uSG91cnMnKT8udmFsdWUgfHwgMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZURhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVJZDogZW1wbG95ZWVJZCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsVHlwZTogZmluYWxPcmlnaW5hbFR5cGUsIC8vINin2YTZhtmI2Lkg2KfZhNij2LXZhNmKINmC2KjZhCDYp9mE2KrYrdmI2YrZhCAo2YXYrdiv2Ksg2KjYudivINin2YTYqtit2YjZitmEKQogICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZEZyb21Nb250aGx5OiBjb252ZXJ0ZWRGcm9tTW9udGhseSwgLy8g2YfZhCDYqtmFINiq2K3ZiNmK2YTZh9inINmF2YYg2LTZh9ix2YrYqSDYo9mIINiy2YXZhtmK2KnYnwogICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZURlZHVjdGlvbjogY2FsY3VsYXRlRGVkdWN0aW9uLCAvLyDZh9mEINmK2KrZhSDYp9it2KrYs9in2Kgg2K7YtdmFINmF2KfZhNmK2J8KICAgICAgICAgICAgICAgICAgICBzYWxhcnlBdExlYXZlRGF0ZTogc2FsYXJ5QXRMZWF2ZURhdGUsIC8vINin2YTYsdin2KrYqCDYp9mE2K3Yp9mE2Yog2LnZhtivINil2LbYp9mB2Kkg2KfZhNil2KzYp9iy2KkKICAgICAgICAgICAgICAgICAgICBzYWxhcnlDdXJyZW5jeUF0TGVhdmU6IHNhbGFyeUN1cnJlbmN5QXRMZWF2ZSwgLy8g2KfZhNi52YXZhNipINi52YbYryDYpdi22KfZgdipINin2YTYpdis2KfYstipCiAgICAgICAgICAgICAgICAgICAgcmVnaW9uSWQ6ICh0eXBlID09PSAnd29yay1taXNzaW9uJykgPyAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlUmVnaW9uSWQnKT8udmFsdWUgfHwgbnVsbCkgOiBudWxsLCAvLyDYp9mE2YXZhti32YLYqSDZhNmF2YfZhdipINin2YTYudmF2YQKICAgICAgICAgICAgICAgICAgICBtaXNzaW9uVHlwZTogbWlzc2lvblR5cGUsIC8vINmG2YjYuSDYp9mE2YXZh9mF2KkgKNiy2YXZhtmK2Kkg2KPZiCDZitmI2YUg2YPYp9mF2YQpCiAgICAgICAgICAgICAgICAgICAgbWlzc2lvbkhvdXJzOiBtaXNzaW9uSG91cnMsIC8vINi52K/YryDYs9in2LnYp9iqINin2YTZhdmH2YXYqSDYpdiw2Kcg2YPYp9mG2Kog2LLZhdmG2YrYqQogICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlLAogICAgICAgICAgICAgICAgICAgIGVuZERhdGU6ICh0eXBlID09PSAnaG91cmx5JyB8fCAodHlwZSA9PT0gJ3dvcmstbWlzc2lvbicgJiYgbWlzc2lvblR5cGUgPT09ICdob3VybHknKSkgPyBudWxsIDogKGVuZERhdGUgfHwgbnVsbCksIC8vINin2YTYpdis2KfYstin2Kog2KfZhNiy2YXZhtmK2Kkg2YjZhdmH2KfZhSDYp9mE2LnZhdmEINin2YTYstmF2YbZitipINmE2Kcg2KrYrdiq2KfYrCBlbmREYXRlCiAgICAgICAgICAgICAgICAgICAgaG91cnM6IHR5cGUgPT09ICdob3VybHknID8gcGFyc2VGbG9hdChob3VycykgOiBudWxsLAogICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLAogICAgICAgICAgICAgICAgICAgIG5vdGVzOiBub3RlcywKICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHdpbmRvdy5maXJlc3RvcmUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlcj8udWlkIHx8ICdzeXN0ZW0nCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtiz2KzZitmEINin2YTYqNmK2KfZhtin2Kog2YTZhNiq2K3ZgtmCICjZgdmKINmI2LbYuSDYp9mE2KrYt9mI2YrYsSkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+INit2YHYuCDYpdis2KfYstipINis2K/Zitiv2Kk6JywgewogICAgICAgICAgICAgICAgICAgIHR5cGU6IGxlYXZlRGF0YS50eXBlLAogICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsVHlwZTogbGVhdmVEYXRhLm9yaWdpbmFsVHlwZSwKICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWRGcm9tTW9udGhseTogbGVhdmVEYXRhLmNvbnZlcnRlZEZyb21Nb250aGx5LAogICAgICAgICAgICAgICAgICAgIGVuZERhdGU6IGxlYXZlRGF0YS5lbmREYXRlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmFkZERvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmNvbGxlY3Rpb24od2luZG93LmRiLCAnbGVhdmVzJyksCiAgICAgICAgICAgICAgICAgICAgbGVhdmVEYXRhCiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIGFsZXJ0KCfYqtmFINil2LbYp9mB2Kkg2KfZhNil2KzYp9iy2Kkg2KjZhtis2KfYrSEnKTsKICAgICAgICAgICAgICAgIGhpZGVBZGRMZWF2ZUZvcm0oKTsKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRMZWF2ZXMoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYpdi22KfZgdipINin2YTYpdis2KfYstipOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZWRpdExlYXZlKGlkKSB7CiAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgIGNvbnN0IGVkaXRTZXNzaW9uSWQgPSAnZGVidWctc2Vzc2lvbi0nICsgRGF0ZS5ub3coKTsKICAgICAgICAgICAgY29uc3QgZWRpdFJ1bklkID0gJ3J1bjEnOwogICAgICAgICAgICBjb25zdCBlZGl0aW5nTGVhdmVJZEJlZm9yZSA9IGVkaXRpbmdMZWF2ZUlkOwogICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtRURJVF0g2KjYr9ihIGVkaXRMZWF2ZSgpLCBpZDonLCBpZCwgJ2VkaXRpbmdMZWF2ZUlkINmC2KjZhDonLCBlZGl0aW5nTGVhdmVJZEJlZm9yZSk7CiAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgCiAgICAgICAgICAgIGVkaXRpbmdMZWF2ZUlkID0gaWQ7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtRURJVF0g2KjYudivINiq2LnZitmK2YYgZWRpdGluZ0xlYXZlSWQ6JywgZWRpdGluZ0xlYXZlSWQpOwogICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBsZWF2ZSA9IGxlYXZlc0RhdGEuZmluZChsID0+IGwuaWQgPT09IGlkKTsKICAgICAgICAgICAgaWYgKCFsZWF2ZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYpdis2KfYstipINi62YrYsSDZhdmI2KzZiNiv2KknKTsKICAgICAgICAgICAgICAgIGVkaXRpbmdMZWF2ZUlkID0gbnVsbDsgLy8g2KfZhNiq2KPZg9ivINmF2YYg2KXYudin2K/YqSDYp9mE2KrYudmK2YrZhgogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2KXYsNinINmD2KfZhtiqINin2YTYpdis2KfYstipINmF2YjYp9mB2YIg2LnZhNmK2YfYpwogICAgICAgICAgICBpZiAobGVhdmUuc3RhdHVzID09PSAnYXBwcm92ZWQnKSB7CiAgICAgICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9IHByb21wdCgn4pqg77iPINmH2LDZhyDYp9mE2KXYrNin2LLYqSDZhdmI2KfZgdmCINi52YTZitmH2KcuXG5cbtin2YTYsdis2KfYoSDYpdiv2K7Yp9mEINmD2YTZhdipINin2YTZhdix2YjYsSDZhNmE2KrYudiv2YrZhDonKTsKICAgICAgICAgICAgICAgIGlmIChwYXNzd29yZCA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIC8vINin2YTZhdiz2KrYrtiv2YUg2KPZhNi62Ykg2KfZhNi52YXZhNmK2KkKICAgICAgICAgICAgICAgICAgICBlZGl0aW5nTGVhdmVJZCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1FRElUXSDYqtmFINil2YTYutin2KEg2KfZhNi52YXZhNmK2KkgLSBlZGl0aW5nTGVhdmVJZDonLCBlZGl0aW5nTGVhdmVJZCk7CiAgICAgICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChwYXNzd29yZCAhPT0gTEVBVkVfRURJVF9QQVNTV09SRCkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfinYwg2YPZhNmF2Kkg2KfZhNmF2LHZiNixINi62YrYsSDYtdit2YrYrdipLiDZhNinINmK2YXZg9mGINiq2LnYr9mK2YQg2KfZhNil2KzYp9iy2Kkg2KfZhNmF2YjYp9mB2YIg2LnZhNmK2YfYpy4nKTsKICAgICAgICAgICAgICAgICAgICBlZGl0aW5nTGVhdmVJZCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgICAgICAvLyDYqtmFINil2LLYp9mE2Kkg2KfYs9iq2K/Yudin2KEgbG9nZ2luZyDYp9mE2K7Yp9ix2KzZigogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1FRElUXSDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2LrZitixINi12K3Zitit2KkgLSBlZGl0aW5nTGVhdmVJZDonLCBlZGl0aW5nTGVhdmVJZCk7CiAgICAgICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNb2RhbCcpOwogICAgICAgICAgICBpZiAoIW1vZGFsKSByZXR1cm47CgogICAgICAgICAgICAvLyDYqti32KjZitmCINin2YTYqtix2KzZhdin2Kog2YLYqNmEINmB2KrYrSDYp9mE2YbYp9mB2LDYqQogICAgICAgICAgICBhcHBseVRyYW5zbGF0aW9ucygpOwogICAgICAgICAgICAKICAgICAgICAgICAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlU3VibWl0QnRuJyk7CiAgICAgICAgICAgIGlmIChzdWJtaXRCdG4pIHsKICAgICAgICAgICAgICAgIHN1Ym1pdEJ0bi5zZXRBdHRyaWJ1dGUoJ29uY2xpY2snLCAndXBkYXRlTGVhdmUoKScpOwogICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgIGNvbnN0IG9uY2xpY2tBZnRlciA9IHN1Ym1pdEJ0bi5nZXRBdHRyaWJ1dGUoJ29uY2xpY2snKTsKICAgICAgICAgICAgICAgIC8vINiq2YUg2KXYstin2YTYqSDYp9iz2KrYr9i52KfYoSBsb2dnaW5nINin2YTYrtin2LHYrNmKCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtRURJVF0gZWRpdExlYXZlKCkgLSBvbmNsaWNrINio2LnYryDYp9mE2KrYudmK2YrZhjonLCBvbmNsaWNrQWZ0ZXIsICdlZGl0aW5nTGVhdmVJZDonLCBlZGl0aW5nTGVhdmVJZCk7CiAgICAgICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgLy8g2KrZhSDYpdiy2KfZhNipINin2LPYqtiv2LnYp9ihIGxvZ2dpbmcg2KfZhNiu2KfYsdis2YoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1FRElUXSDYp9mE2LLYsSBsZWF2ZVN1Ym1pdEJ0biDYutmK2LEg2YXZiNis2YjYryEnKTsKICAgICAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDYp9mE2YXZiNi42YHZitmGINil2LDYpyDZhNmFINiq2YPZhiDZhdit2YXZhNipINio2KfZhNmB2LnZhAogICAgICAgICAgICBpZiAoIWVtcGxveWVlc0RhdGEgfHwgZW1wbG95ZWVzRGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfYrNin2LHZiiDYqtit2YXZitmEINin2YTZhdmI2LjZgdmK2YYuLi4nKTsKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRFbXBsb3llZXMoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2KrYrdiv2YrYqyDZgtin2KbZhdipINin2YTZhdmI2LjZgdmK2YYKICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUVtcGxveWVlSWQnKTsKICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVEYXRhbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUVtcGxveWVlTGlzdCcpOwogICAgICAgICAgICBjb25zdCBlbXBsb3llZUhpZGRlbklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlRW1wbG95ZWVJZEhpZGRlbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGVtcGxveWVlSW5wdXQgJiYgZW1wbG95ZWVEYXRhbGlzdCkgewogICAgICAgICAgICAgICAgLy8g2YXYs9itINin2YTZgtin2KbZhdipINin2YTYs9in2KjZgtipCiAgICAgICAgICAgICAgICBlbXBsb3llZURhdGFsaXN0LmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgZW1wbG95ZWVJbnB1dC52YWx1ZSA9ICcnOwogICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSGlkZGVuSW5wdXQpIGVtcGxveWVlSGlkZGVuSW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1FRElUXSDYqtit2YXZitmEINin2YTZhdmI2LjZgdmK2YYgLSBsZWF2ZS5lbXBsb3llZUlkOicsIGxlYXZlLmVtcGxveWVlSWQsICfZhtmI2Lk6JywgdHlwZW9mIGxlYXZlLmVtcGxveWVlSWQpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUxFQVZFLUVESVRdINi52K/YryDYp9mE2YXZiNi42YHZitmGOicsIGVtcGxveWVlc0RhdGEgPyBlbXBsb3llZXNEYXRhLmxlbmd0aCA6IDApOwogICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVzRGF0YSAmJiBlbXBsb3llZXNEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyDYqtix2KrZitioINin2YTZhdmI2LjZgdmK2YYg2K3Ys9ioINin2YTYp9iz2YUKICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRFbXBsb3llZXMgPSBbLi4uZW1wbG95ZWVzRGF0YV0uc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lQSA9IChhLm5hbWUgfHwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lQiA9IChiLm5hbWUgfHwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZUEubG9jYWxlQ29tcGFyZShuYW1lQiwgJ2FyJyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgbGV0IGZvdW5kRW1wbG95ZWUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBzb3J0ZWRFbXBsb3llZXMuZm9yRWFjaChlbXAgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzcGxheVRleHQgPSBgJHtlbXAubmFtZSB8fCAn2KjYr9mI2YYg2KfYs9mFJ30ke2VtcC5lbXBsb3llZU51bWJlciA/ICcgKCcgKyBlbXAuZW1wbG95ZWVOdW1iZXIgKyAnKScgOiAnJ31gOwogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBkaXNwbGF5VGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1lbXBsb3llZS1pZCcsIGVtcC5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2KrYt9in2KjZggogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbXBJZE1hdGNoID0gU3RyaW5nKGVtcC5pZCkgPT09IFN0cmluZyhsZWF2ZS5lbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcElkTWF0Y2gpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kRW1wbG95ZWUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVJbnB1dC52YWx1ZSA9IGRpc3BsYXlUZXh0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSGlkZGVuSW5wdXQpIGVtcGxveWVlSGlkZGVuSW5wdXQudmFsdWUgPSBlbXAuaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUxFQVZFLUVESVRdINiq2YUg2KfZhNi52KvZiNixINi52YTZiSDYp9mE2YXZiNi42YEg2KfZhNmF2LfYp9io2YI6JywgZW1wLm5hbWUsICdlbXAuaWQ6JywgZW1wLmlkLCAnbGVhdmUuZW1wbG95ZWVJZDonLCBsZWF2ZS5lbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZURhdGFsaXN0LmFwcGVuZENoaWxkKG9wdGlvbik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kRW1wbG95ZWUgJiYgbGVhdmUuZW1wbG95ZWVJZCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBbREVCVUctTEVBVkUtRURJVF0g2YTZhSDZitiq2YUg2KfZhNi52KvZiNixINi52YTZiSDYp9mE2YXZiNi42YEg2KfZhNmF2LfYp9io2YIhIGxlYXZlLmVtcGxveWVlSWQ6JywgbGVhdmUuZW1wbG95ZWVJZCwgJ9mG2YjYuTonLCB0eXBlb2YgbGVhdmUuZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1FRElUXSDZgtin2KbZhdipIElEcyDYp9mE2YXZiNi42YHZitmGOicsIGVtcGxveWVlc0RhdGEubWFwKGUgPT4gKHtpZDogZS5pZCwgdHlwZTogdHlwZW9mIGUuaWQsIG5hbWU6IGUubmFtZX0pKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYttin2YHYqSBldmVudCBsaXN0ZW5lciDZhNit2LPYp9ioINin2YTYpdis2KfYstin2Kog2KfZhNmF2KrYqNmC2YrYqSDYudmG2K8g2KfYrtiq2YrYp9ixINin2YTZhdmI2LjZgQogICAgICAgICAgICAgICAgZW1wbG95ZWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0VmFsdWUgPSB0aGlzLnZhbHVlLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0VmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSGlkZGVuSW5wdXQpIGVtcGxveWVlSGlkZGVuSW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFsYW5jZUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVCYWxhbmNlSW5mbycpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFsYW5jZUluZm8pIGJhbGFuY2VJbmZvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNio2K3YqyDYudmGINin2YTZhdmI2LjZgSDYp9mE2YXYt9in2KjZggogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nT3B0aW9uID0gQXJyYXkuZnJvbShlbXBsb3llZURhdGFsaXN0Lm9wdGlvbnMpLmZpbmQob3B0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdC52YWx1ZSA9PT0gaW5wdXRWYWx1ZSB8fCBvcHQudmFsdWUuaW5jbHVkZXMoaW5wdXRWYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nT3B0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlSWQgPSBtYXRjaGluZ09wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZW1wbG95ZWUtaWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSGlkZGVuSW5wdXQpIGVtcGxveWVlSGlkZGVuSW5wdXQudmFsdWUgPSBlbXBsb3llZUlkOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlTGVhdmVCYWxhbmNlKGVtcGxveWVlSWQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNio2K3YqyDZgdmKINis2YXZiti5INin2YTYrtmK2KfYsdin2Kog2YTZhNi52KvZiNixINi52YTZiSDZhdi32KfYqNmC2Kkg2KzYstim2YrYqQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZE9wdGlvbiA9IEFycmF5LmZyb20oZW1wbG95ZWVEYXRhbGlzdC5vcHRpb25zKS5maW5kKG9wdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0LnZhbHVlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoaW5wdXRWYWx1ZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRPcHRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlSWQgPSBmb3VuZE9wdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtZW1wbG95ZWUtaWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZUhpZGRlbklucHV0KSBlbXBsb3llZUhpZGRlbklucHV0LnZhbHVlID0gZW1wbG95ZWVJZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZUlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlTGVhdmVCYWxhbmNlKGVtcGxveWVlSWQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSGlkZGVuSW5wdXQpIGVtcGxveWVlSGlkZGVuSW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlQmFsYW5jZUluZm8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWxhbmNlSW5mbykgYmFsYW5jZUluZm8uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYpdi22KfZgdipIGV2ZW50IGxpc3RlbmVyINi52YbYryDYp9iu2KrZitin2LEg2YXZhiDYp9mE2YLYp9im2YXYqSDYp9mE2YXZhtiz2K/ZhNipCiAgICAgICAgICAgICAgICBlbXBsb3llZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0VmFsdWUgPSB0aGlzLnZhbHVlLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0VmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSGlkZGVuSW5wdXQpIGVtcGxveWVlSGlkZGVuSW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFsYW5jZUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVCYWxhbmNlSW5mbycpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFsYW5jZUluZm8pIGJhbGFuY2VJbmZvLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdPcHRpb24gPSBBcnJheS5mcm9tKGVtcGxveWVlRGF0YWxpc3Qub3B0aW9ucykuZmluZChvcHQgPT4gb3B0LnZhbHVlID09PSBpbnB1dFZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdPcHRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVJZCA9IG1hdGNoaW5nT3B0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1lbXBsb3llZS1pZCcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVIaWRkZW5JbnB1dCkgZW1wbG95ZWVIaWRkZW5JbnB1dC52YWx1ZSA9IGVtcGxveWVlSWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbXBsb3llZUlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVMZWF2ZUJhbGFuY2UoZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitiq2YUg2KfZhNi52KvZiNixINi52YTZiSDZhdi32KfYqNmC2Kkg2K/ZgtmK2YLYqdiMINin2YTYqNit2Ksg2LnZhiDZhdi32KfYqNmC2Kkg2KzYstim2YrYqQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZE9wdGlvbiA9IEFycmF5LmZyb20oZW1wbG95ZWVEYXRhbGlzdC5vcHRpb25zKS5maW5kKG9wdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0LnZhbHVlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoaW5wdXRWYWx1ZS50b0xvd2VyQ2FzZSgpKSB8fCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMob3B0LnZhbHVlLnRvTG93ZXJDYXNlKCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZE9wdGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVJZCA9IGZvdW5kT3B0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1lbXBsb3llZS1pZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSGlkZGVuSW5wdXQpIGVtcGxveWVlSGlkZGVuSW5wdXQudmFsdWUgPSBlbXBsb3llZUlkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGZvdW5kT3B0aW9uLnZhbHVlOyAvLyDYqtit2K/ZitirINin2YTZhti1INin2YTZhdi52LHZiNi2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVJZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZUxlYXZlQmFsYW5jZShlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZhNmFINmK2KrZhSDYp9mE2LnYq9mI2LEg2LnZhNmJINij2Yog2YXYt9in2KjZgtip2Iwg2YXYs9itINin2YTZgtmK2YXYqQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlSGlkZGVuSW5wdXQpIGVtcGxveWVlSGlkZGVuSW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlQmFsYW5jZUluZm8nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWxhbmNlSW5mbykgYmFsYW5jZUluZm8uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KfYrtiq2YrYp9ixINmF2YjYuNmBINmF2YYg2KfZhNmC2KfYptmF2KknKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2KXYrNin2LLYp9iqINin2YTZhdiq2KjZgtmK2Kkg2YTZhNmF2YjYuNmBINin2YTZhdit2K/YrwogICAgICAgICAgICAgICAgaWYgKGxlYXZlLmVtcGxveWVlSWQpIHsKICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVMZWF2ZUJhbGFuY2UobGVhdmUuZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINiq2K3Yr9mK2Ksg2YLYp9im2YXYqSDYp9mE2YXZhtin2LfZggogICAgICAgICAgICBhd2FpdCB1cGRhdGVMZWF2ZVJlZ2lvblNlbGVjdCgpOwoKICAgICAgICAgICAgLy8g2KrYrdmF2YrZhCDYqNmK2KfZhtin2Kog2KfZhNil2KzYp9iy2Kkg2YHZiiDYp9mE2K3ZgtmI2YQKICAgICAgICAgICAgY29uc3QgbGVhdmVUeXBlU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlVHlwZScpOwogICAgICAgICAgICBpZiAobGVhdmVUeXBlU2VsZWN0KSB7CiAgICAgICAgICAgICAgICBsZWF2ZVR5cGVTZWxlY3QudmFsdWUgPSBsZWF2ZS50eXBlIHx8ICcnOwogICAgICAgICAgICAgICAgLy8g2K3Zgdi4INin2YTZhtmI2Lkg2KfZhNij2LXZhNmKINil2LDYpyDZg9in2YYg2YXZiNis2YjYr9in2YsKICAgICAgICAgICAgICAgIGlmIChsZWF2ZS5vcmlnaW5hbFR5cGUpIHsKICAgICAgICAgICAgICAgICAgICBsZWF2ZVR5cGVTZWxlY3Quc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXR5cGUnLCBsZWF2ZS5vcmlnaW5hbFR5cGUpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitmD2YYg2YfZhtin2YMg2YbZiNi5INij2LXZhNmKINmF2K3ZgdmI2LjYjCDYp9iz2KrYrtiv2YUg2KfZhNmG2YjYuSDYp9mE2K3Yp9mE2YoKICAgICAgICAgICAgICAgICAgICBsZWF2ZVR5cGVTZWxlY3Quc2V0QXR0cmlidXRlKCdkYXRhLW9yaWdpbmFsLXR5cGUnLCBsZWF2ZS50eXBlIHx8ICcnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlU3RhcnREYXRlJykudmFsdWUgPSBsZWF2ZS5zdGFydERhdGUgfHwgJyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUVuZERhdGUnKS52YWx1ZSA9IGxlYXZlLmVuZERhdGUgfHwgJyc7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYqtit2YXZitmEINin2YTYs9in2LnYp9iqICjYrdiq2Ykg2YTZiCDZg9in2YbYqiBudWxsINij2YggdW5kZWZpbmVkKQogICAgICAgICAgICBjb25zdCBob3Vyc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlSG91cnMnKTsKICAgICAgICAgICAgaWYgKGhvdXJzSW5wdXQpIHsKICAgICAgICAgICAgICAgIGhvdXJzSW5wdXQudmFsdWUgPSBsZWF2ZS5ob3VycyAhPT0gbnVsbCAmJiBsZWF2ZS5ob3VycyAhPT0gdW5kZWZpbmVkID8gbGVhdmUuaG91cnMgOiAnJzsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlU3RhdHVzJykudmFsdWUgPSBsZWF2ZS5zdGF0dXMgfHwgJ3BlbmRpbmcnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVOb3RlcycpLnZhbHVlID0gbGVhdmUubm90ZXMgfHwgJyc7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3MjQyL2luZ2VzdC85MmExMDdiYy0zMzk2LTRiNmMtYTZkNi0zNGEyY2Y3ZjFiNDEnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J0h1bWFuIFJlc291cmNlcyBNYW5hZ2VtZW50Lmh0bWw6OTY2NCcsbWVzc2FnZTonZWRpdExlYXZlKCkgLSDYqNi52K8g2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqINmB2Yog2KfZhNit2YLZiNmEJyxkYXRhOntpZDppZCxlZGl0aW5nTGVhdmVJZDplZGl0aW5nTGVhdmVJZCxsZWF2ZVR5cGU6bGVhdmUudHlwZSxsZWF2ZVN0YXJ0RGF0ZTpsZWF2ZS5zdGFydERhdGUsbGVhdmVFbmREYXRlOmxlYXZlLmVuZERhdGUsbGVhdmVTdGF0dXM6bGVhdmUuc3RhdHVzLG9yaWdpbmFsVHlwZTpsZWF2ZS5vcmlnaW5hbFR5cGV9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDplZGl0U2Vzc2lvbklkLHJ1bklkOmVkaXRSdW5JZCxoeXBvdGhlc2lzSWQ6J0MnfSl9KS5jYXRjaCgoKT0+e30pOwogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtRURJVF0g2KjYudivINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqiDZgdmKINin2YTYrdmC2YjZhDonLCB7CiAgICAgICAgICAgICAgICBpZCwKICAgICAgICAgICAgICAgIGVkaXRpbmdMZWF2ZUlkLAogICAgICAgICAgICAgICAgdHlwZTogbGVhdmUudHlwZSwKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogbGVhdmUuc3RhcnREYXRlLAogICAgICAgICAgICAgICAgZW5kRGF0ZTogbGVhdmUuZW5kRGF0ZSwKICAgICAgICAgICAgICAgIHN0YXR1czogbGVhdmUuc3RhdHVzCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyAjZW5kcmVnaW9uCgogICAgICAgICAgICAvLyDYpdi42YfYp9ixL9il2K7Zgdin2KEg2K3ZgtmEINin2YTYs9in2LnYp9iqINmI2K7Zitin2LEg2KfZhNiu2LXZhSDYrdiz2Kgg2YbZiNi5INin2YTYpdis2KfYstipCiAgICAgICAgICAgIGNvbnN0IGxlYXZlSG91cnNHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUhvdXJzR3JvdXAnKTsKICAgICAgICAgICAgY29uc3QgbGVhdmVEZWR1Y3Rpb25Hcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZURlZHVjdGlvbkdyb3VwJyk7CiAgICAgICAgICAgIGNvbnN0IGxlYXZlUmVnaW9uR3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVSZWdpb25Hcm91cCcpOwogICAgICAgICAgICBpZiAobGVhdmUudHlwZSA9PT0gJ2hvdXJseScpIHsKICAgICAgICAgICAgICAgIGlmIChsZWF2ZUhvdXJzR3JvdXApIGxlYXZlSG91cnNHcm91cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgIGlmIChsZWF2ZURlZHVjdGlvbkdyb3VwKSBsZWF2ZURlZHVjdGlvbkdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBpZiAobGVhdmVSZWdpb25Hcm91cCkgbGVhdmVSZWdpb25Hcm91cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICB9IGVsc2UgaWYgKGxlYXZlLnR5cGUgPT09ICd1bnBhaWQnKSB7CiAgICAgICAgICAgICAgICBpZiAobGVhdmVIb3Vyc0dyb3VwKSBsZWF2ZUhvdXJzR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGlmIChsZWF2ZVJlZ2lvbkdyb3VwKSBsZWF2ZVJlZ2lvbkdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAvLyDYpdi42YfYp9ixINiu2YrYp9ixINin2YTYrti12YUg2YHZgti3INil2LDYpyDZg9in2YbYqiDYp9mE2KXYrNin2LLYqSDZhdit2YjZhNipINmF2YYg2LTZh9ix2YrYqSDYo9mIINiy2YXZhtmK2KkKICAgICAgICAgICAgICAgIGlmIChsZWF2ZURlZHVjdGlvbkdyb3VwICYmIGxlYXZlLmNvbnZlcnRlZEZyb21Nb250aGx5KSB7CiAgICAgICAgICAgICAgICAgICAgbGVhdmVEZWR1Y3Rpb25Hcm91cC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVEZWR1Y3Rpb25DaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUNhbGN1bGF0ZURlZHVjdGlvbicpOwogICAgICAgICAgICAgICAgICAgIGlmIChjYWxjdWxhdGVEZWR1Y3Rpb25DaGVja2JveCkgewogICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVEZWR1Y3Rpb25DaGVja2JveC5jaGVja2VkID0gbGVhdmUuY2FsY3VsYXRlRGVkdWN0aW9uICE9PSBmYWxzZTsgLy8g2KfZgdiq2LHYp9i22Yo6IHRydWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChsZWF2ZURlZHVjdGlvbkdyb3VwKSBsZWF2ZURlZHVjdGlvbkdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAobGVhdmUudHlwZSA9PT0gJ3dvcmstbWlzc2lvbicpIHsKICAgICAgICAgICAgICAgIGlmIChsZWF2ZUhvdXJzR3JvdXApIGxlYXZlSG91cnNHcm91cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgaWYgKGxlYXZlRGVkdWN0aW9uR3JvdXApIGxlYXZlRGVkdWN0aW9uR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGlmIChsZWF2ZVJlZ2lvbkdyb3VwKSBsZWF2ZVJlZ2lvbkdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtit2YXZitmEINmG2YjYuSDYp9mE2YXZh9mF2Kkg2YjYudiv2K8g2KfZhNiz2KfYudin2KoKICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZlTWlzc2lvblR5cGVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNaXNzaW9uVHlwZScpOwogICAgICAgICAgICAgICAgY29uc3QgbGVhdmVNaXNzaW9uSG91cnNJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1pc3Npb25Ib3VycycpOwogICAgICAgICAgICAgICAgY29uc3QgbGVhdmVNaXNzaW9uVHlwZUdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlTWlzc2lvblR5cGVHcm91cCcpOwogICAgICAgICAgICAgICAgY29uc3QgbGVhdmVNaXNzaW9uSG91cnNHcm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZU1pc3Npb25Ib3Vyc0dyb3VwJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChsZWF2ZU1pc3Npb25UeXBlU2VsZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgbGVhdmVNaXNzaW9uVHlwZVNlbGVjdC52YWx1ZSA9IGxlYXZlLm1pc3Npb25UeXBlIHx8ICcnOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZU1pc3Npb25UeXBlQ2hhbmdlKCk7IC8vINin2LPYqtiv2LnYp9ihINin2YTYr9in2YTYqSDZhNil2LjZh9in2LEv2KXYrtmB2KfYoSDYp9mE2K3ZgtmI2YQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChsZWF2ZU1pc3Npb25Ib3Vyc0lucHV0ICYmIGxlYXZlLm1pc3Npb25Ib3VycykgewogICAgICAgICAgICAgICAgICAgIGxlYXZlTWlzc2lvbkhvdXJzSW5wdXQudmFsdWUgPSBsZWF2ZS5taXNzaW9uSG91cnM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAobGVhdmVIb3Vyc0dyb3VwKSBsZWF2ZUhvdXJzR3JvdXAuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGlmIChsZWF2ZURlZHVjdGlvbkdyb3VwKSBsZWF2ZURlZHVjdGlvbkdyb3VwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICBpZiAobGVhdmVSZWdpb25Hcm91cCkgbGVhdmVSZWdpb25Hcm91cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYp9iz2KrYr9i52KfYoSBoYW5kbGVMZWF2ZVR5cGVDaGFuZ2Ug2YTZhNiq2KPZg9ivINmF2YYg2KXYuNmH2KfYsS/Ypdiu2YHYp9ihINin2YTYrdmC2YjZhCDYqNi02YPZhCDYtdit2YrYrQogICAgICAgICAgICBoYW5kbGVMZWF2ZVR5cGVDaGFuZ2UoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LnYp9iv2Kkg2K3Ys9in2Kgg2KfZhNil2KzYp9iy2KfYqiDYp9mE2YXYqtio2YLZitipINi52YbYryDYp9mE2KrYudiv2YrZhAogICAgICAgICAgICBpZiAobGVhdmUuZW1wbG95ZWVJZCkgewogICAgICAgICAgICAgICAgY2FsY3VsYXRlTGVhdmVCYWxhbmNlKGxlYXZlLmVtcGxveWVlSWQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICBjb25zdCBtb2RhbEFjdGl2ZSA9IG1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyk7CiAgICAgICAgICAgIGNvbnN0IGZpbmFsT25jbGljayA9IHN1Ym1pdEJ0biA/IHN1Ym1pdEJ0bi5nZXRBdHRyaWJ1dGUoJ29uY2xpY2snKSA6ICfYutmK2LEg2YXZiNis2YjYryc7CiAgICAgICAgICAgIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjcyNDIvaW5nZXN0LzkyYTEwN2JjLTMzOTYtNGI2Yy1hNmQ2LTM0YTJjZjdmMWI0MScse21ldGhvZDonUE9TVCcsaGVhZGVyczp7J0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSxib2R5OkpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjonSHVtYW4gUmVzb3VyY2VzIE1hbmFnZW1lbnQuaHRtbDo5Njg5JyxtZXNzYWdlOidlZGl0TGVhdmUoKSAtINmC2KjZhCDZgdiq2K0g2KfZhNmG2KfZgdiw2KknLGRhdGE6e2lkOmlkLGVkaXRpbmdMZWF2ZUlkOmVkaXRpbmdMZWF2ZUlkLG1vZGFsQWN0aXZlOm1vZGFsQWN0aXZlLGZpbmFsT25jbGljazpmaW5hbE9uY2xpY2t9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDplZGl0U2Vzc2lvbklkLHJ1bklkOmVkaXRSdW5JZCxoeXBvdGhlc2lzSWQ6J0cnfSl9KS5jYXRjaCgoKT0+e30pOwogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtRURJVF0g2YLYqNmEINmB2KrYrSDYp9mE2YbYp9mB2LDYqSAtIGVkaXRpbmdMZWF2ZUlkOicsIGVkaXRpbmdMZWF2ZUlkLCAnb25jbGljazonLCBmaW5hbE9uY2xpY2spOwogICAgICAgICAgICAvLyAjZW5kcmVnaW9uCgogICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjcyNDIvaW5nZXN0LzkyYTEwN2JjLTMzOTYtNGI2Yy1hNmQ2LTM0YTJjZjdmMWI0MScse21ldGhvZDonUE9TVCcsaGVhZGVyczp7J0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSxib2R5OkpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjonSHVtYW4gUmVzb3VyY2VzIE1hbmFnZW1lbnQuaHRtbDo5NjkwJyxtZXNzYWdlOidlZGl0TGVhdmUoKSAtINio2LnYryDZgdiq2K0g2KfZhNmG2KfZgdiw2KknLGRhdGE6e2lkOmlkLGVkaXRpbmdMZWF2ZUlkOmVkaXRpbmdMZWF2ZUlkLG1vZGFsQWN0aXZlTm93Om1vZGFsLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJyl9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDplZGl0U2Vzc2lvbklkLHJ1bklkOmVkaXRSdW5JZCxoeXBvdGhlc2lzSWQ6J0cnfSl9KS5jYXRjaCgoKT0+e30pOwogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtRURJVF0g2KjYudivINmB2KrYrSDYp9mE2YbYp9mB2LDYqSAtIGVkaXRpbmdMZWF2ZUlkOicsIGVkaXRpbmdMZWF2ZUlkKTsKICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgIH0KCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlTGVhdmUoKSB7CiAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25JZCA9ICdkZWJ1Zy1zZXNzaW9uLScgKyBEYXRlLm5vdygpOwogICAgICAgICAgICBjb25zdCBydW5JZCA9ICdydW4xJzsKICAgICAgICAgICAgZmV0Y2goJ2h0dHA6Ly8xMjcuMC4wLjE6NzI0Mi9pbmdlc3QvOTJhMTA3YmMtMzM5Ni00YjZjLWE2ZDYtMzRhMmNmN2YxYjQxJyx7bWV0aG9kOidQT1NUJyxoZWFkZXJzOnsnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbid9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2xvY2F0aW9uOidIdW1hbiBSZXNvdXJjZXMgTWFuYWdlbWVudC5odG1sOjk1NzgnLG1lc3NhZ2U6J3VwZGF0ZUxlYXZlKCkgLSDYqNiv2KEg2KfZhNiq2K3Yr9mK2KsnLGRhdGE6e2VkaXRpbmdMZWF2ZUlkOmVkaXRpbmdMZWF2ZUlkLGxlYXZlc0RhdGFDb3VudDpsZWF2ZXNEYXRhLmxlbmd0aH0sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOnNlc3Npb25JZCxydW5JZDpydW5JZCxoeXBvdGhlc2lzSWQ6J0EnfSl9KS5jYXRjaCgoKT0+e30pOwogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtVVBEQVRFXSDYqNiv2KEgdXBkYXRlTGVhdmUoKSwgZWRpdGluZ0xlYXZlSWQ6JywgZWRpdGluZ0xlYXZlSWQpOwogICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIWVkaXRpbmdMZWF2ZUlkKSB7CiAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgZmV0Y2goJ2h0dHA6Ly8xMjcuMC4wLjE6NzI0Mi9pbmdlc3QvOTJhMTA3YmMtMzM5Ni00YjZjLWE2ZDYtMzRhMmNmN2YxYjQxJyx7bWV0aG9kOidQT1NUJyxoZWFkZXJzOnsnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbid9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2xvY2F0aW9uOidIdW1hbiBSZXNvdXJjZXMgTWFuYWdlbWVudC5odG1sOjk1ODAnLG1lc3NhZ2U6J3VwZGF0ZUxlYXZlKCkgLSBlZGl0aW5nTGVhdmVJZCDZgdin2LHYuicsZGF0YTp7ZWRpdGluZ0xlYXZlSWQ6ZWRpdGluZ0xlYXZlSWR9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDpzZXNzaW9uSWQscnVuSWQ6cnVuSWQsaHlwb3RoZXNpc0lkOidBJ30pfSkuY2F0Y2goKCk9Pnt9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1VUERBVEVdIGVkaXRpbmdMZWF2ZUlkINmB2KfYsdi6IC0g2KXZitmC2KfZgSDYp9mE2KrYrdiv2YrYqycpOwogICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ0ZpcmViYXNlINi62YrYsSDZhdmH2YrYoycpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDZgtix2KfYodipIElEINin2YTZhdmI2LjZgSDZhdmGINin2YTYrdmC2YQg2KfZhNmF2K7ZgdmKCiAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlSGlkZGVuSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVFbXBsb3llZUlkSGlkZGVuJyk7CiAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVFbXBsb3llZUlkJyk7CiAgICAgICAgICAgIGxldCBlbXBsb3llZUlkID0gZW1wbG95ZWVIaWRkZW5JbnB1dCA/IGVtcGxveWVlSGlkZGVuSW5wdXQudmFsdWUgOiAnJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LDYpyDZhNmFINmK2YPZhiDZh9mG2KfZgyBJRCDZgdmKINin2YTYrdmC2YQg2KfZhNmF2K7ZgdmK2Iwg2K3Yp9mI2YQg2KfZhNio2K3YqyDZhdmGINin2YTZhti1INin2YTZhdiv2K7ZhAogICAgICAgICAgICBpZiAoIWVtcGxveWVlSWQgJiYgZW1wbG95ZWVJbnB1dCAmJiBlbXBsb3llZUlucHV0LnZhbHVlLnRyaW0oKSkgewogICAgICAgICAgICAgICAgY29uc3QgZGF0YWxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVFbXBsb3llZUxpc3QnKTsKICAgICAgICAgICAgICAgIGlmIChkYXRhbGlzdCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nT3B0aW9uID0gQXJyYXkuZnJvbShkYXRhbGlzdC5vcHRpb25zKS5maW5kKG9wdCA9PiBvcHQudmFsdWUgPT09IGVtcGxveWVlSW5wdXQudmFsdWUudHJpbSgpKTsKICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdPcHRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVJZCA9IG1hdGNoaW5nT3B0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1lbXBsb3llZS1pZCcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1wbG95ZWVJZCAmJiBlbXBsb3llZUhpZGRlbklucHV0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZUhpZGRlbklucHV0LnZhbHVlID0gZW1wbG95ZWVJZDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFlbXBsb3llZUlkKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINin2K7YqtmK2KfYsSDZhdmI2LjZgSDYtdit2YrYrSDZhdmGINin2YTZgtin2KbZhdipJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGxlYXZlVHlwZVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZVR5cGUnKTsKICAgICAgICAgICAgY29uc3QgdHlwZSA9IGxlYXZlVHlwZVNlbGVjdCA/IGxlYXZlVHlwZVNlbGVjdC52YWx1ZSA6ICcnOwogICAgICAgICAgICBjb25zdCBzdGFydERhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVTdGFydERhdGUnKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZWF2ZUVuZERhdGUnKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgaG91cnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVIb3VycycpLnZhbHVlOwogICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVTdGF0dXMnKS52YWx1ZSB8fCAncGVuZGluZyc7CiAgICAgICAgICAgIGNvbnN0IG5vdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlTm90ZXMnKS52YWx1ZS50cmltKCk7CgogICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3MjQyL2luZ2VzdC85MmExMDdiYy0zMzk2LTRiNmMtYTZkNi0zNGEyY2Y3ZjFiNDEnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J0h1bWFuIFJlc291cmNlcyBNYW5hZ2VtZW50Lmh0bWw6OTU5NScsbWVzc2FnZTondXBkYXRlTGVhdmUoKSAtINin2YTYqNmK2KfZhtin2Kog2KfZhNmF2K/YrtmE2KknLGRhdGE6e2VkaXRpbmdMZWF2ZUlkOmVkaXRpbmdMZWF2ZUlkLGVtcGxveWVlSWQ6ZW1wbG95ZWVJZCx0eXBlOnR5cGUsc3RhcnREYXRlOnN0YXJ0RGF0ZSxlbmREYXRlOmVuZERhdGUsc3RhdHVzOnN0YXR1c30sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOnNlc3Npb25JZCxydW5JZDpydW5JZCxoeXBvdGhlc2lzSWQ6J0EnfSl9KS5jYXRjaCgoKT0+e30pOwogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtVVBEQVRFXSDYp9mE2KjZitin2YbYp9iqINin2YTZhdiv2K7ZhNipOicsIHtlZGl0aW5nTGVhdmVJZCwgZW1wbG95ZWVJZCwgdHlwZSwgc3RhcnREYXRlLCBlbmREYXRlLCBzdGF0dXN9KTsKICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgoKICAgICAgICAgICAgaWYgKCFlbXBsb3llZUlkIHx8ICF0eXBlIHx8ICFzdGFydERhdGUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDYrNmF2YrYuSDYp9mE2K3ZgtmI2YQg2KfZhNmF2LfZhNmI2KjYqScpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodHlwZSAhPT0gJ2hvdXJseScgJiYgdHlwZSAhPT0gJ3VucGFpZCcgJiYgIWVuZERhdGUpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDYqtin2LHZitiuINin2YTYp9mG2KrZh9in2KEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdob3VybHknICYmICFob3VycykgewogICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYsdis2KfYoSDYpdiv2K7Yp9mEINi52K/YryDYp9mE2LPYp9i52KfYqicpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2LHYtdmK2K8g2LnZhtivINiq2LrZitmK2LEg2YbZiNi5INin2YTYpdis2KfYstipINmF2YYgItio2K/ZiNmGINix2KfYqtioIiDYpdmE2YkgIti02YfYsdmK2KkiCiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbW9udGhseScgJiYgZW5kRGF0ZSkgewogICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdMZWF2ZSA9IGxlYXZlc0RhdGEuZmluZChsID0+IGwuaWQgPT09IGVkaXRpbmdMZWF2ZUlkKTsKICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZgdmC2Lcg2KXYsNinINmD2KfZhtiqINin2YTYpdis2KfYstipINin2YTYrdin2YTZitipICLYqNiv2YjZhiDYsdin2KrYqCIg2KPZiCDYpdiw2Kcg2KrZhSDYqti62YrZitixINin2YTZhtmI2LkKICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmdMZWF2ZSB8fCBleGlzdGluZ0xlYXZlLnR5cGUgIT09ICdtb250aGx5JykgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlID0gZW1wbG95ZWVzRGF0YS5maW5kKGUgPT4gZS5pZCA9PT0gZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRobHlMZWF2ZURheXMgPSBlbXBsb3llZS5tb250aGx5TGVhdmVEYXlzIHx8IDIuNTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbEJhbGFuY2UgPSBlbXBsb3llZS5pbml0aWFsTGVhdmVCYWxhbmNlIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5RGF0ZSA9IGVtcGxveWVlLnN5c3RlbUVudHJ5RGF0ZSB8fCBlbXBsb3llZS5oaXJlRGF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbE1vbnRobHlMZWF2ZXMgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnlEYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzeXN0ZW1FbnRyeURhdGUgPSBuZXcgRGF0ZShlbnRyeURhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtRW50cnlEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdy5zZXRIb3VycygwLCAwLCAwLCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vbnRoc0RpZmYgPSAobm93LmdldEZ1bGxZZWFyKCkgLSBzeXN0ZW1FbnRyeURhdGUuZ2V0RnVsbFllYXIoKSkgKiAxMiArIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChub3cuZ2V0TW9udGgoKSAtIHN5c3RlbUVudHJ5RGF0ZS5nZXRNb250aCgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdy5nZXREYXRlKCkgPCBzeXN0ZW1FbnRyeURhdGUuZ2V0RGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhzRGlmZiAtPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9udGhzRGlmZiA8IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aHNEaWZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxNb250aGx5TGVhdmVzID0gKG1vbnRoc0RpZmYgKiBtb250aGx5TGVhdmVEYXlzKSArIGluaXRpYWxCYWxhbmNlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxNb250aGx5TGVhdmVzID0gaW5pdGlhbEJhbGFuY2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINit2LPYp9ioINin2YTYpdis2KfYstin2Kog2KfZhNmF2LPYqtiu2K/ZhdipICjYp9iz2KrYq9mG2KfYoSDYp9mE2KXYrNin2LLYqSDYp9mE2K3Yp9mE2YrYqSDYpdiw2Kcg2YPYp9mG2Kog2YXZiNin2YHZgiDYudmE2YrZh9inKQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9udGhseVVzZWQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb250aGx5TGVhdmVzID0gbGVhdmVzRGF0YS5maWx0ZXIobCA9PiAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwuZW1wbG95ZWVJZCA9PT0gZW1wbG95ZWVJZCAmJiAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwuaWQgIT09IGVkaXRpbmdMZWF2ZUlkICYmIC8vINin2LPYqtir2YbYp9ihINin2YTYpdis2KfYstipINin2YTYrdin2YTZitipCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsLnN0YXR1cyA9PT0gJ2FwcHJvdmVkJyAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwudHlwZSA9PT0gJ21vbnRobHknIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGwudHlwZSA9PT0gJ3VucGFpZCcgJiYgbC5jb252ZXJ0ZWRGcm9tTW9udGhseSA9PT0gdHJ1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRobHlMZWF2ZXMuZm9yRWFjaChsZWF2ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVhdmUuc3RhcnREYXRlICYmIGxlYXZlLmVuZERhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKGxlYXZlLnN0YXJ0RGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQuc2V0SG91cnMoMCwgMCwgMCwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUobGVhdmUuZW5kRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kLnNldEhvdXJzKDAsIDAsIDAsIDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnMoZW5kIC0gc3RhcnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZEYXlzID0gTWF0aC5jZWlsKGRpZmZUaW1lIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKSArIDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGhseVVzZWQgKz0gZGlmZkRheXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGhseUJhbGFuY2UgPSB0b3RhbE1vbnRobHlMZWF2ZXMgLSBtb250aGx5VXNlZDsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINit2LPYp9ioINmF2K/YqSDYp9mE2KXYrNin2LLYqSDYp9mE2YXYt9mE2YjYqNipCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoc3RhcnREYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoZW5kRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnMoZW5kIC0gc3RhcnQpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXF1aXJlZERheXMgPSBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpICsgMTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYsdi12YrYrwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9udGhseUJhbGFuY2UgPD0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vbnRobHlCYWxhbmNlIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGDimqDvuI8g2YTYpyDZitmF2YPZhiDYqtit2YjZitmEINin2YTYpdis2KfYstipINil2YTZiSAi2KXYrNin2LLYqSDYtNmH2LHZitipIlxuXG7Yp9mE2LHYtdmK2K8g2KfZhNit2KfZhNmKOiAke21vbnRobHlCYWxhbmNlLnRvRml4ZWQoMSl9INmK2YjZhSAo2LHYtdmK2K8g2LPYp9mE2KgpXG7Yp9mE2YXYt9mE2YjYqDogJHtyZXF1aXJlZERheXN9INmK2YjZhVxuXG7Yp9mE2LHYrNin2KEg2KXYqNmC2KfYoSDYp9mE2KXYrNin2LLYqSDZg9mAICLYpdis2KfYstipINio2K/ZiNmGINix2KfYqtioIiDYo9mIINiy2YrYp9iv2Kkg2LHYtdmK2K8g2KfZhNmF2YjYuNmBINij2YjZhNin2YsuYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYOKaoO+4jyDZhNinINmK2YXZg9mGINiq2K3ZiNmK2YQg2KfZhNil2KzYp9iy2Kkg2KXZhNmJICLYpdis2KfYstipINi02YfYsdmK2KkiXG5cbtin2YTYsdi12YrYryDYp9mE2K3Yp9mE2Yo6ICR7bW9udGhseUJhbGFuY2UudG9GaXhlZCgxKX0g2YrZiNmFICjYsdi12YrYryDYtdmB2LEpXG7Yp9mE2YXYt9mE2YjYqDogJHtyZXF1aXJlZERheXN9INmK2YjZhVxuXG7Yp9mE2LHYrNin2KEg2KXYqNmC2KfYoSDYp9mE2KXYrNin2LLYqSDZg9mAICLYpdis2KfYstipINio2K/ZiNmGINix2KfYqtioIiDYo9mIINiy2YrYp9iv2Kkg2LHYtdmK2K8g2KfZhNmF2YjYuNmBINij2YjZhNin2YsuYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycm9yTWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9udGhseUJhbGFuY2UgPCByZXF1aXJlZERheXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3J0YWdlID0gcmVxdWlyZWREYXlzIC0gbW9udGhseUJhbGFuY2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBg4pqg77iPINmE2Kcg2YrZhdmD2YYg2KrYrdmI2YrZhCDYp9mE2KXYrNin2LLYqSDYpdmE2YkgItil2KzYp9iy2Kkg2LTZh9ix2YrYqSJcblxu2KfZhNix2LXZitivINin2YTZhdiq2KfYrTogJHttb250aGx5QmFsYW5jZS50b0ZpeGVkKDEpfSDZitmI2YVcbtin2YTZhdi32YTZiNioOiAke3JlcXVpcmVkRGF5c30g2YrZiNmFXG7Yp9mE2YbZgti1OiAke3Nob3J0YWdlLnRvRml4ZWQoMSl9INmK2YjZhVxuXG7Yp9mE2LHYrNin2KEg2KXYqNmC2KfYoSDYp9mE2KXYrNin2LLYqSDZg9mAICLYpdis2KfYstipINio2K/ZiNmGINix2KfYqtioIiDYo9mIINiy2YrYp9iv2Kkg2LHYtdmK2K8g2KfZhNmF2YjYuNmBINij2YjZhNin2YsuYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycm9yTWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYudiv2YUg2KrZg9ix2KfYsSDYp9mE2KXYrNin2LLYp9iqINmE2YbZgdizINin2YTZhdmI2LjZgSDZgdmKINmG2YHYsyDYp9mE2YHYqtix2KkgKNin2LPYqtir2YbYp9ihINin2YTYpdis2KfYstipINin2YTYrdin2YTZitipKQogICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgIGNvbnN0IGJlZm9yZU92ZXJsYXBDaGVjayA9IGxlYXZlc0RhdGEuZmlsdGVyKGwgPT4gbC5lbXBsb3llZUlkID09PSBlbXBsb3llZUlkICYmIGwuaWQgIT09IGVkaXRpbmdMZWF2ZUlkKS5sZW5ndGg7CiAgICAgICAgICAgICAgICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3MjQyL2luZ2VzdC85MmExMDdiYy0zMzk2LTRiNmMtYTZkNi0zNGEyY2Y3ZjFiNDEnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J0h1bWFuIFJlc291cmNlcyBNYW5hZ2VtZW50Lmh0bWw6OTYxMicsbWVzc2FnZTondXBkYXRlTGVhdmUoKSAtINmC2KjZhCDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2KrYttin2LHYqCcsZGF0YTp7ZWRpdGluZ0xlYXZlSWQ6ZWRpdGluZ0xlYXZlSWQsZW1wbG95ZWVJZDplbXBsb3llZUlkLG90aGVyTGVhdmVzQ291bnQ6YmVmb3JlT3ZlcmxhcENoZWNrLHN0YXJ0RGF0ZTpzdGFydERhdGUsZW5kRGF0ZTplbmREYXRlLHR5cGU6dHlwZX0sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOnNlc3Npb25JZCxydW5JZDpydW5JZCxoeXBvdGhlc2lzSWQ6J0InfSl9KS5jYXRjaCgoKT0+e30pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUxFQVZFLVVQREFURV0g2YLYqNmEINin2YTYqtit2YLZgiDZhdmGINin2YTYqti22KfYsdioIC0g2KXYrNin2LLYp9iqINij2K7YsdmJINmE2YTZhdmI2LjZgTonLCBiZWZvcmVPdmVybGFwQ2hlY2spOwogICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBoYXNPdmVybGFwID0gY2hlY2tMZWF2ZU92ZXJsYXAoZW1wbG95ZWVJZCwgc3RhcnREYXRlLCBlbmREYXRlLCB0eXBlLCBlZGl0aW5nTGVhdmVJZCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgICAgICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3MjQyL2luZ2VzdC85MmExMDdiYy0zMzk2LTRiNmMtYTZkNi0zNGEyY2Y3ZjFiNDEnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J0h1bWFuIFJlc291cmNlcyBNYW5hZ2VtZW50Lmh0bWw6OTYxMycsbWVzc2FnZTondXBkYXRlTGVhdmUoKSAtINmG2KrZitis2Kkg2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNiq2LbYp9ix2KgnLGRhdGE6e2VkaXRpbmdMZWF2ZUlkOmVkaXRpbmdMZWF2ZUlkLGhhc092ZXJsYXA6aGFzT3ZlcmxhcH0sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOnNlc3Npb25JZCxydW5JZDpydW5JZCxoeXBvdGhlc2lzSWQ6J0InfSl9KS5jYXRjaCgoKT0+e30pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUxFQVZFLVVQREFURV0g2YbYqtmK2KzYqSDYp9mE2KrYrdmC2YIg2YXZhiDYp9mE2KrYttin2LHYqDonLCBoYXNPdmVybGFwKTsKICAgICAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGhhc092ZXJsYXApIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn4pqg77iPINmK2YjYrNivINil2KzYp9iy2Kkg2KPYrtix2Ykg2YTZhNmF2YjYuNmBINmB2Yog2YbZgdizINin2YTZgdiq2LHYqSDYp9mE2LLZhdmG2YrYqS4g2KfZhNix2KzYp9ihINin2YTYqtit2YLZgiDZhdmGINin2YTYqtmI2KfYsdmK2K4uJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYp9mE2K3Zgdin2Lgg2LnZhNmJINin2YTZhtmI2Lkg2KfZhNij2LXZhNmKINi52YbYryDYp9mE2KrYudiv2YrZhAogICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdMZWF2ZSA9IGxlYXZlc0RhdGEuZmluZChsID0+IGwuaWQgPT09IGVkaXRpbmdMZWF2ZUlkKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjcyNDIvaW5nZXN0LzkyYTEwN2JjLTMzOTYtNGI2Yy1hNmQ2LTM0YTJjZjdmMWI0MScse21ldGhvZDonUE9TVCcsaGVhZGVyczp7J0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSxib2R5OkpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjonSHVtYW4gUmVzb3VyY2VzIE1hbmFnZW1lbnQuaHRtbDo5NjE5JyxtZXNzYWdlOid1cGRhdGVMZWF2ZSgpIC0g2KfZhNil2KzYp9iy2Kkg2KfZhNmF2YjYrNmI2K/YqScsZGF0YTp7ZWRpdGluZ0xlYXZlSWQ6ZWRpdGluZ0xlYXZlSWQsZXhpc3RpbmdMZWF2ZUZvdW5kOiEhZXhpc3RpbmdMZWF2ZSxleGlzdGluZ0xlYXZlVHlwZTpleGlzdGluZ0xlYXZlPy50eXBlLGV4aXN0aW5nTGVhdmVPcmlnaW5hbFR5cGU6ZXhpc3RpbmdMZWF2ZT8ub3JpZ2luYWxUeXBlfSx0aW1lc3RhbXA6RGF0ZS5ub3coKSxzZXNzaW9uSWQ6c2Vzc2lvbklkLHJ1bklkOnJ1bklkLGh5cG90aGVzaXNJZDonQyd9KX0pLmNhdGNoKCgpPT57fSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtVVBEQVRFXSDYp9mE2KXYrNin2LLYqSDYp9mE2YXZiNis2YjYr9ipOicsIGV4aXN0aW5nTGVhdmUgPyB7aWQ6IGV4aXN0aW5nTGVhdmUuaWQsIHR5cGU6IGV4aXN0aW5nTGVhdmUudHlwZSwgb3JpZ2luYWxUeXBlOiBleGlzdGluZ0xlYXZlLm9yaWdpbmFsVHlwZX0gOiAn2LrZitixINmF2YjYrNmI2K/YqScpOwogICAgICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDZhdit2KfZiNmE2Kkg2KfZhNit2LXZiNmEINi52YTZiSDYp9mE2YbZiNi5INin2YTYo9i12YTZiiDZhdmGIGF0dHJpYnV0ZSDYo9mIINmF2YYg2KfZhNio2YrYp9mG2KfYqiDYp9mE2YXYrdmB2YjYuNipCiAgICAgICAgICAgICAgICBsZXQgb3JpZ2luYWxUeXBlID0gbGVhdmVUeXBlU2VsZWN0ID8gbGVhdmVUeXBlU2VsZWN0LmdldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC10eXBlJykgOiBudWxsOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitmD2YYg2YXZiNis2YjYr9in2Ysg2YHZiiBhdHRyaWJ1dGXYjCDYp9iz2KrYrtiv2YUg2KfZhNio2YrYp9mG2KfYqiDYp9mE2YXYrdmB2YjYuNipCiAgICAgICAgICAgICAgICBpZiAoIW9yaWdpbmFsVHlwZSAmJiBleGlzdGluZ0xlYXZlKSB7CiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxUeXBlID0gZXhpc3RpbmdMZWF2ZS5vcmlnaW5hbFR5cGUgfHwgZXhpc3RpbmdMZWF2ZS50eXBlIHx8IHR5cGU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINil2LDYpyDZhNmFINmK2YPZhiDZhdmI2KzZiNiv2KfZiyDYudmE2Ykg2KfZhNil2LfZhNin2YLYjCDYp9iz2KrYrtiv2YUg2KfZhNmG2YjYuSDYp9mE2K3Yp9mE2YoKICAgICAgICAgICAgICAgIGlmICghb3JpZ2luYWxUeXBlKSB7CiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxUeXBlID0gdHlwZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrYrdiv2YrYryDYrdin2YTYqSDYp9mE2KrYrdmI2YrZhDoKICAgICAgICAgICAgICAgIC8vIDEuINil2LDYpyDZg9in2YbYqiDYp9mE2KXYrNin2LLYqSDZhdmI2KzZiNiv2KnYjCDYp9it2KrZgdi4INio2K3Yp9mE2Kkg2KfZhNiq2K3ZiNmK2YQg2KfZhNij2LXZhNmK2Kkg2KXYsNinINmE2YUg2YrYqti62YrYsSDYp9mE2YbZiNi5CiAgICAgICAgICAgICAgICAvLyAyLiDYpdiw2Kcg2KrZhSDYqti62YrZitixINin2YTZhtmI2Lkg2YXZhiDYtNmH2LHZitipINij2Ygg2LLZhdmG2YrYqSDYpdmE2Ykg2KjYr9mI2YYg2LHYp9iq2Kgg2KPYq9mG2KfYoSDYp9mE2KrYudiv2YrZhNiMINit2K/ZkdirINin2YTYrdin2YTYqQogICAgICAgICAgICAgICAgbGV0IGNvbnZlcnRlZEZyb21Nb250aGx5ID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdMZWF2ZSkgewogICAgICAgICAgICAgICAgICAgIC8vINin2YTYrdmB2KfYuCDYudmE2Ykg2K3Yp9mE2Kkg2KfZhNiq2K3ZiNmK2YQg2KfZhNij2LXZhNmK2Kkg2KXYsNinINmE2YUg2YrYqti62YrYsSDYp9mE2YbZiNi5CiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nTGVhdmUudHlwZSA9PT0gdHlwZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWRGcm9tTW9udGhseSA9IGV4aXN0aW5nTGVhdmUuY29udmVydGVkRnJvbU1vbnRobHkgfHwgZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINiq2LrZitixINin2YTZhtmI2LnYjCDYp9it2LPYqCDYp9mE2K3Yp9mE2Kkg2KfZhNis2K/Zitiv2KkKICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGVkRnJvbU1vbnRobHkgPSAob3JpZ2luYWxUeXBlID09PSAnbW9udGhseScgJiYgdHlwZSA9PT0gJ3VucGFpZCcpIHx8IChvcmlnaW5hbFR5cGUgPT09ICdob3VybHknICYmIHR5cGUgPT09ICd1bnBhaWQnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vINil2KzYp9iy2Kkg2KzYr9mK2K/YqSAo2YTYpyDZitis2Kgg2KPZhiDZitit2K/YqyDZh9iw2KfYjCDZhNmD2YYg2YTZhNin2K3YqtmK2KfYtykKICAgICAgICAgICAgICAgICAgICBjb252ZXJ0ZWRGcm9tTW9udGhseSA9IChvcmlnaW5hbFR5cGUgPT09ICdtb250aGx5JyAmJiB0eXBlID09PSAndW5wYWlkJykgfHwgKG9yaWdpbmFsVHlwZSA9PT0gJ2hvdXJseScgJiYgdHlwZSA9PT0gJ3VucGFpZCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYp9mE2K3YtdmI2YQg2LnZhNmJINmC2YrZhdipINiu2YrYp9ixINin2YTYrti12YUgKNmB2YLYtyDZhNmE2KXYrNin2LLYp9iqINin2YTZhdit2YjZhNipINil2YTZiSDYqNiv2YjZhiDYsdin2KrYqCkKICAgICAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0ZURlZHVjdGlvbiA9IHR5cGUgPT09ICd1bnBhaWQnICYmIGNvbnZlcnRlZEZyb21Nb250aGx5IAogICAgICAgICAgICAgICAgICAgID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlQ2FsY3VsYXRlRGVkdWN0aW9uJyk/LmNoZWNrZWQgPz8gdHJ1ZSAKICAgICAgICAgICAgICAgICAgICA6IChleGlzdGluZ0xlYXZlPy5jYWxjdWxhdGVEZWR1Y3Rpb24gIT09IHVuZGVmaW5lZCA/IGV4aXN0aW5nTGVhdmUuY2FsY3VsYXRlRGVkdWN0aW9uIDogdHJ1ZSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINit2YHYuCDYp9mE2LHYp9iq2Kgg2KfZhNit2KfZhNmKINmI2KfZhNi52YXZhNipINi52YbYryDYqtit2K/ZitirINin2YTYpdis2KfYstipICjYpdiw2Kcg2KrYutmK2LEg2YbZiNi5INin2YTYpdis2KfYstipINil2YTZiSDYqNiv2YjZhiDYsdin2KrYqCDYo9mIINiq2LrZitixINiu2YrYp9ixINin2YTYrti12YUpCiAgICAgICAgICAgICAgICBsZXQgc2FsYXJ5QXRMZWF2ZURhdGUgPSBleGlzdGluZ0xlYXZlPy5zYWxhcnlBdExlYXZlRGF0ZSB8fCBudWxsOwogICAgICAgICAgICAgICAgbGV0IHNhbGFyeUN1cnJlbmN5QXRMZWF2ZSA9IGV4aXN0aW5nTGVhdmU/LnNhbGFyeUN1cnJlbmN5QXRMZWF2ZSB8fCBudWxsOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YPYp9mG2Kog2KfZhNil2KzYp9iy2Kkg2KjYr9mI2YYg2LHYp9iq2Kgg2YjZitiq2YUg2KfYrdiq2LPYp9ioINin2YTYrti12YXYjCDZhtit2YHYuCDYp9mE2LHYp9iq2Kgg2KfZhNit2KfZhNmKCiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3VucGFpZCcgJiYgY2FsY3VsYXRlRGVkdWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmE2YUg2YrZg9mGINmH2YbYp9mDINix2KfYqtioINmF2K3ZgdmI2Lgg2YXYs9io2YLYp9mLINij2Ygg2KrYutmK2LEg2YbZiNi5INin2YTYpdis2KfYstipINil2YTZiSDYqNiv2YjZhiDYsdin2KrYqAogICAgICAgICAgICAgICAgICAgIGlmICghc2FsYXJ5QXRMZWF2ZURhdGUgfHwgKGV4aXN0aW5nTGVhdmUgJiYgZXhpc3RpbmdMZWF2ZS50eXBlICE9PSAndW5wYWlkJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWUgPSBlbXBsb3llZXNEYXRhLmZpbmQoZSA9PiBlLmlkID09PSBlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtcGxveWVlICYmIGVtcGxveWVlLmN1cnJlbnRTYWxhcnkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeUF0TGVhdmVEYXRlID0gZW1wbG95ZWUuY3VycmVudFNhbGFyeTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbGFyeUN1cnJlbmN5QXRMZWF2ZSA9IGVtcGxveWVlLmN1cnJlbnRTYWxhcnlDdXJyZW5jeSB8fCAnSVFEJzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrYrdiv2YrYryDZhtmI2Lkg2KfZhNmF2YfZhdipINmI2LnYr9ivINin2YTYs9in2LnYp9iqINmE2YXZh9mF2Kkg2KfZhNi52YXZhAogICAgICAgICAgICAgICAgbGV0IG1pc3Npb25UeXBlID0gbnVsbDsKICAgICAgICAgICAgICAgIGxldCBtaXNzaW9uSG91cnMgPSBudWxsOwogICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICd3b3JrLW1pc3Npb24nKSB7CiAgICAgICAgICAgICAgICAgICAgbWlzc2lvblR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNaXNzaW9uVHlwZScpPy52YWx1ZSB8fCBudWxsOwogICAgICAgICAgICAgICAgICAgIGlmIChtaXNzaW9uVHlwZSA9PT0gJ2hvdXJseScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWlzc2lvbkhvdXJzID0gcGFyc2VGbG9hdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVNaXNzaW9uSG91cnMnKT8udmFsdWUgfHwgMCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZURhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgZW1wbG95ZWVJZDogZW1wbG95ZWVJZCwKICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsVHlwZTogb3JpZ2luYWxUeXBlLCAvLyDYp9mE2K3Zgdin2Lgg2LnZhNmJINin2YTZhtmI2Lkg2KfZhNij2LXZhNmKCiAgICAgICAgICAgICAgICAgICAgY29udmVydGVkRnJvbU1vbnRobHk6IGNvbnZlcnRlZEZyb21Nb250aGx5LCAvLyDYrdin2YTYqSDYp9mE2KrYrdmI2YrZhCAo2YXYrdiv2KvYqSDYpdiw2Kcg2KrYutmK2LEg2KfZhNmG2YjYuSkKICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVEZWR1Y3Rpb246IGNhbGN1bGF0ZURlZHVjdGlvbiwgLy8g2YfZhCDZitiq2YUg2KfYrdiq2LPYp9ioINiu2LXZhSDZhdin2YTZitifCiAgICAgICAgICAgICAgICAgICAgc2FsYXJ5QXRMZWF2ZURhdGU6IHNhbGFyeUF0TGVhdmVEYXRlLCAvLyDYp9mE2LHYp9iq2Kgg2KfZhNit2KfZhNmKINi52YbYryDYpdi22KfZgdipL9iq2K3Yr9mK2Ksg2KfZhNil2KzYp9iy2KkKICAgICAgICAgICAgICAgICAgICBzYWxhcnlDdXJyZW5jeUF0TGVhdmU6IHNhbGFyeUN1cnJlbmN5QXRMZWF2ZSwgLy8g2KfZhNi52YXZhNipINi52YbYryDYpdi22KfZgdipL9iq2K3Yr9mK2Ksg2KfZhNil2KzYp9iy2KkKICAgICAgICAgICAgICAgICAgICByZWdpb25JZDogKHR5cGUgPT09ICd3b3JrLW1pc3Npb24nKSA/IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVSZWdpb25JZCcpPy52YWx1ZSB8fCBudWxsKSA6IG51bGwsIC8vINin2YTZhdmG2LfZgtipINmE2YXZh9mF2Kkg2KfZhNi52YXZhAogICAgICAgICAgICAgICAgICAgIG1pc3Npb25UeXBlOiBtaXNzaW9uVHlwZSwgLy8g2YbZiNi5INin2YTZhdmH2YXYqSAo2LLZhdmG2YrYqSDYo9mIINmK2YjZhSDZg9in2YXZhCkKICAgICAgICAgICAgICAgICAgICBtaXNzaW9uSG91cnM6IG1pc3Npb25Ib3VycywgLy8g2LnYr9ivINiz2KfYudin2Kog2KfZhNmF2YfZhdipINil2LDYpyDZg9in2YbYqiDYstmF2YbZitipCiAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUsCiAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogKHR5cGUgPT09ICdob3VybHknIHx8ICh0eXBlID09PSAnd29yay1taXNzaW9uJyAmJiBtaXNzaW9uVHlwZSA9PT0gJ2hvdXJseScpKSA/IG51bGwgOiAoZW5kRGF0ZSB8fCBudWxsKSwgLy8g2KfZhNil2KzYp9iy2KfYqiDYp9mE2LLZhdmG2YrYqSDZiNmF2YfYp9mFINin2YTYudmF2YQg2KfZhNiy2YXZhtmK2Kkg2YTYpyDYqtit2KrYp9isIGVuZERhdGUKICAgICAgICAgICAgICAgICAgICBob3VyczogdHlwZSA9PT0gJ2hvdXJseScgPyBwYXJzZUZsb2F0KGhvdXJzKSA6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMsCiAgICAgICAgICAgICAgICAgICAgbm90ZXM6IG5vdGVzLAogICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogd2luZG93LmZpcmVzdG9yZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQnk6IGN1cnJlbnRVc2VyPy51aWQgfHwgJ3N5c3RlbScKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2LPYrNmK2YQg2KfZhNio2YrYp9mG2KfYqiDZhNmE2KrYrdmC2YIgKNmB2Yog2YjYtti5INin2YTYqti32YjZitixKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4g2KrYrdiv2YrYqyDYpdis2KfYstipOicsIHsKICAgICAgICAgICAgICAgICAgICBpZDogZWRpdGluZ0xlYXZlSWQsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogbGVhdmVEYXRhLnR5cGUsCiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxUeXBlOiBsZWF2ZURhdGEub3JpZ2luYWxUeXBlLAogICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlZEZyb21Nb250aGx5OiBsZWF2ZURhdGEuY29udmVydGVkRnJvbU1vbnRobHksCiAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogbGVhdmVEYXRhLmVuZERhdGUsCiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUeXBlOiBleGlzdGluZ0xlYXZlPy50eXBlLAogICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29udmVydGVkRnJvbU1vbnRobHk6IGV4aXN0aW5nTGVhdmU/LmNvbnZlcnRlZEZyb21Nb250aGx5CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlVXBkYXRlID0gbGVhdmVzRGF0YS5maWx0ZXIobCA9PiBsLmlkID09PSBlZGl0aW5nTGVhdmVJZCkubGVuZ3RoOwogICAgICAgICAgICAgICAgZmV0Y2goJ2h0dHA6Ly8xMjcuMC4wLjE6NzI0Mi9pbmdlc3QvOTJhMTA3YmMtMzM5Ni00YjZjLWE2ZDYtMzRhMmNmN2YxYjQxJyx7bWV0aG9kOidQT1NUJyxoZWFkZXJzOnsnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbid9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2xvY2F0aW9uOidIdW1hbiBSZXNvdXJjZXMgTWFuYWdlbWVudC5odG1sOjk3MDAnLG1lc3NhZ2U6J3VwZGF0ZUxlYXZlKCkgLSDZgtio2YQg2KfZhNiq2K3Yr9mK2Ksg2YHZiiBGaXJlYmFzZScsZGF0YTp7ZWRpdGluZ0xlYXZlSWQ6ZWRpdGluZ0xlYXZlSWQsbGVhdmVEYXRhOmxlYXZlRGF0YSxsZWF2ZXNEYXRhQ291bnRCZWZvcmU6bGVhdmVzRGF0YS5sZW5ndGgsZXhpc3RpbmdJbk1lbW9yeTpiZWZvcmVVcGRhdGV9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDpzZXNzaW9uSWQscnVuSWQ6cnVuSWQsaHlwb3RoZXNpc0lkOidEJ30pfSkuY2F0Y2goKCk9Pnt9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1VUERBVEVdINmC2KjZhCDYp9mE2KrYrdiv2YrYqyDZgdmKIEZpcmViYXNlIC0g2KfZhNil2KzYp9iy2Kkg2YXZiNis2YjYr9ipINmB2Yog2KfZhNiw2KfZg9ix2Kk6JywgYmVmb3JlVXBkYXRlKTsKICAgICAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmZpcmVzdG9yZS51cGRhdGVEb2MoCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmZpcmVzdG9yZS5kb2Mod2luZG93LmRiLCAnbGVhdmVzJywgZWRpdGluZ0xlYXZlSWQpLAogICAgICAgICAgICAgICAgICAgIGxlYXZlRGF0YQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgZmV0Y2goJ2h0dHA6Ly8xMjcuMC4wLjE6NzI0Mi9pbmdlc3QvOTJhMTA3YmMtMzM5Ni00YjZjLWE2ZDYtMzRhMmNmN2YxYjQxJyx7bWV0aG9kOidQT1NUJyxoZWFkZXJzOnsnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbid9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2xvY2F0aW9uOidIdW1hbiBSZXNvdXJjZXMgTWFuYWdlbWVudC5odG1sOjk3MDMnLG1lc3NhZ2U6J3VwZGF0ZUxlYXZlKCkgLSDYqNi52K8g2KfZhNiq2K3Yr9mK2Ksg2YHZiiBGaXJlYmFzZScsZGF0YTp7ZWRpdGluZ0xlYXZlSWQ6ZWRpdGluZ0xlYXZlSWR9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDpzZXNzaW9uSWQscnVuSWQ6cnVuSWQsaHlwb3RoZXNpc0lkOidEJ30pfSkuY2F0Y2goKCk9Pnt9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1VUERBVEVdINio2LnYryDYp9mE2KrYrdiv2YrYqyDZgdmKIEZpcmViYXNlJyk7CiAgICAgICAgICAgICAgICAvLyAjZW5kcmVnaW9uCgogICAgICAgICAgICAgICAgYWxlcnQoJ9iq2YUg2KrYrdiv2YrYqyDYp9mE2KXYrNin2LLYqSDYqNmG2KzYp9itIScpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICAgICAgY29uc3QgZWRpdGluZ0xlYXZlSWRCZWZvcmVIaWRlID0gZWRpdGluZ0xlYXZlSWQ7CiAgICAgICAgICAgICAgICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3MjQyL2luZ2VzdC85MmExMDdiYy0zMzk2LTRiNmMtYTZkNi0zNGEyY2Y3ZjFiNDEnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J0h1bWFuIFJlc291cmNlcyBNYW5hZ2VtZW50Lmh0bWw6OTcwNicsbWVzc2FnZTondXBkYXRlTGVhdmUoKSAtINmC2KjZhCBoaWRlQWRkTGVhdmVGb3JtJyxkYXRhOntlZGl0aW5nTGVhdmVJZDplZGl0aW5nTGVhdmVJZEJlZm9yZUhpZGV9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDpzZXNzaW9uSWQscnVuSWQ6cnVuSWQsaHlwb3RoZXNpc0lkOidFJ30pfSkuY2F0Y2goKCk9Pnt9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1VUERBVEVdINmC2KjZhCBoaWRlQWRkTGVhdmVGb3JtKCksIGVkaXRpbmdMZWF2ZUlkOicsIGVkaXRpbmdMZWF2ZUlkQmVmb3JlSGlkZSk7CiAgICAgICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGhpZGVBZGRMZWF2ZUZvcm0oKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjcyNDIvaW5nZXN0LzkyYTEwN2JjLTMzOTYtNGI2Yy1hNmQ2LTM0YTJjZjdmMWI0MScse21ldGhvZDonUE9TVCcsaGVhZGVyczp7J0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSxib2R5OkpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjonSHVtYW4gUmVzb3VyY2VzIE1hbmFnZW1lbnQuaHRtbDo5NzA3JyxtZXNzYWdlOid1cGRhdGVMZWF2ZSgpIC0g2KjYudivIGhpZGVBZGRMZWF2ZUZvcm0nLGRhdGE6e2VkaXRpbmdMZWF2ZUlkOmVkaXRpbmdMZWF2ZUlkfSx0aW1lc3RhbXA6RGF0ZS5ub3coKSxzZXNzaW9uSWQ6c2Vzc2lvbklkLHJ1bklkOnJ1bklkLGh5cG90aGVzaXNJZDonRSd9KX0pLmNhdGNoKCgpPT57fSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtVVBEQVRFXSDYqNi52K8gaGlkZUFkZExlYXZlRm9ybSgpLCBlZGl0aW5nTGVhdmVJZDonLCBlZGl0aW5nTGVhdmVJZCk7CiAgICAgICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRMZWF2ZXMoKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2cKICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyTG9hZCA9IGxlYXZlc0RhdGEuZmlsdGVyKGwgPT4gbC5pZCA9PT0gZWRpdGluZ0xlYXZlSWRCZWZvcmVIaWRlKS5sZW5ndGg7CiAgICAgICAgICAgICAgICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3MjQyL2luZ2VzdC85MmExMDdiYy0zMzk2LTRiNmMtYTZkNi0zNGEyY2Y3ZjFiNDEnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J0h1bWFuIFJlc291cmNlcyBNYW5hZ2VtZW50Lmh0bWw6OTcwOCcsbWVzc2FnZTondXBkYXRlTGVhdmUoKSAtINio2LnYryBsb2FkTGVhdmVzJyxkYXRhOntlZGl0aW5nTGVhdmVJZDplZGl0aW5nTGVhdmVJZEJlZm9yZUhpZGUsbGVhdmVzRGF0YUNvdW50QWZ0ZXI6bGVhdmVzRGF0YS5sZW5ndGgsZXhpc3RpbmdJbk1lbW9yeTphZnRlckxvYWQsZWRpdGluZ0xlYXZlSWROb3c6ZWRpdGluZ0xlYXZlSWR9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDpzZXNzaW9uSWQscnVuSWQ6cnVuSWQsaHlwb3RoZXNpc0lkOidEJ30pfSkuY2F0Y2goKCk9Pnt9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1VUERBVEVdINio2LnYryBsb2FkTGVhdmVzKCkgLSDYp9mE2KXYrNin2LLYqSDZhdmI2KzZiNiv2Kkg2YHZiiDYp9mE2LDYp9mD2LHYqTonLCBhZnRlckxvYWQsICdlZGl0aW5nTGVhdmVJZDonLCBlZGl0aW5nTGVhdmVJZCk7CiAgICAgICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2KrYrdiv2YrYqyDYp9mE2KXYrNin2LLYqTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUxlYXZlKGlkKSB7CiAgICAgICAgICAgIGlmICghY29uZmlybSgn2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINit2LDZgSDZh9iw2Ycg2KfZhNil2KzYp9iy2KnYnycpKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLmRlbGV0ZURvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICdsZWF2ZXMnLCBpZCkKICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgYWxlcnQoJ9iq2YUg2K3YsNmBINin2YTYpdis2KfYstipINio2YbYrNin2K0hJyk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkTGVhdmVzKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2K3YsNmBINin2YTYpdis2KfYstipOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0TGVhdmVUeXBlTmFtZSh0eXBlLCBsZWF2ZSA9IG51bGwpIHsKICAgICAgICAgICAgY29uc3QgdHlwZXMgPSB7CiAgICAgICAgICAgICAgICAnbW9udGhseSc6ICfYpdis2KfYstipINi02YfYsdmK2KknLAogICAgICAgICAgICAgICAgJ2hvdXJseSc6ICfYpdis2KfYstipINiy2YXZhtmK2KknLAogICAgICAgICAgICAgICAgJ3VucGFpZCc6ICfYpdis2KfYstipINio2K/ZiNmGINix2KfYqtioJywKICAgICAgICAgICAgICAgICd3b3JrLW1pc3Npb24nOiAn2YXZh9mF2Kkg2LnZhdmEJwogICAgICAgICAgICB9OwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhtiqINin2YTYpdis2KfYstipINmF2K3ZiNmE2Kkg2YXZhiDYtNmH2LHZitipINil2YTZiSDYqNiv2YjZhiDYsdin2KrYqAogICAgICAgICAgICBpZiAobGVhdmUgJiYgbGVhdmUudHlwZSA9PT0gJ3VucGFpZCcgJiYgbGVhdmUuY29udmVydGVkRnJvbU1vbnRobHkpIHsKICAgICAgICAgICAgICAgIHJldHVybiAn2KXYrNin2LLYqSDYqNiv2YjZhiDYsdin2KrYqCAo2YXYrdmI2YTYqSDZhdmGINi02YfYsdmK2KkpJzsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhtiqINmF2YfZhdipINi52YXZhNiMINij2LbZgSDZhtmI2Lkg2KfZhNmF2YfZhdipCiAgICAgICAgICAgIGlmICh0eXBlID09PSAnd29yay1taXNzaW9uJyAmJiBsZWF2ZSkgewogICAgICAgICAgICAgICAgaWYgKGxlYXZlLm1pc3Npb25UeXBlID09PSAnaG91cmx5JykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBg2YXZh9mF2Kkg2LnZhdmEICjYstmF2YbZitipIC0gJHtsZWF2ZS5taXNzaW9uSG91cnMgfHwgMH0g2LPYp9i52KkpYDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGVhdmUubWlzc2lvblR5cGUgPT09ICdmdWxsLWRheScpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ9mF2YfZhdipINi52YXZhCAo2YrZiNmFINmD2KfZhdmEKSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gJ9mF2YfZhdipINi52YXZhCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiB0eXBlc1t0eXBlXSB8fCB0eXBlOwogICAgICAgIH0KCiAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2KrYr9in2K7ZhCDYp9mE2KXYrNin2LLYp9iqINmE2YbZgdizINin2YTZhdmI2LjZgQogICAgICAgIGZ1bmN0aW9uIGNoZWNrTGVhdmVPdmVybGFwKGVtcGxveWVlSWQsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgdHlwZSwgZXhjbHVkZUxlYXZlSWQgPSBudWxsKSB7CiAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25JZCA9ICdkZWJ1Zy1zZXNzaW9uLScgKyBEYXRlLm5vdygpOwogICAgICAgICAgICBjb25zdCBydW5JZCA9ICdydW4xJzsKICAgICAgICAgICAgZmV0Y2goJ2h0dHA6Ly8xMjcuMC4wLjE6NzI0Mi9pbmdlc3QvOTJhMTA3YmMtMzM5Ni00YjZjLWE2ZDYtMzRhMmNmN2YxYjQxJyx7bWV0aG9kOidQT1NUJyxoZWFkZXJzOnsnQ29udGVudC1UeXBlJzonYXBwbGljYXRpb24vanNvbid9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe2xvY2F0aW9uOidIdW1hbiBSZXNvdXJjZXMgTWFuYWdlbWVudC5odG1sOjk3NTMnLG1lc3NhZ2U6J2NoZWNrTGVhdmVPdmVybGFwKCkgLSDYqNiv2KEg2KfZhNiq2K3ZgtmCJyxkYXRhOntlbXBsb3llZUlkOmVtcGxveWVlSWQsc3RhcnREYXRlOnN0YXJ0RGF0ZSxlbmREYXRlOmVuZERhdGUsdHlwZTp0eXBlLGV4Y2x1ZGVMZWF2ZUlkOmV4Y2x1ZGVMZWF2ZUlkLGxlYXZlc0RhdGFDb3VudDpsZWF2ZXNEYXRhLmxlbmd0aH0sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOnNlc3Npb25JZCxydW5JZDpydW5JZCxoeXBvdGhlc2lzSWQ6J0InfSl9KS5jYXRjaCgoKT0+e30pOwogICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBbREVCVUctTEVBVkUtT1ZFUkxBUF0g2KjYr9ihINin2YTYqtit2YLZgiDZhdmGINin2YTYqti22KfYsdioOicsIHtlbXBsb3llZUlkLCBzdGFydERhdGUsIGVuZERhdGUsIHR5cGUsIGV4Y2x1ZGVMZWF2ZUlkfSk7CiAgICAgICAgICAgIC8vICNlbmRyZWdpb24KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghZW1wbG95ZWVJZCB8fCAhc3RhcnREYXRlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXJ0ID0gbmV3IERhdGUoc3RhcnREYXRlKTsKICAgICAgICAgICAgbmV3U3RhcnQuc2V0SG91cnMoMCwgMCwgMCwgMCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDZhNmE2KXYrNin2LLYp9iqINin2YTYstmF2YbZitip2Iwg2YbYs9iq2K7Yr9mFINmG2YHYsyDYp9mE2KrYp9ix2YrYriDZg9iq2KfYsdmK2K4g2KjYr9in2YrYqSDZiNmG2YfYp9mK2KkKICAgICAgICAgICAgbGV0IG5ld0VuZCA9IG51bGw7CiAgICAgICAgICAgIGlmICh0eXBlID09PSAnaG91cmx5JykgewogICAgICAgICAgICAgICAgbmV3RW5kID0gbmV3IERhdGUoc3RhcnREYXRlKTsKICAgICAgICAgICAgICAgIG5ld0VuZC5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGVuZERhdGUpIHsKICAgICAgICAgICAgICAgIG5ld0VuZCA9IG5ldyBEYXRlKGVuZERhdGUpOwogICAgICAgICAgICAgICAgbmV3RW5kLnNldEhvdXJzKDIzLCA1OSwgNTksIDk5OSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyDZhNmE2KXYrNin2LLYp9iqINio2K/ZiNmGINix2KfYqtioINio2K/ZiNmGINiq2KfYsdmK2K4g2KfZhtiq2YfYp9ih2Iwg2YbYs9iq2K7Yr9mFINiq2KfYsdmK2K4g2KfZhNio2K/Yp9mK2Kkg2YHZgti3CiAgICAgICAgICAgICAgICBuZXdFbmQgPSBuZXcgRGF0ZShzdGFydERhdGUpOwogICAgICAgICAgICAgICAgbmV3RW5kLnNldEhvdXJzKDIzLCA1OSwgNTksIDk5OSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2YTYqNit2Ksg2LnZhiDYpdis2KfYstin2Kog2YXYqtiv2KfYrtmE2Kkg2YTZhtmB2LMg2KfZhNmF2YjYuNmBCiAgICAgICAgICAgIGNvbnN0IGFsbEVtcGxveWVlTGVhdmVzID0gbGVhdmVzRGF0YS5maWx0ZXIobCA9PiBsLmVtcGxveWVlSWQgPT09IGVtcGxveWVlSWQpOwogICAgICAgICAgICBjb25zdCB2YWxpZExlYXZlcyA9IGFsbEVtcGxveWVlTGVhdmVzLmZpbHRlcihsID0+IGwuc3RhdHVzICE9PSAncmVqZWN0ZWQnICYmIGwuc3RhdHVzICE9PSAnY2FuY2VsbGVkJyAmJiBsLnN0YXJ0RGF0ZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZwogICAgICAgICAgICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3MjQyL2luZ2VzdC85MmExMDdiYy0zMzk2LTRiNmMtYTZkNi0zNGEyY2Y3ZjFiNDEnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J0h1bWFuIFJlc291cmNlcyBNYW5hZ2VtZW50Lmh0bWw6OTc3NScsbWVzc2FnZTonY2hlY2tMZWF2ZU92ZXJsYXAoKSAtINmC2KjZhCDYp9mE2YHZhNiq2LHYqScsZGF0YTp7ZW1wbG95ZWVJZDplbXBsb3llZUlkLGFsbEVtcGxveWVlTGVhdmVzQ291bnQ6YWxsRW1wbG95ZWVMZWF2ZXMubGVuZ3RoLHZhbGlkTGVhdmVzQ291bnQ6dmFsaWRMZWF2ZXMubGVuZ3RoLGV4Y2x1ZGVMZWF2ZUlkOmV4Y2x1ZGVMZWF2ZUlkfSx0aW1lc3RhbXA6RGF0ZS5ub3coKSxzZXNzaW9uSWQ6c2Vzc2lvbklkLHJ1bklkOnJ1bklkLGh5cG90aGVzaXNJZDonQid9KX0pLmNhdGNoKCgpPT57fSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFtERUJVRy1MRUFWRS1PVkVSTEFQXSDYpdis2KfYstin2Kog2KfZhNmF2YjYuNmBOicsIHthbGw6IGFsbEVtcGxveWVlTGVhdmVzLmxlbmd0aCwgdmFsaWQ6IHZhbGlkTGVhdmVzLmxlbmd0aH0pOwogICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBvdmVybGFwcGluZ0xlYXZlcyA9IHZhbGlkTGVhdmVzLmZpbHRlcihsZWF2ZSA9PiB7CiAgICAgICAgICAgICAgICAvLyDYp9iz2KrYq9mG2KfYoSDYp9mE2KXYrNin2LLYqSDYp9mE2K3Yp9mE2YrYqSDYudmG2K8g2KfZhNiq2LnYr9mK2YQKICAgICAgICAgICAgICAgIGlmIChleGNsdWRlTGVhdmVJZCAmJiBsZWF2ZS5pZCA9PT0gZXhjbHVkZUxlYXZlSWQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmICghbGVhdmUuc3RhcnREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1N0YXJ0ID0gbmV3IERhdGUobGVhdmUuc3RhcnREYXRlKTsKICAgICAgICAgICAgICAgIGV4aXN0aW5nU3RhcnQuc2V0SG91cnMoMCwgMCwgMCwgMCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxldCBleGlzdGluZ0VuZCA9IG51bGw7CiAgICAgICAgICAgICAgICBpZiAobGVhdmUudHlwZSA9PT0gJ2hvdXJseScpIHsKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2KXYrNin2LLYp9iqINin2YTYstmF2YbZitipOiDZhtmB2LMg2KfZhNiq2KfYsdmK2K4KICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0VuZCA9IG5ldyBEYXRlKGxlYXZlLnN0YXJ0RGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdFbmQuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGVhdmUuZW5kRGF0ZSkgewogICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nRW5kID0gbmV3IERhdGUobGVhdmUuZW5kRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdFbmQuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KjYr9mI2YYg2KrYp9ix2YrYriDYp9mG2KrZh9in2KE6INmG2YHYsyDYqtin2LHZitiuINin2YTYqNiv2KfZitipCiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdFbmQgPSBuZXcgRGF0ZShsZWF2ZS5zdGFydERhdGUpOwogICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nRW5kLnNldEhvdXJzKDIzLCA1OSwgNTksIDk5OSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINin2YTYqtit2YLZgiDZhdmGINin2YTYqtiv2KfYrtmEOiDYp9mE2KXYrNin2LLYqSDYp9mE2KzYr9mK2K/YqSDYqtiq2K/Yp9iu2YQg2YXYuSDYp9mE2KXYrNin2LLYqSDYp9mE2YXZiNis2YjYr9ipCiAgICAgICAgICAgICAgICAvLyDYp9mE2KrYr9in2K7ZhCDZitit2K/YqyDYpdiw2Kc6CiAgICAgICAgICAgICAgICAvLyAxLiDYqtin2LHZitiuINio2K/Yp9mK2Kkg2KfZhNil2KzYp9iy2Kkg2KfZhNis2K/Zitiv2Kkg2YrZgti5INi22YXZhiDZgdiq2LHYqSDYp9mE2KXYrNin2LLYqSDYp9mE2YXZiNis2YjYr9ipCiAgICAgICAgICAgICAgICAvLyAyLiDYqtin2LHZitiuINmG2YfYp9mK2Kkg2KfZhNil2KzYp9iy2Kkg2KfZhNis2K/Zitiv2Kkg2YrZgti5INi22YXZhiDZgdiq2LHYqSDYp9mE2KXYrNin2LLYqSDYp9mE2YXZiNis2YjYr9ipCiAgICAgICAgICAgICAgICAvLyAzLiDYp9mE2KXYrNin2LLYqSDYp9mE2KzYr9mK2K/YqSDYqtit2KrZiNmKINi52YTZiSDYp9mE2KXYrNin2LLYqSDYp9mE2YXZiNis2YjYr9ipINio2KfZhNmD2KfZhdmECiAgICAgICAgICAgICAgICAvLyA0LiDYp9mE2KXYrNin2LLYqSDYp9mE2YXZiNis2YjYr9ipINiq2K3YqtmI2Yog2LnZhNmJINin2YTYpdis2KfYstipINin2YTYrNiv2YrYr9ipINio2KfZhNmD2KfZhdmECiAgICAgICAgICAgICAgICBjb25zdCBvdmVybGFwID0gKAogICAgICAgICAgICAgICAgICAgIChuZXdTdGFydCA+PSBleGlzdGluZ1N0YXJ0ICYmIG5ld1N0YXJ0IDw9IGV4aXN0aW5nRW5kKSB8fAogICAgICAgICAgICAgICAgICAgIChuZXdFbmQgPj0gZXhpc3RpbmdTdGFydCAmJiBuZXdFbmQgPD0gZXhpc3RpbmdFbmQpIHx8CiAgICAgICAgICAgICAgICAgICAgKG5ld1N0YXJ0IDw9IGV4aXN0aW5nU3RhcnQgJiYgbmV3RW5kID49IGV4aXN0aW5nRW5kKSB8fAogICAgICAgICAgICAgICAgICAgIChleGlzdGluZ1N0YXJ0IDw9IG5ld1N0YXJ0ICYmIGV4aXN0aW5nRW5kID49IG5ld0VuZCkKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgICAgICBpZiAob3ZlcmxhcCkgewogICAgICAgICAgICAgICAgICAgIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjcyNDIvaW5nZXN0LzkyYTEwN2JjLTMzOTYtNGI2Yy1hNmQ2LTM0YTJjZjdmMWI0MScse21ldGhvZDonUE9TVCcsaGVhZGVyczp7J0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSxib2R5OkpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjonSHVtYW4gUmVzb3VyY2VzIE1hbmFnZW1lbnQuaHRtbDo5ODE5JyxtZXNzYWdlOidjaGVja0xlYXZlT3ZlcmxhcCgpIC0g2KrZhSDYp9mE2LnYq9mI2LEg2LnZhNmJINiq2K/Yp9iu2YQnLGRhdGE6e2xlYXZlSWQ6bGVhdmUuaWQsbGVhdmVUeXBlOmxlYXZlLnR5cGUsbGVhdmVTdGFydERhdGU6bGVhdmUuc3RhcnREYXRlLGxlYXZlRW5kRGF0ZTpsZWF2ZS5lbmREYXRlLG5ld1N0YXJ0RGF0ZTpzdGFydERhdGUsbmV3RW5kRGF0ZTplbmREYXRlLGV4Y2x1ZGVMZWF2ZUlkOmV4Y2x1ZGVMZWF2ZUlkfSx0aW1lc3RhbXA6RGF0ZS5ub3coKSxzZXNzaW9uSWQ6c2Vzc2lvbklkLHJ1bklkOnJ1bklkLGh5cG90aGVzaXNJZDonQid9KX0pLmNhdGNoKCgpPT57fSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUxFQVZFLU9WRVJMQVBdINiq2K/Yp9iu2YQg2YXYuSDYpdis2KfYstipOicsIHtsZWF2ZUlkOiBsZWF2ZS5pZCwgbGVhdmVUeXBlOiBsZWF2ZS50eXBlLCBsZWF2ZVN0YXJ0OiBsZWF2ZS5zdGFydERhdGUsIGxlYXZlRW5kOiBsZWF2ZS5lbmREYXRlfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAjZW5kcmVnaW9uCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiBvdmVybGFwOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vICNyZWdpb24gYWdlbnQgbG9nCiAgICAgICAgICAgIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjcyNDIvaW5nZXN0LzkyYTEwN2JjLTMzOTYtNGI2Yy1hNmQ2LTM0YTJjZjdmMWI0MScse21ldGhvZDonUE9TVCcsaGVhZGVyczp7J0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSxib2R5OkpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjonSHVtYW4gUmVzb3VyY2VzIE1hbmFnZW1lbnQuaHRtbDo5ODI5JyxtZXNzYWdlOidjaGVja0xlYXZlT3ZlcmxhcCgpIC0g2YbYqtmK2KzYqSDYp9mE2KrYrdmC2YInLGRhdGE6e2VtcGxveWVlSWQ6ZW1wbG95ZWVJZCxvdmVybGFwcGluZ0xlYXZlc0NvdW50Om92ZXJsYXBwaW5nTGVhdmVzLmxlbmd0aCxvdmVybGFwcGluZ0xlYXZlc0lkczpvdmVybGFwcGluZ0xlYXZlcy5tYXAobD0+bC5pZCksZXhjbHVkZUxlYXZlSWQ6ZXhjbHVkZUxlYXZlSWR9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDpzZXNzaW9uSWQscnVuSWQ6cnVuSWQsaHlwb3RoZXNpc0lkOidCJ30pfSkuY2F0Y2goKCk9Pnt9KTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gW0RFQlVHLUxFQVZFLU9WRVJMQVBdINi52K/YryDYp9mE2KXYrNin2LLYp9iqINin2YTZhdiq2K/Yp9iu2YTYqTonLCBvdmVybGFwcGluZ0xlYXZlcy5sZW5ndGgsIG92ZXJsYXBwaW5nTGVhdmVzLm1hcChsID0+IGwuaWQpKTsKICAgICAgICAgICAgLy8gI2VuZHJlZ2lvbgogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKG92ZXJsYXBwaW5nTGVhdmVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPINiq2YUg2KfZhNi52KvZiNixINi52YTZiSDYpdis2KfYstin2Kog2YXYqtiv2KfYrtmE2Kk6Jywgb3ZlcmxhcHBpbmdMZWF2ZXMpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIC8vINit2LPYp9ioINin2YTYrti12YUg2YTZhNil2KzYp9iy2Kkg2KjYr9mI2YYg2LHYp9iq2KgKICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVVbnBhaWRMZWF2ZURlZHVjdGlvbihsZWF2ZSwgZW1wbG95ZWUpIHsKICAgICAgICAgICAgaWYgKGxlYXZlLnR5cGUgIT09ICd1bnBhaWQnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2K7Zitin2LEg2KfYrdiq2LPYp9ioINin2YTYrti12YUgKNmB2YLYtyDZhNmE2KXYrNin2LLYp9iqINin2YTZhdit2YjZhNipKQogICAgICAgICAgICBpZiAobGVhdmUuY29udmVydGVkRnJvbU1vbnRobHkgJiYgbGVhdmUuY2FsY3VsYXRlRGVkdWN0aW9uID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vINmE2Kcg2YrYqtmFINin2K3Yqtiz2KfYqCDYrti12YUg2KXYsNinINmD2KfZhiDYp9mE2K7Zitin2LEg2YXYudi32YTYp9mLCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINin2LPYqtiu2K/Yp9mFINin2YTYsdin2KrYqCDYp9mE2YXYrdmB2YjYuCDYudmG2K8g2KXYttin2YHYqSDYp9mE2KXYrNin2LLYqSAo2KXZhiDZiNis2K8p2Iwg2YjYpdmE2Kcg2KfYs9iq2K7Yr9in2YUg2KfZhNix2KfYqtioINin2YTYrdin2YTZigogICAgICAgICAgICBjb25zdCBzYWxhcnlUb1VzZSA9IGxlYXZlLnNhbGFyeUF0TGVhdmVEYXRlIHx8IGVtcGxveWVlLmN1cnJlbnRTYWxhcnk7CiAgICAgICAgICAgIGlmICghc2FsYXJ5VG9Vc2UgfHwgc2FsYXJ5VG9Vc2UgPD0gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YbYqiDYp9mE2KXYrNin2LLYqSDYstmF2YbZitipIChob3VybHkpIC0g2KfYrdiq2LPYp9ioINin2YTYrti12YUg2KjZhtin2KHZiyDYudmE2Ykg2KfZhNiz2KfYudin2KoKICAgICAgICAgICAgaWYgKGxlYXZlLm9yaWdpbmFsVHlwZSA9PT0gJ2hvdXJseScgJiYgbGVhdmUuaG91cnMpIHsKICAgICAgICAgICAgICAgIC8vINit2LPYp9ioINi52K/YryDYs9in2LnYp9iqINin2YTYudmF2YQg2YHZiiDYp9mE2LTZh9ixICjYp9mB2KrYsdin2LbZijogOCDYs9in2LnYp9iqIMOXIDIyINmK2YjZhSDYudmF2YQgPSAxNzYg2LPYp9i52KkpCiAgICAgICAgICAgICAgICAvLyDYo9mIINmK2YXZg9mGINin2LPYqtiu2K/Yp9mFINiz2KfYudin2Kog2KfZhNi52YXZhCDYp9mE2LTZh9ix2YrYqSDZhdmGINio2YrYp9mG2KfYqiDYp9mE2YXZiNi42YEg2KXZhiDZiNis2K/YqgogICAgICAgICAgICAgICAgY29uc3Qgd29ya2luZ0hvdXJzUGVyRGF5ID0gODsgLy8g2LPYp9i52KfYqiDYp9mE2LnZhdmEINin2YTZitmI2YXZitipCiAgICAgICAgICAgICAgICBsZXQgZGF5c0luTW9udGggPSAzMDsgLy8g2KfZgdiq2LHYp9i22YoKICAgICAgICAgICAgICAgIGlmIChsZWF2ZS5zdGFydERhdGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZURhdGUgPSBuZXcgRGF0ZShsZWF2ZS5zdGFydERhdGUpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHllYXIgPSBsZWF2ZURhdGUuZ2V0RnVsbFllYXIoKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBtb250aCA9IGxlYXZlRGF0ZS5nZXRNb250aCgpOwogICAgICAgICAgICAgICAgICAgIGRheXNJbk1vbnRoID0gbmV3IERhdGUoeWVhciwgbW9udGggKyAxLCAwKS5nZXREYXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjb25zdCB3b3JraW5nSG91cnNQZXJNb250aCA9IHdvcmtpbmdIb3Vyc1BlckRheSAqIGRheXNJbk1vbnRoOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2K7YtdmFOiAo2KfZhNix2KfYqtioINin2YTYtNmH2LHZiiAvINi52K/YryDYs9in2LnYp9iqINin2YTYudmF2YQg2KfZhNi02YfYsdmK2KkpIMOXINi52K/YryDYs9in2LnYp9iqINin2YTYpdis2KfYstipCiAgICAgICAgICAgICAgICBjb25zdCBob3VybHlTYWxhcnkgPSBzYWxhcnlUb1VzZSAvIHdvcmtpbmdIb3Vyc1Blck1vbnRoOwogICAgICAgICAgICAgICAgY29uc3QgZGVkdWN0aW9uID0gaG91cmx5U2FsYXJ5ICogbGVhdmUuaG91cnM7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGRlZHVjdGlvbiAqIDEwMCkgLyAxMDA7IC8vINiq2YLYsdmK2Kgg2KXZhNmJINix2YLZhdmK2YYg2LnYtNix2YrZitmGCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINmE2YTYpdis2KfYstin2Kog2KfZhNi02YfYsdmK2KkgLSDYp9it2KrYs9in2Kgg2KfZhNiu2LXZhSDYqNmG2KfYodmLINi52YTZiSDYp9mE2KPZitin2YUKICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2LnYr9ivINin2YTYo9mK2KfZhQogICAgICAgICAgICBsZXQgZGF5cyA9IDA7CiAgICAgICAgICAgIGlmIChsZWF2ZS5zdGFydERhdGUgJiYgbGVhdmUuZW5kRGF0ZSkgewogICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShsZWF2ZS5zdGFydERhdGUpOwogICAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUobGVhdmUuZW5kRGF0ZSk7CiAgICAgICAgICAgICAgICBjb25zdCBkaWZmVGltZSA9IE1hdGguYWJzKGVuZCAtIHN0YXJ0KTsKICAgICAgICAgICAgICAgIGRheXMgPSBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpICsgMTsKICAgICAgICAgICAgfSBlbHNlIGlmIChsZWF2ZS5zdGFydERhdGUpIHsKICAgICAgICAgICAgICAgIGRheXMgPSAxOyAvLyDYpdiw2Kcg2YTZhSDZitmD2YYg2YfZhtin2YMg2KrYp9ix2YrYriDYp9mG2KrZh9in2KHYjCDZhti52KrYqNixINmK2YjZhSDZiNin2K3YrwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoZGF5cyA8PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2LnYr9ivINij2YrYp9mFINin2YTYtNmH2LEg2KfZhNmB2LnZhNmKICjYrdiz2Kgg2KrYp9ix2YrYriDYp9mE2KXYrNin2LLYqSkKICAgICAgICAgICAgbGV0IGRheXNJbk1vbnRoID0gMzA7IC8vINin2YHYqtix2KfYttmKCiAgICAgICAgICAgIGlmIChsZWF2ZS5zdGFydERhdGUpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZlRGF0ZSA9IG5ldyBEYXRlKGxlYXZlLnN0YXJ0RGF0ZSk7CiAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gbGVhdmVEYXRlLmdldEZ1bGxZZWFyKCk7CiAgICAgICAgICAgICAgICBjb25zdCBtb250aCA9IGxlYXZlRGF0ZS5nZXRNb250aCgpOwogICAgICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2LnYr9ivINij2YrYp9mFINin2YTYtNmH2LEg2KfZhNmB2LnZhNmKCiAgICAgICAgICAgICAgICBkYXlzSW5Nb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoICsgMSwgMCkuZ2V0RGF0ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2K7YtdmFOiAo2KfZhNix2KfYqtioINin2YTYtNmH2LHZiiAvINi52K/YryDYo9mK2KfZhSDYp9mE2LTZh9ixKSDDlyDYudiv2K8g2KfZhNij2YrYp9mFCiAgICAgICAgICAgIGNvbnN0IGRhaWx5U2FsYXJ5ID0gc2FsYXJ5VG9Vc2UgLyBkYXlzSW5Nb250aDsKICAgICAgICAgICAgY29uc3QgZGVkdWN0aW9uID0gZGFpbHlTYWxhcnkgKiBkYXlzOwogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoZGVkdWN0aW9uICogMTAwKSAvIDEwMDsgLy8g2KrZgtix2YrYqCDYpdmE2Ykg2LHZgtmF2YrZhiDYudi02LHZitmK2YYKICAgICAgICB9CgogICAgICAgIC8vINiq2KjYr9mK2YQg2K3Yp9mE2Kkg2LnYsdi2INin2YTYrti12YjZhdin2KoKICAgICAgICBmdW5jdGlvbiB0b2dnbGVEZWR1Y3Rpb25WaWV3KCkgewogICAgICAgICAgICBpZiAod2luZG93LmRlZHVjdGlvblZpZXdVbmxvY2tlZCkgewogICAgICAgICAgICAgICAgLy8g2KXYutmE2KfZgiDYp9mE2LnYsdi2CiAgICAgICAgICAgICAgICB3aW5kb3cuZGVkdWN0aW9uVmlld1VubG9ja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb25zdCBsb2NrSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWR1Y3Rpb25Mb2NrSWNvbicpOwogICAgICAgICAgICAgICAgaWYgKGxvY2tJY29uKSB7CiAgICAgICAgICAgICAgICAgICAgbG9ja0ljb24udGV4dENvbnRlbnQgPSAn8J+Ukic7CiAgICAgICAgICAgICAgICAgICAgbG9ja0ljb24udGl0bGUgPSAn2KfZhtmC2LEg2YTYpdi42YfYp9ixINin2YTYrti12YjZhdin2KonOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGlzcGxheUxlYXZlcygpOyAvLyDYpdi52KfYr9ipINi52LHYtiDYp9mE2KzYr9mI2YQKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vINi32YTYqCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEKICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gcHJvbXB0KCfYp9mE2LHYrNin2KEg2KXYr9iu2KfZhCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YTYudix2LYg2KfZhNiu2LXZiNmF2KfYqjonKTsKICAgICAgICAgICAgICAgIGlmIChwYXNzd29yZCA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8g2KfZhNmF2LPYqtiu2K/ZhSDYo9mE2LrZiSDYp9mE2LnZhdmE2YrYqQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAocGFzc3dvcmQgIT09IERFRFVDVElPTl9WSUVXX1BBU1NXT1JEKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+KdjCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2LrZitixINi12K3Zitit2KknKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINmB2KrYrSDYp9mE2LnYsdi2CiAgICAgICAgICAgICAgICB3aW5kb3cuZGVkdWN0aW9uVmlld1VubG9ja2VkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbnN0IGxvY2tJY29uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlZHVjdGlvbkxvY2tJY29uJyk7CiAgICAgICAgICAgICAgICBpZiAobG9ja0ljb24pIHsKICAgICAgICAgICAgICAgICAgICBsb2NrSWNvbi50ZXh0Q29udGVudCA9ICfwn5STJzsKICAgICAgICAgICAgICAgICAgICBsb2NrSWNvbi50aXRsZSA9ICfYp9mG2YLYsSDZhNil2K7Zgdin2KEg2KfZhNiu2LXZiNmF2KfYqic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkaXNwbGF5TGVhdmVzKCk7IC8vINil2LnYp9iv2Kkg2LnYsdi2INin2YTYrNiv2YjZhAogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2KXYrNin2LLYp9iqINin2YTZhdiq2KjZgtmK2Kkg2YTZhNmF2YjYuNmBCiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlTGVhdmVCYWxhbmNlKGVtcGxveWVlSWQpIHsKICAgICAgICAgICAgY29uc3QgZW1wbG95ZWUgPSBlbXBsb3llZXNEYXRhLmZpbmQoZSA9PiBlLmlkID09PSBlbXBsb3llZUlkKTsKICAgICAgICAgICAgaWYgKCFlbXBsb3llZSkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlYXZlQmFsYW5jZUluZm8nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBtb250aGx5TGVhdmVEYXlzID0gZW1wbG95ZWUubW9udGhseUxlYXZlRGF5cyB8fCAyLjU7CiAgICAgICAgICAgIGNvbnN0IGhvdXJseUxlYXZlSG91cnMgPSBlbXBsb3llZS5ob3VybHlMZWF2ZUhvdXJzIHx8IDg7CgogICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2KXYrNin2LLYp9iqINin2YTYtNmH2LHZitipINin2YTZhdiz2KrYrtiv2YXYqSAo2KrYsdin2YPZhdmK2Kkg2YXZhiDYqtin2LHZitiuINin2YTYpdiv2LHYp9isINmB2Yog2KfZhNmG2LjYp9mFICsg2KfZhNix2LXZitivINin2YTYp9io2KrYr9in2KbZiikKICAgICAgICAgICAgbGV0IG1vbnRobHlVc2VkID0gMDsKICAgICAgICAgICAgY29uc3QgaW5pdGlhbEJhbGFuY2UgPSBlbXBsb3llZS5pbml0aWFsTGVhdmVCYWxhbmNlIHx8IDA7CiAgICAgICAgICAgIGNvbnN0IGVudHJ5RGF0ZSA9IGVtcGxveWVlLnN5c3RlbUVudHJ5RGF0ZSB8fCBlbXBsb3llZS5oaXJlRGF0ZTsgLy8g2KfYs9iq2K7Yr9in2YUg2KrYp9ix2YrYriDYp9mE2KXYr9ix2KfYrCDYo9mIINiq2KfYsdmK2K4g2KfZhNiq2LnZitmK2YYg2YPYqNiv2YrZhAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKGVudHJ5RGF0ZSkgewogICAgICAgICAgICAgICAgY29uc3Qgc3lzdGVtRW50cnlEYXRlID0gbmV3IERhdGUoZW50cnlEYXRlKTsKICAgICAgICAgICAgICAgIHN5c3RlbUVudHJ5RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTsgLy8g2LbYqNi3INin2YTZiNmC2Kog2KXZhNmJINio2K/Yp9mK2Kkg2KfZhNmK2YjZhQogICAgICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgIG5vdy5zZXRIb3VycygwLCAwLCAwLCAwKTsgLy8g2LbYqNi3INin2YTZiNmC2Kog2KXZhNmJINio2K/Yp9mK2Kkg2KfZhNmK2YjZhQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYudiv2K8g2KfZhNij2LTZh9ixINio2K/ZgtipICjZhdix2KfYudin2Kkg2KfZhNij2YrYp9mFKQogICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2YrZiNmFINin2YTYrdin2YTZiiA+PSDZitmI2YUg2KfZhNil2K/Ysdin2KzYjCDZhtit2LPYqCDYp9mE2LTZh9ixINin2YTYrdin2YTZiiDZg9in2YXZhNin2YsKICAgICAgICAgICAgICAgIC8vINmI2KXZhNinINmE2Kcg2YbYrdiz2KjZhwogICAgICAgICAgICAgICAgbGV0IG1vbnRoc0RpZmYgPSAobm93LmdldEZ1bGxZZWFyKCkgLSBzeXN0ZW1FbnRyeURhdGUuZ2V0RnVsbFllYXIoKSkgKiAxMiArIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChub3cuZ2V0TW9udGgoKSAtIHN5c3RlbUVudHJ5RGF0ZS5nZXRNb250aCgpKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2YrZiNmFINin2YTYrdin2YTZiiA8INmK2YjZhSDYp9mE2KXYr9ix2KfYrNiMINmE2Kcg2YbYrdiz2Kgg2KfZhNi02YfYsSDYp9mE2K3Yp9mE2YoKICAgICAgICAgICAgICAgIGlmIChub3cuZ2V0RGF0ZSgpIDwgc3lzdGVtRW50cnlEYXRlLmdldERhdGUoKSkgewogICAgICAgICAgICAgICAgICAgIG1vbnRoc0RpZmYgLT0gMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KfZhNiq2KPZg9ivINmF2YYg2KPZhiDYudiv2K8g2KfZhNij2LTZh9ixINmE2YrYsyDYs9in2YTYqNin2YsKICAgICAgICAgICAgICAgIGlmIChtb250aHNEaWZmIDwgMCkgewogICAgICAgICAgICAgICAgICAgIG1vbnRoc0RpZmYgPSAwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYp9mE2KXYrNin2LLYp9iqINin2YTYtNmH2LHZitipINin2YTZhdiq2LHYp9mD2YXYqSA9ICjYudiv2K8g2KfZhNij2LTZh9ixIMOXINin2YTYpdis2KfYstin2Kog2KfZhNi02YfYsdmK2KkpICsg2KfZhNix2LXZitivINin2YTYp9io2KrYr9in2KbZigogICAgICAgICAgICAgICAgY29uc3QgdG90YWxNb250aGx5TGVhdmVzID0gKG1vbnRoc0RpZmYgKiBtb250aGx5TGVhdmVEYXlzKSArIGluaXRpYWxCYWxhbmNlOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2KXYrNin2LLYp9iqINin2YTYtNmH2LHZitipINin2YTZhdiz2KrYrtiv2YXYqSAo2KfZhNmF2YjYp9mB2YIg2LnZhNmK2YfYpyDZgdmC2LcpCiAgICAgICAgICAgICAgICAvLyDZhdmE2KfYrdi42Kk6IAogICAgICAgICAgICAgICAgLy8gMS4g2KzZhdmK2Lkg2KfZhNil2KzYp9iy2KfYqiDZhdmGINmG2YjYuSAibW9udGhseSIg2KrZj9it2LPYqCDZgdmKINin2YTYsdi12YrYryDYp9mE2YXYs9iq2K7Yr9mFCiAgICAgICAgICAgICAgICAvLyAyLiDYp9mE2KXYrNin2LLYp9iqINmF2YYg2YbZiNi5ICJ1bnBhaWQiINin2YTYqtmKINiq2YUg2KrYrdmI2YrZhNmH2Kcg2YXZhiAibW9udGhseSIgKGNvbnZlcnRlZEZyb21Nb250aGx5ID09PSB0cnVlKSDYqtmP2K3Ys9ioINij2YrYttin2YsKICAgICAgICAgICAgICAgIC8vIDMuINin2YTYpdis2KfYstin2Kog2YXZhiDZhtmI2LkgInVucGFpZCIg2KfZhNmF2KjYp9i02LHYqSAo2LrZitixINmF2K3ZiNmE2KkpINmE2Kcg2KrZj9it2LPYqCDZgdmKINin2YTYsdi12YrYryDYp9mE2YXYs9iq2K7Yr9mFCiAgICAgICAgICAgICAgICBjb25zdCBtb250aGx5TGVhdmVzID0gbGVhdmVzRGF0YS5maWx0ZXIobCA9PiAKICAgICAgICAgICAgICAgICAgICBsLmVtcGxveWVlSWQgPT09IGVtcGxveWVlSWQgJiYgCiAgICAgICAgICAgICAgICAgICAgbC5zdGF0dXMgPT09ICdhcHByb3ZlZCcgJiYgLy8g2KfZhNmF2YjYp9mB2YIg2LnZhNmK2YfYpyDZgdmC2LcKICAgICAgICAgICAgICAgICAgICAoCiAgICAgICAgICAgICAgICAgICAgICAgIGwudHlwZSA9PT0gJ21vbnRobHknIHx8IC8vINin2YTYpdis2KfYstin2Kog2KfZhNi02YfYsdmK2KkKICAgICAgICAgICAgICAgICAgICAgICAgKGwudHlwZSA9PT0gJ3VucGFpZCcgJiYgbC5jb252ZXJ0ZWRGcm9tTW9udGhseSA9PT0gdHJ1ZSkgLy8g2KfZhNil2KzYp9iy2KfYqiDYp9mE2YXYrdmI2YTYqSDZhdmGINi02YfYsdmK2Kkg2KXZhNmJINio2K/ZiNmGINix2KfYqtioCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbW9udGhseUxlYXZlcy5mb3JFYWNoKGxlYXZlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAobGVhdmUuc3RhcnREYXRlICYmIGxlYXZlLmVuZERhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShsZWF2ZS5zdGFydERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICBzdGFydC5zZXRIb3VycygwLCAwLCAwLCAwKTsgLy8g2LbYqNi3INin2YTZiNmC2Kog2KXZhNmJINio2K/Yp9mK2Kkg2KfZhNmK2YjZhQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZShsZWF2ZS5lbmREYXRlKTsKICAgICAgICAgICAgICAgICAgICAgICAgZW5kLnNldEhvdXJzKDAsIDAsIDAsIDApOyAvLyDYttio2Lcg2KfZhNmI2YLYqiDYpdmE2Ykg2KjYr9in2YrYqSDYp9mE2YrZiNmFCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYudiv2K8g2KfZhNij2YrYp9mFICjYtNin2YXZhNipKQogICAgICAgICAgICAgICAgICAgICAgICAvLyDZhdir2KfZhDog2YXZhiAxINmK2YbYp9mK2LEg2KXZhNmJIDMg2YrZhtin2YrYsSA9IDMg2KPZitin2YUgKDEsIDIsIDMpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnMoZW5kIC0gc3RhcnQpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmRGF5cyA9IE1hdGguY2VpbChkaWZmVGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSkgKyAxOwogICAgICAgICAgICAgICAgICAgICAgICBtb250aGx5VXNlZCArPSBkaWZmRGF5czsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgbW9udGhseUJhbGFuY2UgPSB0b3RhbE1vbnRobHlMZWF2ZXMgLSBtb250aGx5VXNlZDsKICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRobHlMZWF2ZUJhbGFuY2UnKTsKICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VDb250YWluZXIgPSBiYWxhbmNlRWxlbWVudC5wYXJlbnRFbGVtZW50OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAobW9udGhseUJhbGFuY2UgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNix2LXZitivINin2YTYs9in2YTYqAogICAgICAgICAgICAgICAgICAgIGJhbGFuY2VDb250YWluZXIuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtin2YTYpdis2KfYstin2Kog2KfZhNi02YfYsdmK2Kk6PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJtb250aGx5TGVhdmVCYWxhbmNlIiBzdHlsZT0iY29sb3I6ICNkYzM1NDU7IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6IDE4cHg7Ij4ke21vbnRobHlCYWxhbmNlLnRvRml4ZWQoMSl9PC9zcGFuPiDZitmI2YUKICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiAjZGMzNTQ1OyBmb250LXNpemU6IDEycHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tdG9wOiA1cHg7Ij7imqDvuI8g2KfZhNix2LXZitivINiz2KfZhNioIC0g2KzZhdmK2Lkg2KfZhNil2KzYp9iy2KfYqiDYp9mE2KzYr9mK2K/YqSDYs9iq2YPZiNmGICLYqNiv2YjZhiDYsdin2KrYqCI8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9udGhseUJhbGFuY2UgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2LHYtdmK2K8g2LXZgdixCiAgICAgICAgICAgICAgICAgICAgYmFsYW5jZUNvbnRhaW5lci5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2KfZhNil2KzYp9iy2KfYqiDYp9mE2LTZh9ix2YrYqTo8L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9Im1vbnRobHlMZWF2ZUJhbGFuY2UiIHN0eWxlPSJjb2xvcjogI2ZmOTgwMDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc2l6ZTogMThweDsiPiR7bW9udGhseUJhbGFuY2UudG9GaXhlZCgxKX08L3NwYW4+INmK2YjZhQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6ICNmZjk4MDA7IGZvbnQtc2l6ZTogMTJweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi10b3A6IDVweDsiPuKaoO+4jyDYp9mE2LHYtdmK2K8g2LXZgdixIC0g2KzZhdmK2Lkg2KfZhNil2KzYp9iy2KfYqiDYp9mE2KzYr9mK2K/YqSDYs9iq2YPZiNmGICLYqNiv2YjZhiDYsdin2KrYqCI8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNix2LXZitivINmF2YjYrNioCiAgICAgICAgICAgICAgICAgICAgYmFsYW5jZUVsZW1lbnQudGV4dENvbnRlbnQgPSBtb250aGx5QmFsYW5jZS50b0ZpeGVkKDEpOwogICAgICAgICAgICAgICAgICAgIGJhbGFuY2VFbGVtZW50LnN0eWxlLmNvbG9yID0gJyMyOGE3NDUnOyAvLyDYo9iu2LbYsQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8g2KXYsNinINmE2YUg2YrZg9mGINmH2YbYp9mDINiq2KfYsdmK2K4g2KXYr9ix2KfYrNiMINmG2LPYqtiu2K/ZhSDYp9mE2LHYtdmK2K8g2KfZhNin2KjYqtiv2KfYptmKINmB2YLYtwogICAgICAgICAgICAgICAgY29uc3QgbW9udGhseUJhbGFuY2UgPSBpbml0aWFsQmFsYW5jZTsKICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vbnRobHlMZWF2ZUJhbGFuY2UnKTsKICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VDb250YWluZXIgPSBiYWxhbmNlRWxlbWVudC5wYXJlbnRFbGVtZW50OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAobW9udGhseUJhbGFuY2UgPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNix2LXZitivINin2YTYs9in2YTYqAogICAgICAgICAgICAgICAgICAgIGJhbGFuY2VDb250YWluZXIuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtin2YTYpdis2KfYstin2Kog2KfZhNi02YfYsdmK2Kk6PC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJtb250aGx5TGVhdmVCYWxhbmNlIiBzdHlsZT0iY29sb3I6ICNkYzM1NDU7IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6IDE4cHg7Ij4ke21vbnRobHlCYWxhbmNlLnRvRml4ZWQoMSl9PC9zcGFuPiDZitmI2YUKICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiAjZGMzNTQ1OyBmb250LXNpemU6IDEycHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tdG9wOiA1cHg7Ij7imqDvuI8g2KfZhNix2LXZitivINiz2KfZhNioIC0g2KzZhdmK2Lkg2KfZhNil2KzYp9iy2KfYqiDYp9mE2KzYr9mK2K/YqSDYs9iq2YPZiNmGICLYqNiv2YjZhiDYsdin2KrYqCI8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobW9udGhseUJhbGFuY2UgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2LHYtdmK2K8g2LXZgdixCiAgICAgICAgICAgICAgICAgICAgYmFsYW5jZUNvbnRhaW5lci5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2KfZhNil2KzYp9iy2KfYqiDYp9mE2LTZh9ix2YrYqTo8L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9Im1vbnRobHlMZWF2ZUJhbGFuY2UiIHN0eWxlPSJjb2xvcjogI2ZmOTgwMDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc2l6ZTogMThweDsiPiR7bW9udGhseUJhbGFuY2UudG9GaXhlZCgxKX08L3NwYW4+INmK2YjZhQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6ICNmZjk4MDA7IGZvbnQtc2l6ZTogMTJweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi10b3A6IDVweDsiPuKaoO+4jyDYp9mE2LHYtdmK2K8g2LXZgdixIC0g2KzZhdmK2Lkg2KfZhNil2KzYp9iy2KfYqiDYp9mE2KzYr9mK2K/YqSDYs9iq2YPZiNmGICLYqNiv2YjZhiDYsdin2KrYqCI8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNix2LXZitivINmF2YjYrNioCiAgICAgICAgICAgICAgICAgICAgYmFsYW5jZUVsZW1lbnQudGV4dENvbnRlbnQgPSBtb250aGx5QmFsYW5jZS50b0ZpeGVkKDEpOwogICAgICAgICAgICAgICAgICAgIGJhbGFuY2VFbGVtZW50LnN0eWxlLmNvbG9yID0gJyMyOGE3NDUnOyAvLyDYo9iu2LbYsQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2KXYrNin2LLYp9iqINin2YTYstmF2YbZitipINin2YTZhdiz2KrYrtiv2YXYqSAo2YXZhiDYqNiv2KfZitipINin2YTYtNmH2LEg2KfZhNit2KfZhNmKKQogICAgICAgICAgICBsZXQgaG91cmx5VXNlZCA9IDA7CiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIGNvbnN0IGZpcnN0RGF5T2ZNb250aCA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBob3VybHlMZWF2ZXMgPSBsZWF2ZXNEYXRhLmZpbHRlcihsID0+IAogICAgICAgICAgICAgICAgbC5lbXBsb3llZUlkID09PSBlbXBsb3llZUlkICYmIAogICAgICAgICAgICAgICAgbC50eXBlID09PSAnaG91cmx5JyAmJiAKICAgICAgICAgICAgICAgIGwuc3RhdHVzID09PSAnYXBwcm92ZWQnCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIAogICAgICAgICAgICBob3VybHlMZWF2ZXMuZm9yRWFjaChsZWF2ZSA9PiB7CiAgICAgICAgICAgICAgICBpZiAobGVhdmUuc3RhcnREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhdmVEYXRlID0gbmV3IERhdGUobGVhdmUuc3RhcnREYXRlKTsKICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YPYp9mG2Kog2KfZhNil2KzYp9iy2Kkg2YHZiiDYp9mE2LTZh9ixINin2YTYrdin2YTZigogICAgICAgICAgICAgICAgICAgIGlmIChsZWF2ZURhdGUgPj0gZmlyc3REYXlPZk1vbnRoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJseVVzZWQgKz0gKGxlYXZlLmhvdXJzIHx8IDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBob3VybHlCYWxhbmNlID0gaG91cmx5TGVhdmVIb3VycyAtIGhvdXJseVVzZWQ7CiAgICAgICAgICAgIGNvbnN0IGhvdXJseUJhbGFuY2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvdXJseUxlYXZlQmFsYW5jZScpOwogICAgICAgICAgICBjb25zdCBob3VybHlCYWxhbmNlQ29udGFpbmVyID0gaG91cmx5QmFsYW5jZUVsZW1lbnQucGFyZW50RWxlbWVudDsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChob3VybHlCYWxhbmNlIDwgMCkgewogICAgICAgICAgICAgICAgLy8g2KfZhNix2LXZitivINin2YTYs9in2YTYqAogICAgICAgICAgICAgICAgaG91cmx5QmFsYW5jZUNvbnRhaW5lci5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2KXYrNin2LLYp9iqINin2YTYstmF2YbZitipOjwvc3Ryb25nPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJob3VybHlMZWF2ZUJhbGFuY2UiIHN0eWxlPSJjb2xvcjogI2RjMzU0NTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc2l6ZTogMThweDsiPiR7aG91cmx5QmFsYW5jZS50b0ZpeGVkKDEpfTwvc3Bhbj4g2LPYp9i52KkKICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6ICNkYzM1NDU7IGZvbnQtc2l6ZTogMTJweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi10b3A6IDVweDsiPuKaoO+4jyDYp9mE2LHYtdmK2K8g2LPYp9mE2KggLSDYrNmF2YrYuSDYp9mE2KXYrNin2LLYp9iqINin2YTYstmF2YbZitipINin2YTYrNiv2YrYr9ipINiz2KrZg9mI2YYgItio2K/ZiNmGINix2KfYqtioIjwvc3Bhbj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaG91cmx5QmFsYW5jZSA9PT0gMCkgewogICAgICAgICAgICAgICAgLy8g2KfZhNix2LXZitivINi12YHYsQogICAgICAgICAgICAgICAgaG91cmx5QmFsYW5jZUNvbnRhaW5lci5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2KXYrNin2LLYp9iqINin2YTYstmF2YbZitipOjwvc3Ryb25nPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJob3VybHlMZWF2ZUJhbGFuY2UiIHN0eWxlPSJjb2xvcjogI2ZmOTgwMDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc2l6ZTogMThweDsiPiR7aG91cmx5QmFsYW5jZS50b0ZpeGVkKDEpfTwvc3Bhbj4g2LPYp9i52KkKICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6ICNmZjk4MDA7IGZvbnQtc2l6ZTogMTJweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi10b3A6IDVweDsiPuKaoO+4jyDYp9mE2LHYtdmK2K8g2LXZgdixIC0g2KzZhdmK2Lkg2KfZhNil2KzYp9iy2KfYqiDYp9mE2LLZhdmG2YrYqSDYp9mE2KzYr9mK2K/YqSDYs9iq2YPZiNmGICLYqNiv2YjZhiDYsdin2KrYqCI8L3NwYW4+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8g2KfZhNix2LXZitivINmF2YjYrNioCiAgICAgICAgICAgICAgICBob3VybHlCYWxhbmNlRWxlbWVudC50ZXh0Q29udGVudCA9IGhvdXJseUJhbGFuY2UudG9GaXhlZCgxKTsKICAgICAgICAgICAgICAgIGhvdXJseUJhbGFuY2VFbGVtZW50LnN0eWxlLmNvbG9yID0gJyMyOGE3NDUnOyAvLyDYo9iu2LbYsQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYudix2LYg2YLYs9mFINin2YTYpdis2KfYstin2Kog2KfZhNmF2KrYqNmC2YrYqQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhdmVCYWxhbmNlSW5mbycpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0TGVhdmVTdGF0dXNOYW1lKHN0YXR1cykgewogICAgICAgICAgICBjb25zdCBzdGF0dXNlcyA9IHsKICAgICAgICAgICAgICAgICdwZW5kaW5nJzogJ9mC2YrYryDYp9mE2KfZhtiq2LjYp9ixJywKICAgICAgICAgICAgICAgICdhcHByb3ZlZCc6ICfZhdmI2KfZgdmCINi52YTZitmH2KcnLAogICAgICAgICAgICAgICAgJ3JlamVjdGVkJzogJ9mF2LHZgdmI2LbYqScsCiAgICAgICAgICAgICAgICAnY2FuY2VsbGVkJzogJ9mF2YTYutin2KknCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiBzdGF0dXNlc1tzdGF0dXNdIHx8IHN0YXR1czsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGdldExlYXZlU3RhdHVzQmFkZ2Uoc3RhdHVzKSB7CiAgICAgICAgICAgIGNvbnN0IGJhZGdlcyA9IHsKICAgICAgICAgICAgICAgICdwZW5kaW5nJzogJ2JhZGdlLXdhcm5pbmcnLAogICAgICAgICAgICAgICAgJ2FwcHJvdmVkJzogJ2JhZGdlLXN1Y2Nlc3MnLAogICAgICAgICAgICAgICAgJ3JlamVjdGVkJzogJ2JhZGdlLWRhbmdlcicsCiAgICAgICAgICAgICAgICAnY2FuY2VsbGVkJzogJ2JhZGdlLXNlY29uZGFyeScKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIGJhZGdlc1tzdGF0dXNdIHx8ICdiYWRnZS1zZWNvbmRhcnknOwogICAgICAgIH0KCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICAvLyDYp9mE2KrZgtin2LHZitixCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICBsZXQgY3VycmVudFJlcG9ydERhdGEgPSBudWxsOwogICAgICAgIGxldCBjdXJyZW50UmVwb3J0VHlwZSA9IG51bGw7CgogICAgICAgIC8vINiq2YLYsdmK2LEg2KfZhNmF2YjYuNmB2YrZhgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlRW1wbG95ZWVSZXBvcnQoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY3VycmVudFJlcG9ydFR5cGUgPSAnZW1wbG95ZWVzJzsKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydFRpdGxlID0gJ9iq2YLYsdmK2LEg2KfZhNmF2YjYuNmB2YrZhic7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0VGl0bGUnKS50ZXh0Q29udGVudCA9IHJlcG9ydFRpdGxlOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydEJvZHknKTsKICAgICAgICAgICAgICAgIHJlcG9ydEJvZHkuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImxvYWRpbmciPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqi4uLjwvZGl2Pic7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Q29udGVudCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2KoKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRFbXBsb3llZXMoKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgdG90YWxFbXBsb3llZXMgPSBlbXBsb3llZXNEYXRhLmxlbmd0aDsKICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUVtcGxveWVlcyA9IGVtcGxveWVlc0RhdGEuZmlsdGVyKGUgPT4gZS5zdGF0dXMgPT09ICdhY3RpdmUnKS5sZW5ndGg7CiAgICAgICAgICAgICAgICBjb25zdCBpbmFjdGl2ZUVtcGxveWVlcyA9IHRvdGFsRW1wbG95ZWVzIC0gYWN0aXZlRW1wbG95ZWVzOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtis2YXZiti5INit2LPYqCDYp9mE2YXYs9mF2Ykg2KfZhNmI2LjZitmB2YoKICAgICAgICAgICAgICAgIGNvbnN0IGJ5UG9zaXRpb24gPSB7fTsKICAgICAgICAgICAgICAgIGVtcGxveWVlc0RhdGEuZm9yRWFjaChlbXAgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZW1wLnBvc2l0aW9uIHx8ICfYutmK2LEg2YXYrdiv2K8nOwogICAgICAgICAgICAgICAgICAgIGJ5UG9zaXRpb25bcG9zaXRpb25dID0gKGJ5UG9zaXRpb25bcG9zaXRpb25dIHx8IDApICsgMTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtis2YXZiti5INit2LPYqCDYp9mE2YXYtNix2YjYuSDYp9mE2K3Yp9mE2YoKICAgICAgICAgICAgICAgIGNvbnN0IGJ5UHJvamVjdCA9IHt9OwogICAgICAgICAgICAgICAgZW1wbG95ZWVzRGF0YS5mb3JFYWNoKGVtcCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVtcC5wcm9qZWN0c0hpc3RvcnkgJiYgZW1wLnByb2plY3RzSGlzdG9yeS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0cyA9IGVtcC5wcm9qZWN0c0hpc3RvcnkuZmlsdGVyKHAgPT4gIXAuZW5kRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UHJvamVjdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb2plY3RzLmZvckVhY2gocCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBwcm9qZWN0c0RhdGEuZmluZChwciA9PiBwci5pZCA9PT0gcC5wcm9qZWN0SWQpPy5uYW1lIHx8ICfYutmK2LEg2YXYrdiv2K8nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5UHJvamVjdFtwcm9qZWN0TmFtZV0gPSAoYnlQcm9qZWN0W3Byb2plY3ROYW1lXSB8fCAwKSArIDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5UHJvamVjdFsn2YTYpyDZitmI2KzYryDZhdi02LHZiNi5J10gPSAoYnlQcm9qZWN0WyfZhNinINmK2YjYrNivINmF2LTYsdmI2LknXSB8fCAwKSArIDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBieVByb2plY3RbJ9mE2Kcg2YrZiNis2K8g2YXYtNix2YjYuSddID0gKGJ5UHJvamVjdFsn2YTYpyDZitmI2KzYryDZhdi02LHZiNi5J10gfHwgMCkgKyAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDIwcHg7Ij7wn5OKINil2K3Ytdin2KbZitin2Kog2LnYp9mF2Kk8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZTdmM2ZmOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM2NjdlZWE7Ij4ke3RvdGFsRW1wbG95ZWVzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyI+2KXYrNmF2KfZhNmKINin2YTZhdmI2LjZgdmK2YY8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2Q0ZWRkYTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDJlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMjhhNzQ1OyI+JHthY3RpdmVFbXBsb3llZXN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICM2NjY7Ij7ZhdmI2LjZgdmK2YYg2YbYtNi32YrZhjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZjhkN2RhOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICNkYzM1NDU7Ij4ke2luYWN0aXZlRW1wbG95ZWVzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyI+2YXZiNi42YHZitmGINi62YrYsSDZhti02LfZitmGPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+8J+TiyDYp9mE2KrZiNiy2YrYuSDYrdiz2Kgg2KfZhNmF2LPZhdmJINin2YTZiNi42YrZgdmKPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFibGUtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT0id2lkdGg6IDEwMCU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YXYs9mF2Ykg2KfZhNmI2LjZitmB2Yo8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPti52K/YryDYp9mE2YXZiNi42YHZitmGPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YbYs9io2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoYnlQb3NpdGlvbikuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pLmZvckVhY2goKFtwb3NpdGlvbiwgY291bnRdKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9ICgoY291bnQgLyB0b3RhbEVtcGxveWVlcykgKiAxMDApLnRvRml4ZWQoMSk7CiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Bvc2l0aW9ufTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtjb3VudH08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7cGVyY2VudGFnZX0lPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij7wn5OBINin2YTYqtmI2LLZiti5INit2LPYqCDYp9mE2YXYtNix2YjYuTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgc3R5bGU9IndpZHRoOiAxMDAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmF2LTYsdmI2Lk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPti52K/YryDYp9mE2YXZiNi42YHZitmGPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YbYs9io2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoYnlQcm9qZWN0KS5zb3J0KChhLCBiKSA9PiBiWzFdIC0gYVsxXSkuZm9yRWFjaCgoW3Byb2plY3QsIGNvdW50XSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAoKGNvdW50IC8gdG90YWxFbXBsb3llZXMpICogMTAwKS50b0ZpeGVkKDEpOwogICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwcm9qZWN0fTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtjb3VudH08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7cGVyY2VudGFnZX0lPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+8J+TnSDZgtin2KbZhdipINin2YTZhdmI2LjZgdmK2YY8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIHN0eWxlPSJ3aWR0aDogMTAwJTsgZm9udC1zaXplOiAxNHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNix2YLZhTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNin2LPZhTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmF2LPZhdmJINin2YTZiNi42YrZgdmKPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2K3Yp9mE2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtiq2KfYsdmK2K4g2KfZhNiq2YjYuNmK2YE8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZhdi02LHZiNi5INin2YTYrdin2YTZijwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBlbXBsb3llZXNEYXRhLmZvckVhY2goKGVtcCwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UHJvamVjdCA9IGVtcC5wcm9qZWN0c0hpc3Rvcnk/LmZpbmQocCA9PiAhcC5lbmREYXRlKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGN1cnJlbnRQcm9qZWN0ID8gKHByb2plY3RzRGF0YS5maW5kKHAgPT4gcC5pZCA9PT0gY3VycmVudFByb2plY3QucHJvamVjdElkKT8ubmFtZSB8fCAn2LrZitixINmF2K3Yr9ivJykgOiAn2YTYpyDZitmI2KzYryc7CiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2luZGV4ICsgMX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZW1wLm5hbWUgfHwgJ9i62YrYsSDZhdit2K/Yryd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2VtcC5wb3NpdGlvbiB8fCAn2LrZitixINmF2K3Yr9ivJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJiYWRnZSAke2VtcC5zdGF0dXMgPT09ICdhY3RpdmUnID8gJ2JhZGdlLXN1Y2Nlc3MnIDogJ2JhZGdlLWRhbmdlcid9Ij4ke2dldEVtcGxveWVlU3RhdHVzTmFtZShlbXAuc3RhdHVzKX08L3NwYW4+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2VtcC5oaXJlRGF0ZSA/IGZvcm1hdERhdGUoZW1wLmhpcmVEYXRlKSA6ICfYutmK2LEg2YXYrdiv2K8nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwcm9qZWN0TmFtZX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQ6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgINiq2KfYsdmK2K4g2KfZhNiq2YLYsdmK2LE6ICR7Zm9ybWF0RGF0ZVRpbWUobmV3IERhdGUoKSl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXBvcnRCb2R5LmlubmVySFRNTCA9IGh0bWw7CiAgICAgICAgICAgICAgICBjdXJyZW50UmVwb3J0RGF0YSA9IHsgdHlwZTogJ2VtcGxveWVlcycsIGRhdGE6IGVtcGxveWVlc0RhdGEgfTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrZiNmE2YrYryDYqtmC2LHZitixINin2YTZhdmI2LjZgdmK2YY6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2KfZhNiq2YLYsdmK2LE6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KrZgtix2YrYsSDYp9mE2KXYrNin2LLYp9iqCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVMZWF2ZVJlcG9ydCgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0ZpcmViYXNlINi62YrYsSDZhdmH2YrYoycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjdXJyZW50UmVwb3J0VHlwZSA9ICdsZWF2ZXMnOwogICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0VGl0bGUgPSAn2KrZgtix2YrYsSDYp9mE2KXYrNin2LLYp9iqJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRUaXRsZScpLnRleHRDb250ZW50ID0gcmVwb3J0VGl0bGU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Qm9keScpOwogICAgICAgICAgICAgICAgcmVwb3J0Qm9keS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0ibG9hZGluZyI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqLi4uPC9kaXY+JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICAgICAgYXdhaXQgbG9hZExlYXZlcygpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZEVtcGxveWVlcygpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbExlYXZlcyA9IGxlYXZlc0RhdGEubGVuZ3RoOwogICAgICAgICAgICAgICAgY29uc3QgYXBwcm92ZWRMZWF2ZXMgPSBsZWF2ZXNEYXRhLmZpbHRlcihsID0+IGwuc3RhdHVzID09PSAnYXBwcm92ZWQnKS5sZW5ndGg7CiAgICAgICAgICAgICAgICBjb25zdCBwZW5kaW5nTGVhdmVzID0gbGVhdmVzRGF0YS5maWx0ZXIobCA9PiBsLnN0YXR1cyA9PT0gJ3BlbmRpbmcnKS5sZW5ndGg7CiAgICAgICAgICAgICAgICBjb25zdCByZWplY3RlZExlYXZlcyA9IGxlYXZlc0RhdGEuZmlsdGVyKGwgPT4gbC5zdGF0dXMgPT09ICdyZWplY3RlZCcpLmxlbmd0aDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrYrNmF2YrYuSDYrdiz2Kgg2KfZhNmG2YjYuQogICAgICAgICAgICAgICAgY29uc3QgYnlUeXBlID0ge307CiAgICAgICAgICAgICAgICBsZWF2ZXNEYXRhLmZvckVhY2gobGVhdmUgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBnZXRMZWF2ZVR5cGVOYW1lKGxlYXZlLnR5cGUsIGxlYXZlKTsKICAgICAgICAgICAgICAgICAgICBieVR5cGVbdHlwZV0gPSAoYnlUeXBlW3R5cGVdIHx8IDApICsgMTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtis2YXZiti5INit2LPYqCDYp9mE2YXZiNi42YEKICAgICAgICAgICAgICAgIGNvbnN0IGJ5RW1wbG95ZWUgPSB7fTsKICAgICAgICAgICAgICAgIGxlYXZlc0RhdGEuZm9yRWFjaChsZWF2ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWUgPSBlbXBsb3llZXNEYXRhLmZpbmQoZSA9PiBlLmlkID09PSBsZWF2ZS5lbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbXBsb3llZU5hbWUgPSBlbXBsb3llZT8ubmFtZSB8fCAn2LrZitixINmF2K3Yr9ivJzsKICAgICAgICAgICAgICAgICAgICBpZiAoIWJ5RW1wbG95ZWVbZW1wbG95ZWVOYW1lXSkgewogICAgICAgICAgICAgICAgICAgICAgICBieUVtcGxveWVlW2VtcGxveWVlTmFtZV0gPSB7IHRvdGFsOiAwLCBhcHByb3ZlZDogMCwgcGVuZGluZzogMCwgcmVqZWN0ZWQ6IDAgfTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnlFbXBsb3llZVtlbXBsb3llZU5hbWVdLnRvdGFsKys7CiAgICAgICAgICAgICAgICAgICAgYnlFbXBsb3llZVtlbXBsb3llZU5hbWVdW2xlYXZlLnN0YXR1c10rKzsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDIwcHg7Ij7wn5OKINil2K3Ytdin2KbZitin2Kog2LnYp9mF2Kk8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZTdmM2ZmOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM2NjdlZWE7Ij4ke3RvdGFsTGVhdmVzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyI+2KXYrNmF2KfZhNmKINin2YTYpdis2KfYstin2Ko8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2Q0ZWRkYTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDJlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMjhhNzQ1OyI+JHthcHByb3ZlZExlYXZlc308L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjogIzY2NjsiPtmF2YjYp9mB2YIg2LnZhNmK2YfYpzwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZmZmM2NkOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICNmZmMxMDc7Ij4ke3BlbmRpbmdMZWF2ZXN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICM2NjY7Ij7ZgtmK2K8g2KfZhNin2YbYqti42KfYsTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZjhkN2RhOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICNkYzM1NDU7Ij4ke3JlamVjdGVkTGVhdmVzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyI+2YXYsdmB2YjYttipPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+8J+TiyDYp9mE2KrZiNiy2YrYuSDYrdiz2Kgg2YbZiNi5INin2YTYpdis2KfYstipPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFibGUtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT0id2lkdGg6IDEwMCU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7ZhtmI2Lkg2KfZhNil2KzYp9iy2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYudiv2K88L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZhtiz2KjYqTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhieVR5cGUpLmZvckVhY2goKFt0eXBlLCBjb3VudF0pID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50YWdlID0gKChjb3VudCAvIHRvdGFsTGVhdmVzKSAqIDEwMCkudG9GaXhlZCgxKTsKICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7dHlwZX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7Y291bnR9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3BlcmNlbnRhZ2V9JTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+8J+RpSDYp9mE2KrZiNiy2YrYuSDYrdiz2Kgg2KfZhNmF2YjYuNmBPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFibGUtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT0id2lkdGg6IDEwMCU7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZhdmI2LjZgTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KXYrNmF2KfZhNmKPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7ZhdmI2KfZgdmCINi52YTZitmH2Kc8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtmC2YrYryDYp9mE2KfZhtiq2LjYp9ixPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Zhdix2YHZiNi22Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoYnlFbXBsb3llZSkuc29ydCgoYSwgYikgPT4gYlsxXS50b3RhbCAtIGFbMV0udG90YWwpLmZvckVhY2goKFtlbXBsb3llZSwgc3RhdHNdKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2VtcGxveWVlfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtzdGF0cy50b3RhbH08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIHN0eWxlPSJjb2xvcjogIzI4YTc0NTsiPiR7c3RhdHMuYXBwcm92ZWR9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gc3R5bGU9ImNvbG9yOiAjZmZjMTA3OyI+JHtzdGF0cy5wZW5kaW5nfTwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIHN0eWxlPSJjb2xvcjogI2RjMzU0NTsiPiR7c3RhdHMucmVqZWN0ZWR9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAg2KrYp9ix2YrYriDYp9mE2KrZgtix2YrYsTogJHtmb3JtYXREYXRlVGltZShuZXcgRGF0ZSgpKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJlcG9ydEJvZHkuaW5uZXJIVE1MID0gaHRtbDsKICAgICAgICAgICAgICAgIGN1cnJlbnRSZXBvcnREYXRhID0geyB0eXBlOiAnbGVhdmVzJywgZGF0YTogbGVhdmVzRGF0YSB9OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYqtmI2YTZitivINiq2YLYsdmK2LEg2KfZhNil2KzYp9iy2KfYqjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2KrZiNmE2YrYryDYp9mE2KrZgtix2YrYsTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYqtmC2LHZitixINin2YTYrti12YjZhdin2KogKNmF2YLZgdmEINio2YPZhNmF2Kkg2YXYsdmI2LEpCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVEZWR1Y3Rpb25SZXBvcnQoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyDYt9mE2Kgg2YPZhNmF2Kkg2KfZhNmF2LHZiNixCiAgICAgICAgICAgICAgICBjb25zdCBERURVQ1RJT05fUkVQT1JUX1BBU1NXT1JEID0gJzE0NzU5NjMnOwogICAgICAgICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSBwcm9tcHQoJ/CflJIg2YfYsNinINin2YTYqtmC2LHZitixINmF2K3ZhdmKINio2YPZhNmF2Kkg2YXYsdmI2LFcbtin2YTYsdis2KfYoSDYpdiv2K7Yp9mEINmD2YTZhdipINin2YTZhdix2YjYsSDZhNi52LHYtiDYqtmC2LHZitixINin2YTYrti12YjZhdin2Ko6Jyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmICghcGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vINin2YTZhdiz2KrYrtiv2YUg2KPZhNi62YkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHBhc3N3b3JkICE9PSBERURVQ1RJT05fUkVQT1JUX1BBU1NXT1JEKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+KdjCDZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2LrZitixINi12K3Zitit2KknKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0ZpcmViYXNlINi62YrYsSDZhdmH2YrYoycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjdXJyZW50UmVwb3J0VHlwZSA9ICdkZWR1Y3Rpb24nOwogICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0VGl0bGUgPSAn2KrZgtix2YrYsSDYp9mE2K7YtdmI2YXYp9iqINin2YTZhdin2YTZitipJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRUaXRsZScpLnRleHRDb250ZW50ID0gcmVwb3J0VGl0bGU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Qm9keScpOwogICAgICAgICAgICAgICAgcmVwb3J0Qm9keS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0ibG9hZGluZyI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqLi4uPC9kaXY+JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICAgICAgYXdhaXQgbG9hZEVtcGxveWVlcygpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZExlYXZlcygpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2K7YtdmI2YXYp9iqINmF2YYg2KfZhNil2KzYp9iy2KfYqiDYqNiv2YjZhiDYsdin2KrYqAogICAgICAgICAgICAgICAgY29uc3QgZGVkdWN0aW9uRGF0YSA9IGVtcGxveWVlc0RhdGEubWFwKGVtcCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5wYWlkTGVhdmVzID0gbGVhdmVzRGF0YS5maWx0ZXIobCA9PiAKICAgICAgICAgICAgICAgICAgICAgICAgbC5lbXBsb3llZUlkID09PSBlbXAuaWQgJiYgCiAgICAgICAgICAgICAgICAgICAgICAgIGwudHlwZSA9PT0gJ3VucGFpZCcgJiYgCiAgICAgICAgICAgICAgICAgICAgICAgIGwuc3RhdHVzID09PSAnYXBwcm92ZWQnICYmCiAgICAgICAgICAgICAgICAgICAgICAgIGwuY2FsY3VsYXRlRGVkdWN0aW9uICE9PSBmYWxzZQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsRGVkdWN0aW9uID0gMDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZURldGFpbHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB1bnBhaWRMZWF2ZXMuZm9yRWFjaChsZWF2ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZHVjdGlvbiA9IGNhbGN1bGF0ZVVucGFpZExlYXZlRGVkdWN0aW9uKGxlYXZlLCBlbXApOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVkdWN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbERlZHVjdGlvbiArPSBkZWR1Y3Rpb247CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWF2ZURldGFpbHMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmU6IGxlYXZlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZHVjdGlvbjogZGVkdWN0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiBsZWF2ZS5zYWxhcnlDdXJyZW5jeUF0TGVhdmUgfHwgZW1wLmN1cnJlbnRTYWxhcnlDdXJyZW5jeSB8fCAnSVFEJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICBlbXBsb3llZTogZW1wLAogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2FsYXJ5OiBlbXAuY3VycmVudFNhbGFyeSB8fCAwLAogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2FsYXJ5Q3VycmVuY3k6IGVtcC5jdXJyZW50U2FsYXJ5Q3VycmVuY3kgfHwgJ0lRRCcsCiAgICAgICAgICAgICAgICAgICAgICAgIHVucGFpZExlYXZlc0NvdW50OiB1bnBhaWRMZWF2ZXMubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgICAgICB0b3RhbERlZHVjdGlvbjogdG90YWxEZWR1Y3Rpb24sCiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZlRGV0YWlsczogbGVhdmVEZXRhaWxzCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pLmZpbHRlcihkID0+IGQudG90YWxEZWR1Y3Rpb24gPiAwKTsgLy8g2YHZgti3INin2YTZhdmI2LjZgdmK2YYg2KfZhNiw2YrZhiDZhNiv2YrZh9mFINiu2LXZiNmF2KfYqgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbERlZHVjdGlvbnMgPSBkZWR1Y3Rpb25EYXRhLnJlZHVjZSgoc3VtLCBkKSA9PiBzdW0gKyBkLnRvdGFsRGVkdWN0aW9uLCAwKTsKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsRW1wbG95ZWVzV2l0aERlZHVjdGlvbnMgPSBkZWR1Y3Rpb25EYXRhLmxlbmd0aDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+8J+TiiDYpdit2LXYp9im2YrYp9iqINi52KfZhdipPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7IGdhcDogMTVweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2U3ZjNmZjsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEuNWVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM2NjdlZWE7Ij4ke3RvdGFsRW1wbG95ZWVzV2l0aERlZHVjdGlvbnN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICM2NjY7Ij7Yudiv2K8g2KfZhNmF2YjYuNmB2YrZhiDZhdi5INiu2LXZiNmF2KfYqjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZjhkN2RhOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMS41ZW07IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogI2RjMzU0NTsiPiR7Zm9ybWF0Q3VycmVuY3kodG90YWxEZWR1Y3Rpb25zLCAnSVFEJyl9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICM2NjY7Ij7Ypdis2YXYp9mE2Yog2KfZhNiu2LXZiNmF2KfYqjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij7wn5SSINiq2YHYp9i12YrZhCDYp9mE2K7YtdmI2YXYp9iqINin2YTZhdin2YTZitipPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFibGUtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT0id2lkdGg6IDEwMCU7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZhdmI2LjZgTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2LHZgtmFINin2YTZhdmI2LjZgTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNix2KfYqtioINin2YTYrdin2YTZijwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2LnYr9ivINil2KzYp9iy2KfYqiDYqNiv2YjZhiDYsdin2KrYqDwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KXYrNmF2KfZhNmKINin2YTYrti12YjZhdin2Ko8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtiq2YHYp9i12YrZhCDYp9mE2KXYrNin2LLYp9iqPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGRlZHVjdGlvbkRhdGEuZm9yRWFjaChkID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZURldGFpbHNIdG1sID0gZC5sZWF2ZURldGFpbHMubWFwKGxkID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gbGQubGVhdmUuc3RhcnREYXRlIHx8ICctJzsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IGxkLmxlYXZlLmVuZERhdGUgfHwgJy0nOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXlzID0gbGQubGVhdmUuZGF5cyB8fCBsZC5sZWF2ZS5ob3VycyA/IGAke2xkLmxlYXZlLmhvdXJzfSDYs9in2LnYqWAgOiAnLSc7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiA4cHg7IHBhZGRpbmc6IDhweDsgYmFja2dyb3VuZDogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogNXB4OyBib3JkZXItcmlnaHQ6IDNweCBzb2xpZCAjZGMzNTQ1OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3Ryb25nPtmF2YY6PC9zdHJvbmc+ICR7c3RhcnREYXRlfSA8c3Ryb25nPtil2YTZiTo8L3N0cm9uZz4gJHtlbmREYXRlfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PHN0cm9uZz7Yp9mE2YXYr9ipOjwvc3Ryb25nPiAke2RheXN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48c3Ryb25nPtin2YTYrti12YU6PC9zdHJvbmc+IDxzcGFuIHN0eWxlPSJjb2xvcjogI2RjMzU0NTsgZm9udC13ZWlnaHQ6IGJvbGQ7Ij4ke2Zvcm1hdEN1cnJlbmN5KGxkLmRlZHVjdGlvbiwgbGQuY3VycmVuY3kpfTwvc3Bhbj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHN0cm9uZz4ke2QuZW1wbG95ZWUubmFtZSB8fCAn2LrZitixINmF2K3Yr9ivJ308L3N0cm9uZz48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZC5lbXBsb3llZS5lbXBsb3llZU51bWJlciB8fCAnLSd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2Zvcm1hdEN1cnJlbmN5KGQuY3VycmVudFNhbGFyeSwgZC5jdXJyZW50U2FsYXJ5Q3VycmVuY3kpfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtkLnVucGFpZExlYXZlc0NvdW50fTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9ImNvbG9yOiAjZGMzNTQ1OyBmb250LXdlaWdodDogYm9sZDsgZm9udC1zaXplOiAxLjFlbTsiPiR7Zm9ybWF0Q3VycmVuY3koZC50b3RhbERlZHVjdGlvbiwgZC5jdXJyZW50U2FsYXJ5Q3VycmVuY3kpfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9Im1heC13aWR0aDogNDAwcHg7Ij4ke2xlYXZlRGV0YWlsc0h0bWwgfHwgJy0nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZGVkdWN0aW9uRGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49IjYiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7IGNvbG9yOiAjNjY2OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg2YTYpyDYqtmI2KzYryDYrti12YjZhdin2Kog2YXYs9is2YTYqQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAg2KrYp9ix2YrYriDYp9mE2KrZgtix2YrYsTogJHtmb3JtYXREYXRlVGltZShuZXcgRGF0ZSgpKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJlcG9ydEJvZHkuaW5uZXJIVE1MID0gaHRtbDsKICAgICAgICAgICAgICAgIGN1cnJlbnRSZXBvcnREYXRhID0geyB0eXBlOiAnZGVkdWN0aW9uJywgZGF0YTogZGVkdWN0aW9uRGF0YSB9OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYqtmI2YTZitivINiq2YLYsdmK2LEg2KfZhNiu2LXZiNmF2KfYqjonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2KrZiNmE2YrYryDYp9mE2KrZgtix2YrYsTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYqtmC2LHZitixINin2YTZhdi02KfYsdmK2LkKICAgICAgICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVByb2plY3RSZXBvcnQoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY3VycmVudFJlcG9ydFR5cGUgPSAncHJvamVjdHMnOwogICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0VGl0bGUgPSAn2KrZgtix2YrYsSDYp9mE2YXYtNin2LHZiti5JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRUaXRsZScpLnRleHRDb250ZW50ID0gcmVwb3J0VGl0bGU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Qm9keScpOwogICAgICAgICAgICAgICAgcmVwb3J0Qm9keS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0ibG9hZGluZyI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqLi4uPC9kaXY+JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICAgICAgYXdhaXQgbG9hZFByb2plY3RzKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRW1wbG95ZWVzKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsUHJvamVjdHMgPSBwcm9qZWN0c0RhdGEubGVuZ3RoOwogICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlUHJvamVjdHMgPSBwcm9qZWN0c0RhdGEuZmlsdGVyKHAgPT4gcC5zdGF0dXMgPT09ICdhY3RpdmUnKS5sZW5ndGg7CiAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRQcm9qZWN0cyA9IHByb2plY3RzRGF0YS5maWx0ZXIocCA9PiBwLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpLmxlbmd0aDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrYrNmF2YrYuSDYp9mE2YXZiNi42YHZitmGINit2LPYqCDYp9mE2YXYtNix2YjYuQogICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdEVtcGxveWVlcyA9IHt9OwogICAgICAgICAgICAgICAgcHJvamVjdHNEYXRhLmZvckVhY2gocHJvamVjdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdEVtcGxveWVlc1twcm9qZWN0LmlkXSA9IFtdOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGVtcGxveWVlc0RhdGEuZm9yRWFjaChlbXAgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChlbXAucHJvamVjdHNIaXN0b3J5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVtcC5wcm9qZWN0c0hpc3RvcnkuZm9yRWFjaChwaCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBoLmVuZERhdGUgJiYgcHJvamVjdEVtcGxveWVlc1twaC5wcm9qZWN0SWRdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdEVtcGxveWVlc1twaC5wcm9qZWN0SWRdLnB1c2goZW1wLm5hbWUgfHwgJ9i62YrYsSDZhdit2K/YrycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+8J+TiiDYpdit2LXYp9im2YrYp9iqINi52KfZhdipPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7IGdhcDogMTVweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2U3ZjNmZjsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDJlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNjY3ZWVhOyI+JHt0b3RhbFByb2plY3RzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyI+2KXYrNmF2KfZhNmKINin2YTZhdi02KfYsdmK2Lk8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2Q0ZWRkYTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDJlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMjhhNzQ1OyI+JHthY3RpdmVQcm9qZWN0c308L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjogIzY2NjsiPtmF2LTYp9ix2YrYuSDZhti02LfYqTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZmZmM2NkOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICNmZmMxMDc7Ij4ke2NvbXBsZXRlZFByb2plY3RzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyI+2YXYtNin2LHZiti5INmF2YPYqtmF2YTYqTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij7wn5OBINiq2YHYp9i12YrZhCDYp9mE2YXYtNin2LHZiti5PC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFibGUtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT0id2lkdGg6IDEwMCU7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2LPZhSDYp9mE2YXYtNix2YjYuTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNix2YXYsjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNit2KfZhNipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yudiv2K8g2KfZhNmF2YjYuNmB2YrZhjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KrYp9ix2YrYriDYp9mE2KjYr9ihPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yqtin2LHZitiuINin2YTYp9mG2KrZh9in2KE8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcHJvamVjdHNEYXRhLmZvckVhY2gocHJvamVjdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVzID0gcHJvamVjdEVtcGxveWVlc1twcm9qZWN0LmlkXSB8fCBbXTsKICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7cHJvamVjdC5uYW1lIHx8ICfYutmK2LEg2YXYrdiv2K8nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwcm9qZWN0LmNvZGUgfHwgJ9i62YrYsSDZhdit2K/Yryd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48c3BhbiBjbGFzcz0iYmFkZ2UgJHtwcm9qZWN0LnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAnYmFkZ2Utc3VjY2VzcycgOiAnYmFkZ2Utc2Vjb25kYXJ5J30iPiR7cHJvamVjdC5zdGF0dXMgPT09ICdhY3RpdmUnID8gJ9mG2LTYtycgOiAn2YXZg9iq2YXZhCd9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtlbXBsb3llZXMubGVuZ3RofTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwcm9qZWN0LnN0YXJ0RGF0ZSA/IGZvcm1hdERhdGUocHJvamVjdC5zdGFydERhdGUpIDogJ9i62YrYsSDZhdit2K/Yryd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Byb2plY3QuZW5kRGF0ZSA/IGZvcm1hdERhdGUocHJvamVjdC5lbmREYXRlKSA6ICfZgtmK2K8g2KfZhNiq2YbZgdmK2LAnfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAg2KrYp9ix2YrYriDYp9mE2KrZgtix2YrYsTogJHtmb3JtYXREYXRlVGltZShuZXcgRGF0ZSgpKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJlcG9ydEJvZHkuaW5uZXJIVE1MID0gaHRtbDsKICAgICAgICAgICAgICAgIGN1cnJlbnRSZXBvcnREYXRhID0geyB0eXBlOiAncHJvamVjdHMnLCBkYXRhOiBwcm9qZWN0c0RhdGEgfTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrZiNmE2YrYryDYqtmC2LHZitixINin2YTZhdi02KfYsdmK2Lk6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2KfZhNiq2YLYsdmK2LE6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KrZgtix2YrYsSDYp9mE2KrZgtmK2YrZhdin2Kog2KfZhNiz2YbZiNmK2KkKICAgICAgICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUV2YWx1YXRpb25zUmVwb3J0KCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGN1cnJlbnRSZXBvcnRUeXBlID0gJ2V2YWx1YXRpb25zJzsKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydFRpdGxlID0gJ9iq2YLYsdmK2LEg2KfZhNiq2YLZitmK2YXYp9iqINin2YTYs9mG2YjZitipJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRUaXRsZScpLnRleHRDb250ZW50ID0gcmVwb3J0VGl0bGU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Qm9keScpOwogICAgICAgICAgICAgICAgcmVwb3J0Qm9keS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0ibG9hZGluZyI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqLi4uPC9kaXY+JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICAgICAgYXdhaXQgbG9hZEVtcGxveWVlcygpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtis2YXZiti5INin2YTYqtmC2YrZitmF2KfYqgogICAgICAgICAgICAgICAgY29uc3QgZXZhbHVhdGlvbnNEYXRhID0gW107CiAgICAgICAgICAgICAgICBlbXBsb3llZXNEYXRhLmZvckVhY2goZW1wID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZW1wLmV2YWx1YXRpb25zICYmIGVtcC5ldmFsdWF0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVtcC5ldmFsdWF0aW9ucy5mb3JFYWNoKGV2YWx1YXRpb24gPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZhbHVhdGlvbnNEYXRhLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlOiBlbXAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZhbHVhdGlvbjogZXZhbHVhdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtix2KrZitioINit2LPYqCDYp9mE2LPZhtipICjYp9mE2KPYrdiv2Ksg2KPZiNmE2KfZiykKICAgICAgICAgICAgICAgIGV2YWx1YXRpb25zRGF0YS5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGIuZXZhbHVhdGlvbi55ZWFyICE9PSBhLmV2YWx1YXRpb24ueWVhcikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYi5ldmFsdWF0aW9uLnllYXIgLSBhLmV2YWx1YXRpb24ueWVhcjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIuZXZhbHVhdGlvbi5yYXRpbmcgLSBhLmV2YWx1YXRpb24ucmF0aW5nOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsRXZhbHVhdGlvbnMgPSBldmFsdWF0aW9uc0RhdGEubGVuZ3RoOwogICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVzV2l0aEV2YWx1YXRpb25zID0gbmV3IFNldChldmFsdWF0aW9uc0RhdGEubWFwKGUgPT4gZS5lbXBsb3llZS5pZCkpLnNpemU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINit2LPYp9ioINin2YTYpdit2LXYp9im2YrYp9iqCiAgICAgICAgICAgICAgICBjb25zdCByYXRpbmdTdGF0cyA9IHsgMTogMCwgMjogMCwgMzogMCwgNDogMCwgNTogMCB9OwogICAgICAgICAgICAgICAgY29uc3QgeWVhclN0YXRzID0ge307CiAgICAgICAgICAgICAgICBldmFsdWF0aW9uc0RhdGEuZm9yRWFjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICByYXRpbmdTdGF0c1tlLmV2YWx1YXRpb24ucmF0aW5nXSA9IChyYXRpbmdTdGF0c1tlLmV2YWx1YXRpb24ucmF0aW5nXSB8fCAwKSArIDE7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeWVhciA9IGUuZXZhbHVhdGlvbi55ZWFyOwogICAgICAgICAgICAgICAgICAgIHllYXJTdGF0c1t5ZWFyXSA9ICh5ZWFyU3RhdHNbeWVhcl0gfHwgMCkgKyAxOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IGF2ZXJhZ2VSYXRpbmcgPSB0b3RhbEV2YWx1YXRpb25zID4gMCAKICAgICAgICAgICAgICAgICAgICA/IChldmFsdWF0aW9uc0RhdGEucmVkdWNlKChzdW0sIGUpID0+IHN1bSArIGUuZXZhbHVhdGlvbi5yYXRpbmcsIDApIC8gdG90YWxFdmFsdWF0aW9ucykudG9GaXhlZCgyKQogICAgICAgICAgICAgICAgICAgIDogMDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgcmF0aW5nTmFtZXMgPSB7CiAgICAgICAgICAgICAgICAgICAgMTogeyBuYW1lOiAn2LbYudmK2YEg2KzYr9in2YsnLCBjb2xvcjogJyNkYzM1NDUnLCBiZzogJyNmOGQ3ZGEnIH0sCiAgICAgICAgICAgICAgICAgICAgMjogeyBuYW1lOiAn2LbYudmK2YEnLCBjb2xvcjogJyNmZDdlMTQnLCBiZzogJyNmZmU1ZDAnIH0sCiAgICAgICAgICAgICAgICAgICAgMzogeyBuYW1lOiAn2YXZgtio2YjZhCcsIGNvbG9yOiAnI2ZmYzEwNycsIGJnOiAnI2ZmZjNjZCcgfSwKICAgICAgICAgICAgICAgICAgICA0OiB7IG5hbWU6ICfYrNmK2K8nLCBjb2xvcjogJyMyOGE3NDUnLCBiZzogJyNkNGVkZGEnIH0sCiAgICAgICAgICAgICAgICAgICAgNTogeyBuYW1lOiAn2YXZhdiq2KfYsicsIGNvbG9yOiAnIzIwYzk5NycsIGJnOiAnI2QxZjJlYicgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+8J+TiiDYpdit2LXYp9im2YrYp9iqINi52KfZhdipPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7IGdhcDogMTVweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2U3ZjNmZjsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEuNWVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM2NjdlZWE7Ij4ke3RvdGFsRXZhbHVhdGlvbnN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICM2NjY7Ij7Ypdis2YXYp9mE2Yog2KfZhNiq2YLZitmK2YXYp9iqPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNkNGVkZGE7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgdGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjVlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMjhhNzQ1OyI+JHtlbXBsb3llZXNXaXRoRXZhbHVhdGlvbnN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICM2NjY7Ij7Yudiv2K8g2KfZhNmF2YjYuNmB2YrZhjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZmZmM2NkOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMS41ZW07IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogI2ZmYzEwNzsiPiR7YXZlcmFnZVJhdGluZ308L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjogIzY2NjsiPtmF2KrZiNiz2Lcg2KfZhNiq2YLZitmK2YU8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij7YqtmI2LLZiti5INin2YTYqtmC2YrZitmF2KfYqjwvaDQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTUwcHgsIDFmcikpOyBnYXA6IDEwcHg7IG1hcmdpbi1ib3R0b206IDIwcHg7Ij4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIFs1LCA0LCAzLCAyLCAxXS5mb3JFYWNoKHJhdGluZyA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSByYXRpbmdTdGF0c1tyYXRpbmddIHx8IDA7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IHRvdGFsRXZhbHVhdGlvbnMgPiAwID8gKChjb3VudCAvIHRvdGFsRXZhbHVhdGlvbnMpICogMTAwKS50b0ZpeGVkKDEpIDogMDsKICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRpbmdJbmZvID0gcmF0aW5nTmFtZXNbcmF0aW5nXTsKICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogJHtyYXRpbmdJbmZvLmJnfTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyBib3JkZXItcmlnaHQ6IDRweCBzb2xpZCAke3JhdGluZ0luZm8uY29sb3J9OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEuMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICR7cmF0aW5nSW5mby5jb2xvcn07IG1hcmdpbi1ib3R0b206IDVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7J+KtkCcucmVwZWF0KHJhdGluZyl9JHsn4piGJy5yZXBlYXQoNSAtIHJhdGluZyl9ICgke3JhdGluZ30vNSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjVlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAke3JhdGluZ0luZm8uY29sb3J9OyI+JHtjb3VudH08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7Ij4ke3JhdGluZ0luZm8ubmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDExcHg7IG1hcmdpbi10b3A6IDVweDsiPiR7cGVyY2VudGFnZX0lPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij7irZAg2KrZgdin2LXZitmEINin2YTYqtmC2YrZitmF2KfYqiDYp9mE2LPZhtmI2YrYqTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgc3R5bGU9IndpZHRoOiAxMDAlOyBmb250LXNpemU6IDE0cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YXZiNi42YE8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYs9mG2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYqtmC2YrZitmFPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YjYtdmBPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7ZhdmE2KfYrdi42KfYqjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZXZhbHVhdGlvbnNEYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iNSIgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogNDBweDsgY29sb3I6ICM2NjY7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDZhNinINiq2YjYrNivINiq2YLZitmK2YXYp9iqINiz2YbZiNmK2Kkg2YXYs9is2YTYqQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBldmFsdWF0aW9uc0RhdGEuZm9yRWFjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF0aW5nSW5mbyA9IHJhdGluZ05hbWVzW2UuZXZhbHVhdGlvbi5yYXRpbmddOwogICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHN0cm9uZz4ke2UuZW1wbG95ZWUubmFtZSB8fCAn2LrZitixINmF2K3Yr9ivJ308L3N0cm9uZz48YnI+PHNtYWxsIHN0eWxlPSJjb2xvcjogIzY2NjsiPiR7ZS5lbXBsb3llZS5lbXBsb3llZU51bWJlciB8fCAnLSd9PC9zbWFsbD48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0iZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNjY3ZWVhOyI+JHtlLmV2YWx1YXRpb24ueWVhcn08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6IDE4cHg7Ij4keyfirZAnLnJlcGVhdChlLmV2YWx1YXRpb24ucmF0aW5nKX0keyfimIYnLnJlcGVhdCg1IC0gZS5ldmFsdWF0aW9uLnJhdGluZyl9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogJHtyYXRpbmdJbmZvLmNvbG9yfTsgYmFja2dyb3VuZDogJHtyYXRpbmdJbmZvLmJnfTsgcGFkZGluZzogNHB4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDZweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7ZS5ldmFsdWF0aW9uLnJhdGluZ30vNSAtICR7cmF0aW5nSW5mby5uYW1lfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0ibWF4LXdpZHRoOiAzMDBweDsiPiR7ZS5ldmFsdWF0aW9uLmRlc2NyaXB0aW9uIHx8ICctJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0ibWF4LXdpZHRoOiAyMDBweDsiPiR7ZS5ldmFsdWF0aW9uLm5vdGVzIHx8ICctJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQ6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgINiq2KfYsdmK2K4g2KfZhNiq2YLYsdmK2LE6ICR7Zm9ybWF0RGF0ZVRpbWUobmV3IERhdGUoKSl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXBvcnRCb2R5LmlubmVySFRNTCA9IGh0bWw7CiAgICAgICAgICAgICAgICBjdXJyZW50UmVwb3J0RGF0YSA9IHsgdHlwZTogJ2V2YWx1YXRpb25zJywgZGF0YTogZXZhbHVhdGlvbnNEYXRhIH07CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2KrZgtix2YrYsSDYp9mE2KrZgtmK2YrZhdin2Kog2KfZhNiz2YbZiNmK2Kk6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2KfZhNiq2YLYsdmK2LE6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KrZgtix2YrYsSDYpdit2LXYp9im2Yog2LnYp9mFCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVTdGF0aXN0aWNzUmVwb3J0KCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGIgfHwgIXdpbmRvdy5maXJlc3RvcmUpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGN1cnJlbnRSZXBvcnRUeXBlID0gJ3N0YXRpc3RpY3MnOwogICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0VGl0bGUgPSAn2KrZgtix2YrYsSDYpdit2LXYp9im2Yog2LnYp9mFJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRUaXRsZScpLnRleHRDb250ZW50ID0gcmVwb3J0VGl0bGU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Qm9keScpOwogICAgICAgICAgICAgICAgcmVwb3J0Qm9keS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0ibG9hZGluZyI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqLi4uPC9kaXY+JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICAgICAgYXdhaXQgbG9hZEVtcGxveWVlcygpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZExlYXZlcygpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZFByb2plY3RzKCk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkVXNlcnMoKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgdG90YWxFbXBsb3llZXMgPSBlbXBsb3llZXNEYXRhLmxlbmd0aDsKICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUVtcGxveWVlcyA9IGVtcGxveWVlc0RhdGEuZmlsdGVyKGUgPT4gZS5zdGF0dXMgPT09ICdhY3RpdmUnKS5sZW5ndGg7CiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFByb2plY3RzID0gcHJvamVjdHNEYXRhLmxlbmd0aDsKICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVByb2plY3RzID0gcHJvamVjdHNEYXRhLmZpbHRlcihwID0+IHAuc3RhdHVzID09PSAnYWN0aXZlJykubGVuZ3RoOwogICAgICAgICAgICAgICAgY29uc3QgdG90YWxMZWF2ZXMgPSBsZWF2ZXNEYXRhLmxlbmd0aDsKICAgICAgICAgICAgICAgIGNvbnN0IGFwcHJvdmVkTGVhdmVzID0gbGVhdmVzRGF0YS5maWx0ZXIobCA9PiBsLnN0YXR1cyA9PT0gJ2FwcHJvdmVkJykubGVuZ3RoOwogICAgICAgICAgICAgICAgY29uc3QgdG90YWxVc2VycyA9IHVzZXJzRGF0YS5sZW5ndGg7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxldCBodG1sID0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDMwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJjb2xvcjogIzY2N2VlYTsgbWFyZ2luLWJvdHRvbTogMjBweDsiPvCfk4og2KXYrdi12KfYptmK2KfYqiDYtNin2YXZhNipPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyNTBweCwgMWZyKSk7IGdhcDogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzY2N2VlYSAwJSwgIzc2NGJhMiAxMDAlKTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDNlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij4ke3RvdGFsRW1wbG95ZWVzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMS4yZW07Ij7Ypdis2YXYp9mE2Yog2KfZhNmF2YjYuNmB2YrZhjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMC45ZW07IG9wYWNpdHk6IDAuOTsgbWFyZ2luLXRvcDogNXB4OyI+JHthY3RpdmVFbXBsb3llZXN9INmG2LTYtzwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZjA5M2ZiIDAlLCAjZjU1NzZjIDEwMCUpOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogM2VtOyBmb250LXdlaWdodDogYm9sZDsgbWFyZ2luLWJvdHRvbTogMTBweDsiPiR7dG90YWxQcm9qZWN0c308L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEuMmVtOyI+2KXYrNmF2KfZhNmKINin2YTZhdi02KfYsdmK2Lk8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDAuOWVtOyBvcGFjaXR5OiAwLjk7IG1hcmdpbi10b3A6IDVweDsiPiR7YWN0aXZlUHJvamVjdHN9INmG2LTYtzwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNGZhY2ZlIDAlLCAjMDBmMmZlIDEwMCUpOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDEwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogM2VtOyBmb250LXdlaWdodDogYm9sZDsgbWFyZ2luLWJvdHRvbTogMTBweDsiPiR7dG90YWxMZWF2ZXN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjJlbTsiPtil2KzZhdin2YTZiiDYp9mE2KXYrNin2LLYp9iqPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAwLjllbTsgb3BhY2l0eTogMC45OyBtYXJnaW4tdG9wOiA1cHg7Ij4ke2FwcHJvdmVkTGVhdmVzfSDZhdmI2KfZgdmCINi52YTZitmH2Kc8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzQzZTk3YiAwJSwgIzM4ZjlkNyAxMDAlKTsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDNlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij4ke3RvdGFsVXNlcnN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjJlbTsiPtil2KzZhdin2YTZiiDYp9mE2YXYs9iq2K7Yr9mF2YrZhjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQ6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgINiq2KfYsdmK2K4g2KfZhNiq2YLYsdmK2LE6ICR7Zm9ybWF0RGF0ZVRpbWUobmV3IERhdGUoKSl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXBvcnRCb2R5LmlubmVySFRNTCA9IGh0bWw7CiAgICAgICAgICAgICAgICBjdXJyZW50UmVwb3J0RGF0YSA9IHsgdHlwZTogJ3N0YXRpc3RpY3MnLCBkYXRhOiB7IGVtcGxveWVlczogdG90YWxFbXBsb3llZXMsIHByb2plY3RzOiB0b3RhbFByb2plY3RzLCBsZWF2ZXM6IHRvdGFsTGVhdmVzLCB1c2VyczogdG90YWxVc2VycyB9IH07CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2KfZhNiq2YLYsdmK2LEg2KfZhNil2K3Ytdin2KbZijonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2KrZiNmE2YrYryDYp9mE2KrZgtix2YrYsTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYpdi62YTYp9mCINin2YTYqtmC2LHZitixCiAgICAgICAgZnVuY3Rpb24gY2xvc2VSZXBvcnQoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgY3VycmVudFJlcG9ydERhdGEgPSBudWxsOwogICAgICAgICAgICBjdXJyZW50UmVwb3J0VHlwZSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICAvLyDYt9io2KfYudipINin2YTYqtmC2LHZitixCiAgICAgICAgZnVuY3Rpb24gcHJpbnRSZXBvcnQoKSB7CiAgICAgICAgICAgIGNvbnN0IHJlcG9ydENvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Q29udGVudCcpOwogICAgICAgICAgICBpZiAoIXJlcG9ydENvbnRlbnQgfHwgcmVwb3J0Q29udGVudC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfZhNinINmK2YjYrNivINiq2YLYsdmK2LEg2YTZhNi32KjYp9i52KknKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2KXZhti02KfYoSDZhtin2YHYsNipINi32KjYp9i52KkKICAgICAgICAgICAgY29uc3QgcHJpbnRXaW5kb3cgPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycpOwogICAgICAgICAgICBjb25zdCByZXBvcnRUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRUaXRsZScpPy50ZXh0Q29udGVudCB8fCAn2KrZgtix2YrYsSc7CiAgICAgICAgICAgIGNvbnN0IHJlcG9ydEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Qm9keScpPy5pbm5lckhUTUwgfHwgJyc7CgogICAgICAgICAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZShgCiAgICAgICAgICAgICAgICA8IURPQ1RZUEUgaHRtbD4KICAgICAgICAgICAgICAgIDxodG1sIGxhbmc9ImFyIiBkaXI9InJ0bCI+CiAgICAgICAgICAgICAgICA8aGVhZD4KICAgICAgICAgICAgICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgICAgICAgICAgICAgICAgPHRpdGxlPiR7cmVwb3J0VGl0bGV9PC90aXRsZT4KICAgICAgICAgICAgICAgICAgICA8c3R5bGU+CiAgICAgICAgICAgICAgICAgICAgICAgIEBtZWRpYSBwcmludCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAcGFnZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogQTQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAxY207CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYm9keSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IHJ0bDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjMzMzOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGgxLCBoMiwgaDMgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICM2NjdlZWE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAxNXB4IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUgdGgsIHRhYmxlIHRkIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA4cHg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0YWJsZSB0aCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY3ZWVhOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUgdHI6bnRoLWNoaWxkKGV2ZW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLm9yZy1jaGFydC1jb250YWluZXIgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZS1icmVhay1pbnNpZGU6IGF2b2lkOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIC5vcmctbm9kZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlLWJyZWFrLWluc2lkZTogYXZvaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICA8L3N0eWxlPgogICAgICAgICAgICAgICAgPC9oZWFkPgogICAgICAgICAgICAgICAgPGJvZHk+CiAgICAgICAgICAgICAgICAgICAgPGgxIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDMwcHg7Ij4ke3JlcG9ydFRpdGxlfTwvaDE+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAyMHB4OyBjb2xvcjogIzY2NjsiPgogICAgICAgICAgICAgICAgICAgICAgICDYqtin2LHZitiuINin2YTYqtmC2LHZitixOiAke2Zvcm1hdERhdGUobmV3IERhdGUoKSwgeyB5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnbG9uZycsIGRheTogJ251bWVyaWMnIH0pfQogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICR7cmVwb3J0Qm9keX0KICAgICAgICAgICAgICAgIDwvYm9keT4KICAgICAgICAgICAgICAgIDwvaHRtbD4KICAgICAgICAgICAgYCk7CgogICAgICAgICAgICBwcmludFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpOwogICAgICAgICAgICBwcmludFdpbmRvdy5mb2N1cygpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2KfZhtiq2LjYp9ixINiq2K3ZhdmK2YQg2KfZhNi12YjYsSDYq9mFINin2YTYt9io2KfYudipCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgcHJpbnRXaW5kb3cucHJpbnQoKTsKICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICB9CgogICAgICAgIC8vINiq2LXYr9mK2LEg2KfZhNiq2YLYsdmK2LEg2KXZhNmJIFBERiAo2KfYs9iq2K7Yr9in2YUg2KfZhNi32KjYp9i52KkpCiAgICAgICAgZnVuY3Rpb24gZXhwb3J0UmVwb3J0VG9QREYoKSB7CiAgICAgICAgICAgIHByaW50UmVwb3J0KCk7CiAgICAgICAgfQoKICAgICAgICAvLyDYqti12K/ZitixINin2YTYqtmC2LHZitixINil2YTZiSBFeGNlbAogICAgICAgIGZ1bmN0aW9uIGV4cG9ydFJlcG9ydFRvRXhjZWwoKSB7CiAgICAgICAgICAgIGlmICghY3VycmVudFJlcG9ydERhdGEgfHwgIWN1cnJlbnRSZXBvcnRUeXBlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn2YTYpyDZitmI2KzYryDYqtmC2LHZitixINmE2YTYqti12K/ZitixJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0eXBlb2YgWExTWCA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCfZhdmD2KrYqNipIEV4Y2VsINi62YrYsSDZhdiq2YjZgdix2KkuINmK2LHYrNmJINil2LnYp9iv2Kkg2KrYrdmF2YrZhCDYp9mE2LXZgdit2KkuJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRUaXRsZScpPy50ZXh0Q29udGVudCB8fCAn2KrZgtix2YrYsSc7CiAgICAgICAgICAgICAgICBjb25zdCB3b3JrYm9vayA9IFhMU1gudXRpbHMuYm9va19uZXcoKTsKICAgICAgICAgICAgICAgIGxldCBmaWxlTmFtZSA9IHJlcG9ydFRpdGxlOwoKICAgICAgICAgICAgICAgIHN3aXRjaCAoY3VycmVudFJlcG9ydFR5cGUpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlICdlbXBsb3llZXMnOgogICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRFbXBsb3llZXNUb0V4Y2VsKHdvcmtib29rLCBjdXJyZW50UmVwb3J0RGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gJ9iq2YLYsdmK2LFf2KfZhNmF2YjYuNmB2YrZhic7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlYXZlcyc6CiAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydExlYXZlc1RvRXhjZWwod29ya2Jvb2ssIGN1cnJlbnRSZXBvcnREYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSAn2KrZgtix2YrYsV/Yp9mE2KXYrNin2LLYp9iqJzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGVkdWN0aW9uJzoKICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0RGVkdWN0aW9uc1RvRXhjZWwod29ya2Jvb2ssIGN1cnJlbnRSZXBvcnREYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSAn2KrZgtix2YrYsV/Yp9mE2K7YtdmI2YXYp9iqJzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJvamVjdHMnOgogICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRQcm9qZWN0c1RvRXhjZWwod29ya2Jvb2ssIGN1cnJlbnRSZXBvcnREYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSAn2KrZgtix2YrYsV/Yp9mE2YXYtNin2LHZiti5JzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXZhbHVhdGlvbnMnOgogICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRFdmFsdWF0aW9uc1RvRXhjZWwod29ya2Jvb2ssIGN1cnJlbnRSZXBvcnREYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSAn2KrZgtix2YrYsV/Yp9mE2KrZgtmK2YrZhdin2KonOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdzdGF0aXN0aWNzJzoKICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0U3RhdGlzdGljc1RvRXhjZWwod29ya2Jvb2ssIGN1cnJlbnRSZXBvcnREYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSAn2KrZgtix2YrYsV/Yp9mE2KXYrdi12KfYptmK2KfYqic7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbXBhbnlTdHJ1Y3R1cmUnOgogICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRDb21wYW55U3RydWN0dXJlVG9FeGNlbCh3b3JrYm9vaywgY3VycmVudFJlcG9ydERhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZSA9ICfYqtmC2LHZitixX9mH2YrZg9mEX9in2YTYtNix2YPYqSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VtcGxveWVlTGVhdmVIaXN0b3J5JzoKICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0RW1wbG95ZWVMZWF2ZUhpc3RvcnlUb0V4Y2VsKHdvcmtib29rLCBjdXJyZW50UmVwb3J0RGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gJ9iq2YLYsdmK2LFf2KrYp9ix2YrYrl/Ypdis2KfYstin2Kpf2KfZhNmF2YjYuNmBJzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJvamVjdEVtcGxveWVlcyc6CiAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydFByb2plY3RFbXBsb3llZXNUb0V4Y2VsKHdvcmtib29rLCBjdXJyZW50UmVwb3J0RGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gJ9iq2YLYsdmK2LFf2YXZiNi42YHZil/Yp9mE2YXYtNix2YjYuSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VtcGxveWVlUHJvamVjdHNIaXN0b3J5JzoKICAgICAgICAgICAgICAgICAgICAgICAgZXhwb3J0RW1wbG95ZWVQcm9qZWN0c0hpc3RvcnlUb0V4Y2VsKHdvcmtib29rLCBjdXJyZW50UmVwb3J0RGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gJ9iq2YLYsdmK2LFf2KrYp9ix2YrYrl/Zhdi02KfYsdmK2Llf2KfZhNmF2YjYuNmBJzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9mG2YjYuSDYp9mE2KrZgtix2YrYsSDYutmK2LEg2YXYr9i52YjZhSDZhNmE2KrYtdiv2YrYsScpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g2KrYtdiv2YrYsSDYp9mE2YXZhNmBCiAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07CiAgICAgICAgICAgICAgICBYTFNYLndyaXRlRmlsZSh3b3JrYm9vaywgYCR7ZmlsZU5hbWV9XyR7ZGF0ZVN0cn0ueGxzeGApOwogICAgICAgICAgICAgICAgYWxlcnQoJ+KchSDYqtmFINiq2LXYr9mK2LEg2KfZhNiq2YLYsdmK2LEg2KjZhtis2KfYrSEnKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2LXYr9mK2LEgRXhjZWw6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ+KdjCDYrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYtdiv2YrYsSDYp9mE2KrZgtix2YrYsTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYqti12K/ZitixINiq2YLYsdmK2LEg2KfZhNmF2YjYuNmB2YrZhiDYpdmE2YkgRXhjZWwKICAgICAgICBmdW5jdGlvbiBleHBvcnRFbXBsb3llZXNUb0V4Y2VsKHdvcmtib29rLCByZXBvcnREYXRhKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXBvcnREYXRhLmRhdGEgfHwgW107CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDZiNix2YLYqSDYp9mE2KjZitin2YbYp9iqINin2YTYsdim2YrYs9mK2KkKICAgICAgICAgICAgY29uc3QgbWFpbkRhdGEgPSBkYXRhLm1hcChlbXAgPT4gKHsKICAgICAgICAgICAgICAgICfYp9mE2LHZgtmFINin2YTZiNi42YrZgdmKJzogZW1wLmVtcGxveWVlTnVtYmVyIHx8ICcnLAogICAgICAgICAgICAgICAgJ9in2YTYp9iz2YUnOiBlbXAubmFtZSB8fCAnJywKICAgICAgICAgICAgICAgICfYp9mE2KfYs9mFINio2KfZhNil2YbYrNmE2YrYstmK2KknOiBlbXAubmFtZUVuIHx8ICcnLAogICAgICAgICAgICAgICAgJ9in2YTZhdiz2YXZiSDYp9mE2YjYuNmK2YHZiic6IGVtcC5wb3NpdGlvbiB8fCAnJywKICAgICAgICAgICAgICAgICfYp9mE2YLYs9mFJzogZGVwYXJ0bWVudHNEYXRhLmZpbmQoZCA9PiBkLmlkID09PSBlbXAuZGVwYXJ0bWVudElkKT8ubmFtZSB8fCAnJywKICAgICAgICAgICAgICAgICfYp9mE2YXYtNix2YjYuSDYp9mE2K3Yp9mE2YonOiBnZXRDdXJyZW50UHJvamVjdE5hbWUoZW1wKSB8fCAnJywKICAgICAgICAgICAgICAgICfZhdmD2KfZhiDYp9mE2LnZhdmEJzogcmVnaW9uc0RhdGEuZmluZChyID0+IHIuaWQgPT09IGVtcC53b3JrTG9jYXRpb25JZCk/Lm5hbWUgfHwgJycsCiAgICAgICAgICAgICAgICAn2KfZhNit2KfZhNipJzogZW1wLnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAn2YbYtNi3JyA6ICfYutmK2LEg2YbYtNi3JywKICAgICAgICAgICAgICAgICfYqtin2LHZitiuINin2YTYqti52YrZitmGJzogZW1wLmhpcmVEYXRlID8gZm9ybWF0RGF0ZShlbXAuaGlyZURhdGUpIDogJycsCiAgICAgICAgICAgICAgICAn2KfZhNix2KfYqtioJzogZW1wLnNhbGFyeSB8fCAwLAogICAgICAgICAgICAgICAgJ9in2YTYudmF2YTYqSc6IGVtcC5jdXJyZW5jeSB8fCAnSVFEJywKICAgICAgICAgICAgICAgICfYp9mE2YfYp9iq2YEnOiBlbXAucGhvbmUgfHwgJycsCiAgICAgICAgICAgICAgICAn2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKJzogZW1wLmVtYWlsIHx8ICcnLAogICAgICAgICAgICAgICAgJ9in2YTYudmG2YjYp9mGJzogZW1wLmFkZHJlc3MgfHwgJycKICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY29uc3Qgd3MxID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KG1haW5EYXRhKTsKICAgICAgICAgICAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3b3JrYm9vaywgd3MxLCAn2KfZhNmF2YjYuNmB2YrZhicpOwoKICAgICAgICAgICAgLy8g2KXYrdi12KfYptmK2KfYqgogICAgICAgICAgICBjb25zdCB0b3RhbEVtcGxveWVlcyA9IGRhdGEubGVuZ3RoOwogICAgICAgICAgICBjb25zdCBhY3RpdmVFbXBsb3llZXMgPSBkYXRhLmZpbHRlcihlID0+IGUuc3RhdHVzID09PSAnYWN0aXZlJykubGVuZ3RoOwogICAgICAgICAgICBjb25zdCBpbmFjdGl2ZUVtcGxveWVlcyA9IHRvdGFsRW1wbG95ZWVzIC0gYWN0aXZlRW1wbG95ZWVzOwoKICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBbCiAgICAgICAgICAgICAgICBbJ9in2YTYpdit2LXYp9im2YrYqScsICfYp9mE2YLZitmF2KknXSwKICAgICAgICAgICAgICAgIFsn2KXYrNmF2KfZhNmKINin2YTZhdmI2LjZgdmK2YYnLCB0b3RhbEVtcGxveWVlc10sCiAgICAgICAgICAgICAgICBbJ9mF2YjYuNmB2YrZhiDZhti02LfZitmGJywgYWN0aXZlRW1wbG95ZWVzXSwKICAgICAgICAgICAgICAgIFsn2YXZiNi42YHZitmGINi62YrYsSDZhti02LfZitmGJywgaW5hY3RpdmVFbXBsb3llZXNdCiAgICAgICAgICAgIF07CgogICAgICAgICAgICBjb25zdCB3czIgPSBYTFNYLnV0aWxzLmFvYV90b19zaGVldChzdGF0cyk7CiAgICAgICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIHdzMiwgJ9in2YTYpdit2LXYp9im2YrYp9iqJyk7CiAgICAgICAgfQoKICAgICAgICAvLyDYqti12K/ZitixINiq2YLYsdmK2LEg2KfZhNil2KzYp9iy2KfYqiDYpdmE2YkgRXhjZWwKICAgICAgICBmdW5jdGlvbiBleHBvcnRMZWF2ZXNUb0V4Y2VsKHdvcmtib29rLCByZXBvcnREYXRhKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXBvcnREYXRhLmRhdGEgfHwgW107CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBtYWluRGF0YSA9IGRhdGEubWFwKGxlYXZlID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlID0gZW1wbG95ZWVzRGF0YS5maW5kKGUgPT4gZS5pZCA9PT0gbGVhdmUuZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZVR5cGVOYW1lID0gZ2V0TGVhdmVUeXBlTmFtZShsZWF2ZS50eXBlLCBsZWF2ZSk7CiAgICAgICAgICAgICAgICBjb25zdCByZWdpb24gPSBsZWF2ZS5yZWdpb25JZCA/IHJlZ2lvbnNEYXRhLmZpbmQociA9PiByLmlkID09PSBsZWF2ZS5yZWdpb25JZCkgOiBudWxsOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICfYp9mE2LHZgtmFINin2YTZiNi42YrZgdmKJzogZW1wbG95ZWU/LmVtcGxveWVlTnVtYmVyIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICfYp9iz2YUg2KfZhNmF2YjYuNmBJzogZW1wbG95ZWU/Lm5hbWUgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgJ9mG2YjYuSDYp9mE2KXYrNin2LLYqSc6IGxlYXZlVHlwZU5hbWUsCiAgICAgICAgICAgICAgICAgICAgJ9in2YTZhdmG2LfZgtipJzogcmVnaW9uPy5uYW1lIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICfYqtin2LHZitiuINin2YTYqNiv2KfZitipJzogbGVhdmUuc3RhcnREYXRlID8gZm9ybWF0RGF0ZShsZWF2ZS5zdGFydERhdGUpIDogJycsCiAgICAgICAgICAgICAgICAgICAgJ9iq2KfYsdmK2K4g2KfZhNmG2YfYp9mK2KknOiBsZWF2ZS5lbmREYXRlID8gZm9ybWF0RGF0ZShsZWF2ZS5lbmREYXRlKSA6ICcnLAogICAgICAgICAgICAgICAgICAgICfYudiv2K8g2KfZhNij2YrYp9mFJzogbGVhdmUuZGF5cyB8fCAwLAogICAgICAgICAgICAgICAgICAgICfYp9mE2K3Yp9mE2KknOiBsZWF2ZS5zdGF0dXMgPT09ICdhcHByb3ZlZCcgPyAn2YXZiNin2YHZgiDYudmE2YrZh9inJyA6IGxlYXZlLnN0YXR1cyA9PT0gJ3JlamVjdGVkJyA/ICfZhdix2YHZiNi22KknIDogJ9mC2YrYryDYp9mE2KfZhtiq2LjYp9ixJywKICAgICAgICAgICAgICAgICAgICAn2KrYp9ix2YrYriDYp9mE2LfZhNioJzogbGVhdmUucmVxdWVzdERhdGUgPyBmb3JtYXREYXRlKGxlYXZlLnJlcXVlc3REYXRlKSA6ICcnLAogICAgICAgICAgICAgICAgICAgICfYp9mE2LPYqNioJzogbGVhdmUucmVhc29uIHx8ICcnCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNvbnN0IHdzMSA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChtYWluRGF0YSk7CiAgICAgICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIHdzMSwgJ9in2YTYpdis2KfYstin2KonKTsKCiAgICAgICAgICAgIC8vINil2K3Ytdin2KbZitin2KoKICAgICAgICAgICAgY29uc3QgdG90YWxMZWF2ZXMgPSBkYXRhLmxlbmd0aDsKICAgICAgICAgICAgY29uc3QgYXBwcm92ZWRMZWF2ZXMgPSBkYXRhLmZpbHRlcihsID0+IGwuc3RhdHVzID09PSAnYXBwcm92ZWQnKS5sZW5ndGg7CiAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdMZWF2ZXMgPSBkYXRhLmZpbHRlcihsID0+IGwuc3RhdHVzID09PSAncGVuZGluZycpLmxlbmd0aDsKICAgICAgICAgICAgY29uc3QgcmVqZWN0ZWRMZWF2ZXMgPSBkYXRhLmZpbHRlcihsID0+IGwuc3RhdHVzID09PSAncmVqZWN0ZWQnKS5sZW5ndGg7CgogICAgICAgICAgICBjb25zdCBzdGF0cyA9IFsKICAgICAgICAgICAgICAgIFsn2KfZhNil2K3Ytdin2KbZitipJywgJ9in2YTZgtmK2YXYqSddLAogICAgICAgICAgICAgICAgWyfYpdis2YXYp9mE2Yog2KfZhNil2KzYp9iy2KfYqicsIHRvdGFsTGVhdmVzXSwKICAgICAgICAgICAgICAgIFsn2YXZiNin2YHZgiDYudmE2YrZh9inJywgYXBwcm92ZWRMZWF2ZXNdLAogICAgICAgICAgICAgICAgWyfZgtmK2K8g2KfZhNin2YbYqti42KfYsScsIHBlbmRpbmdMZWF2ZXNdLAogICAgICAgICAgICAgICAgWyfZhdix2YHZiNi22KknLCByZWplY3RlZExlYXZlc10KICAgICAgICAgICAgXTsKCiAgICAgICAgICAgIGNvbnN0IHdzMiA9IFhMU1gudXRpbHMuYW9hX3RvX3NoZWV0KHN0YXRzKTsKICAgICAgICAgICAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3b3JrYm9vaywgd3MyLCAn2KfZhNil2K3Ytdin2KbZitin2KonKTsKICAgICAgICB9CgogICAgICAgIC8vINiq2LXYr9mK2LEg2KrZgtix2YrYsSDYp9mE2K7YtdmI2YXYp9iqINil2YTZiSBFeGNlbAogICAgICAgIGZ1bmN0aW9uIGV4cG9ydERlZHVjdGlvbnNUb0V4Y2VsKHdvcmtib29rLCByZXBvcnREYXRhKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXBvcnREYXRhLmRhdGEgfHwgW107CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBtYWluRGF0YSA9IGRhdGEubWFwKGRlZHVjdGlvbiA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBlbXBsb3llZSA9IGVtcGxveWVlc0RhdGEuZmluZChlID0+IGUuaWQgPT09IGRlZHVjdGlvbi5lbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgJ9in2YTYsdmC2YUg2KfZhNmI2LjZitmB2YonOiBlbXBsb3llZT8uZW1wbG95ZWVOdW1iZXIgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgJ9in2LPZhSDYp9mE2YXZiNi42YEnOiBlbXBsb3llZT8ubmFtZSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAn2YbZiNi5INin2YTYrti12YUnOiBkZWR1Y3Rpb24udHlwZSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAn2KfZhNmF2KjZhNi6JzogZGVkdWN0aW9uLmFtb3VudCB8fCAwLAogICAgICAgICAgICAgICAgICAgICfYp9mE2LnZhdmE2KknOiBkZWR1Y3Rpb24uY3VycmVuY3kgfHwgJ0lRRCcsCiAgICAgICAgICAgICAgICAgICAgJ9in2YTYqtin2LHZitiuJzogZGVkdWN0aW9uLmRhdGUgPyBmb3JtYXREYXRlKGRlZHVjdGlvbi5kYXRlKSA6ICcnLAogICAgICAgICAgICAgICAgICAgICfYp9mE2LPYqNioJzogZGVkdWN0aW9uLnJlYXNvbiB8fCAnJywKICAgICAgICAgICAgICAgICAgICAn2KfZhNit2KfZhNipJzogZGVkdWN0aW9uLnN0YXR1cyB8fCAnJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjb25zdCB3czEgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQobWFpbkRhdGEpOwogICAgICAgICAgICBYTFNYLnV0aWxzLmJvb2tfYXBwZW5kX3NoZWV0KHdvcmtib29rLCB3czEsICfYp9mE2K7YtdmI2YXYp9iqJyk7CgogICAgICAgICAgICAvLyDYpdis2YXYp9mE2Yog2KfZhNiu2LXZiNmF2KfYqgogICAgICAgICAgICBjb25zdCB0b3RhbEFtb3VudCA9IGRhdGEucmVkdWNlKChzdW0sIGQpID0+IHN1bSArIChwYXJzZUZsb2F0KGQuYW1vdW50KSB8fCAwKSwgMCk7CiAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gWwogICAgICAgICAgICAgICAgWyfYp9mE2KXYrdi12KfYptmK2KknLCAn2KfZhNmC2YrZhdipJ10sCiAgICAgICAgICAgICAgICBbJ9il2KzZhdin2YTZiiDYp9mE2K7YtdmI2YXYp9iqJywgdG90YWxBbW91bnRdLAogICAgICAgICAgICAgICAgWyfYudiv2K8g2KfZhNiu2LXZiNmF2KfYqicsIGRhdGEubGVuZ3RoXQogICAgICAgICAgICBdOwoKICAgICAgICAgICAgY29uc3Qgd3MyID0gWExTWC51dGlscy5hb2FfdG9fc2hlZXQoc3RhdHMpOwogICAgICAgICAgICBYTFNYLnV0aWxzLmJvb2tfYXBwZW5kX3NoZWV0KHdvcmtib29rLCB3czIsICfYp9mE2KXYrdi12KfYptmK2KfYqicpOwogICAgICAgIH0KCiAgICAgICAgLy8g2KrYtdiv2YrYsSDYqtmC2LHZitixINin2YTZhdi02KfYsdmK2Lkg2KXZhNmJIEV4Y2VsCiAgICAgICAgZnVuY3Rpb24gZXhwb3J0UHJvamVjdHNUb0V4Y2VsKHdvcmtib29rLCByZXBvcnREYXRhKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXBvcnREYXRhLmRhdGEgfHwgW107CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBtYWluRGF0YSA9IGRhdGEubWFwKHByb2plY3QgPT4gewogICAgICAgICAgICAgICAgY29uc3QgcmVnaW9uID0gcmVnaW9uc0RhdGEuZmluZChyID0+IHIuaWQgPT09IHByb2plY3QucmVnaW9uSWQpOwogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAn2KfYs9mFINin2YTZhdi02LHZiNi5JzogcHJvamVjdC5uYW1lIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICfYp9iz2YUg2KfZhNmF2LTYsdmI2Lkg2KjYp9mE2KXZhtis2YTZitiy2YrYqSc6IHByb2plY3QubmFtZUVuIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICfYsdmF2LIg2KfZhNmF2LTYsdmI2LknOiBwcm9qZWN0LmNvZGUgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgJ9in2YTZhdmG2LfZgtipJzogcmVnaW9uPy5uYW1lIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICfYp9mE2K3Yp9mE2KknOiBwcm9qZWN0LnN0YXR1cyB8fCAnJywKICAgICAgICAgICAgICAgICAgICAn2KrYp9ix2YrYriDYp9mE2KjYr9ihJzogcHJvamVjdC5zdGFydERhdGUgPyBmb3JtYXREYXRlKHByb2plY3Quc3RhcnREYXRlKSA6ICcnLAogICAgICAgICAgICAgICAgICAgICfYqtin2LHZitiuINin2YTYp9mG2KrZh9in2KEnOiBwcm9qZWN0LmVuZERhdGUgPyBmb3JtYXREYXRlKHByb2plY3QuZW5kRGF0ZSkgOiAnJywKICAgICAgICAgICAgICAgICAgICAn2KfZhNmF2YrYstin2YbZitipJzogcHJvamVjdC5idWRnZXQgfHwgMCwKICAgICAgICAgICAgICAgICAgICAn2KfZhNi52YXZhNipJzogcHJvamVjdC5jdXJyZW5jeSB8fCAnSVFEJywKICAgICAgICAgICAgICAgICAgICAn2KfZhNmI2LXZgSc6IHByb2plY3QuZGVzY3JpcHRpb24gfHwgJycKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY29uc3Qgd3MxID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KG1haW5EYXRhKTsKICAgICAgICAgICAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3b3JrYm9vaywgd3MxLCAn2KfZhNmF2LTYp9ix2YrYuScpOwogICAgICAgIH0KCiAgICAgICAgLy8g2KrYtdiv2YrYsSDYqtmC2LHZitixINin2YTYqtmC2YrZitmF2KfYqiDYpdmE2YkgRXhjZWwKICAgICAgICBmdW5jdGlvbiBleHBvcnRFdmFsdWF0aW9uc1RvRXhjZWwod29ya2Jvb2ssIHJlcG9ydERhdGEpIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlcG9ydERhdGEuZGF0YSB8fCBbXTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IG1haW5EYXRhID0gZGF0YS5tYXAoZXZhbHVhdGlvbiA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBlbXBsb3llZSA9IGVtcGxveWVlc0RhdGEuZmluZChlID0+IGUuaWQgPT09IGV2YWx1YXRpb24uZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICfYp9mE2LHZgtmFINin2YTZiNi42YrZgdmKJzogZW1wbG95ZWU/LmVtcGxveWVlTnVtYmVyIHx8ICcnLAogICAgICAgICAgICAgICAgICAgICfYp9iz2YUg2KfZhNmF2YjYuNmBJzogZW1wbG95ZWU/Lm5hbWUgfHwgJycsCiAgICAgICAgICAgICAgICAgICAgJ9iq2KfYsdmK2K4g2KfZhNiq2YLZitmK2YUnOiBldmFsdWF0aW9uLmRhdGUgPyBmb3JtYXREYXRlKGV2YWx1YXRpb24uZGF0ZSkgOiAnJywKICAgICAgICAgICAgICAgICAgICAn2KfZhNiq2YLZitmK2YUnOiBldmFsdWF0aW9uLnJhdGluZyB8fCAwLAogICAgICAgICAgICAgICAgICAgICfYp9mE2KrYudmE2YrZgtin2KonOiBldmFsdWF0aW9uLmNvbW1lbnRzIHx8ICcnCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNvbnN0IHdzMSA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChtYWluRGF0YSk7CiAgICAgICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIHdzMSwgJ9in2YTYqtmC2YrZitmF2KfYqicpOwogICAgICAgIH0KCiAgICAgICAgLy8g2KrYtdiv2YrYsSDYqtmC2LHZitixINin2YTYpdit2LXYp9im2YrYp9iqINil2YTZiSBFeGNlbAogICAgICAgIGZ1bmN0aW9uIGV4cG9ydFN0YXRpc3RpY3NUb0V4Y2VsKHdvcmtib29rLCByZXBvcnREYXRhKSB7CiAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gWwogICAgICAgICAgICAgICAgWyfYp9mE2KXYrdi12KfYptmK2KknLCAn2KfZhNmC2YrZhdipJ10sCiAgICAgICAgICAgICAgICBbJ9il2KzZhdin2YTZiiDYp9mE2YXZiNi42YHZitmGJywgcmVwb3J0RGF0YS5kYXRhPy5lbXBsb3llZXMgfHwgMF0sCiAgICAgICAgICAgICAgICBbJ9il2KzZhdin2YTZiiDYp9mE2YXYtNin2LHZiti5JywgcmVwb3J0RGF0YS5kYXRhPy5wcm9qZWN0cyB8fCAwXSwKICAgICAgICAgICAgICAgIFsn2KXYrNmF2KfZhNmKINin2YTYpdis2KfYstin2KonLCByZXBvcnREYXRhLmRhdGE/LmxlYXZlcyB8fCAwXSwKICAgICAgICAgICAgICAgIFsn2KXYrNmF2KfZhNmKINin2YTZhdiz2KrYrtiv2YXZitmGJywgcmVwb3J0RGF0YS5kYXRhPy51c2VycyB8fCAwXQogICAgICAgICAgICBdOwoKICAgICAgICAgICAgY29uc3Qgd3MgPSBYTFNYLnV0aWxzLmFvYV90b19zaGVldChzdGF0cyk7CiAgICAgICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIHdzLCAn2KfZhNil2K3Ytdin2KbZitin2KonKTsKICAgICAgICB9CgogICAgICAgIC8vINiq2LXYr9mK2LEg2KrZgtix2YrYsSDZh9mK2YPZhCDYp9mE2LTYsdmD2Kkg2KXZhNmJIEV4Y2VsCiAgICAgICAgZnVuY3Rpb24gZXhwb3J0Q29tcGFueVN0cnVjdHVyZVRvRXhjZWwod29ya2Jvb2ssIHJlcG9ydERhdGEpIHsKICAgICAgICAgICAgY29uc3Qgc3RydWN0dXJlID0gcmVwb3J0RGF0YS5kYXRhIHx8IHt9OwogICAgICAgICAgICBjb25zdCByb3dzID0gW107CgogICAgICAgICAgICAvLyDYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2KkKICAgICAgICAgICAgcm93cy5wdXNoKFsn2KfZhNmF2LPYqtmI2YknLCAn2KfZhNmG2YjYuScsICfYp9mE2KfYs9mFJywgJ9in2YTYsdmF2LInLCAn2KfZhNmF2YbYt9mC2KknLCAn2LnYr9ivINin2YTYo9mC2LPYp9mFJywgJ9i52K/YryDYp9mE2YXZiNi42YHZitmGJ10pOwoKICAgICAgICAgICAgLy8g2KXYttin2YHYqSDYp9mE2YXZhtin2LfZggogICAgICAgICAgICBPYmplY3QudmFsdWVzKHN0cnVjdHVyZSkuZm9yRWFjaCgoeyByZWdpb24sIHByb2plY3RzIH0pID0+IHsKICAgICAgICAgICAgICAgIHJvd3MucHVzaChbJ9mF2YbYt9mC2KknLCByZWdpb24ubmFtZSwgcmVnaW9uLm5hbWVFbiB8fCAnJywgcmVnaW9uLmNvZGUgfHwgJycsICcnLCAnJywgJyddKTsKCiAgICAgICAgICAgICAgICAvLyDYpdi22KfZgdipINin2YTZhdi02KfYsdmK2LkKICAgICAgICAgICAgICAgIHByb2plY3RzLmZvckVhY2gocHJvamVjdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwdENvdW50ID0gcHJvamVjdC5kZXBhcnRtZW50cyA/IHByb2plY3QuZGVwYXJ0bWVudHMubGVuZ3RoIDogMDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBlbXBDb3VudCA9IHByb2plY3QuZGVwYXJ0bWVudHMgPyBwcm9qZWN0LmRlcGFydG1lbnRzLnJlZHVjZSgoc3VtLCBkKSA9PiBzdW0gKyAoZC5lbXBsb3llZXMgPyBkLmVtcGxveWVlcy5sZW5ndGggOiAwKSwgMCkgOiAwOwogICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChbJ9mF2LTYsdmI2LknLCBwcm9qZWN0Lm5hbWUsIHByb2plY3QubmFtZUVuIHx8ICcnLCBwcm9qZWN0LmNvZGUgfHwgJycsIHJlZ2lvbi5uYW1lLCBkZXB0Q291bnQsIGVtcENvdW50XSk7CgogICAgICAgICAgICAgICAgICAgIC8vINil2LbYp9mB2Kkg2KfZhNij2YLYs9in2YUKICAgICAgICAgICAgICAgICAgICBpZiAocHJvamVjdC5kZXBhcnRtZW50cykgewogICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0LmRlcGFydG1lbnRzLmZvckVhY2goZGVwdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbXBDb3VudCA9IGRlcHQuZW1wbG95ZWVzID8gZGVwdC5lbXBsb3llZXMubGVuZ3RoIDogMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChbJ9mC2LPZhScsIGRlcHQubmFtZSwgZGVwdC5uYW1lRW4gfHwgJycsICcnLCByZWdpb24ubmFtZSwgJycsIGVtcENvdW50XSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNvbnN0IHdzID0gWExTWC51dGlscy5hb2FfdG9fc2hlZXQocm93cyk7CiAgICAgICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIHdzLCAn2YfZitmD2YQg2KfZhNi02LHZg9ipJyk7CiAgICAgICAgfQoKICAgICAgICAvLyDYqti12K/ZitixINiq2YLYsdmK2LEg2KrYp9ix2YrYriDYpdis2KfYstin2Kog2KfZhNmF2YjYuNmBINil2YTZiSBFeGNlbAogICAgICAgIGZ1bmN0aW9uIGV4cG9ydEVtcGxveWVlTGVhdmVIaXN0b3J5VG9FeGNlbCh3b3JrYm9vaywgcmVwb3J0RGF0YSkgewogICAgICAgICAgICBjb25zdCB7IGVtcGxveWVlLCBsZWF2ZXMgfSA9IHJlcG9ydERhdGEuZGF0YSB8fCB7fTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vINmF2LnZhNmI2YXYp9iqINin2YTZhdmI2LjZgQogICAgICAgICAgICBjb25zdCBlbXBsb3llZUluZm8gPSBbCiAgICAgICAgICAgICAgICBbJ9mF2LnZhNmI2YXYp9iqINin2YTZhdmI2LjZgScsICcnXSwKICAgICAgICAgICAgICAgIFsn2KfZhNix2YLZhSDYp9mE2YjYuNmK2YHZiicsIGVtcGxveWVlPy5lbXBsb3llZU51bWJlciB8fCAnJ10sCiAgICAgICAgICAgICAgICBbJ9in2YTYp9iz2YUnLCBlbXBsb3llZT8ubmFtZSB8fCAnJ10sCiAgICAgICAgICAgICAgICBbJ9in2YTZhdiz2YXZiSDYp9mE2YjYuNmK2YHZiicsIGVtcGxveWVlPy5wb3NpdGlvbiB8fCAnJ10sCiAgICAgICAgICAgICAgICBbJycsICcnXQogICAgICAgICAgICBdOwoKICAgICAgICAgICAgLy8g2KjZitin2YbYp9iqINin2YTYpdis2KfYstin2KoKICAgICAgICAgICAgY29uc3QgbGVhdmVEYXRhID0gbGVhdmVzLm1hcChsZWF2ZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZVR5cGVOYW1lID0gZ2V0TGVhdmVUeXBlTmFtZShsZWF2ZS50eXBlLCBsZWF2ZSk7CiAgICAgICAgICAgICAgICBjb25zdCByZWdpb24gPSBsZWF2ZS5yZWdpb25JZCA/IHJlZ2lvbnNEYXRhLmZpbmQociA9PiByLmlkID09PSBsZWF2ZS5yZWdpb25JZCkgOiBudWxsOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICfZhtmI2Lkg2KfZhNil2KzYp9iy2KknOiBsZWF2ZVR5cGVOYW1lLAogICAgICAgICAgICAgICAgICAgICfYp9mE2YXZhti32YLYqSc6IHJlZ2lvbj8ubmFtZSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAn2KrYp9ix2YrYriDYp9mE2KjYr9in2YrYqSc6IGxlYXZlLnN0YXJ0RGF0ZSA/IGZvcm1hdERhdGUobGVhdmUuc3RhcnREYXRlKSA6ICcnLAogICAgICAgICAgICAgICAgICAgICfYqtin2LHZitiuINin2YTZhtmH2KfZitipJzogbGVhdmUuZW5kRGF0ZSA/IGZvcm1hdERhdGUobGVhdmUuZW5kRGF0ZSkgOiAnJywKICAgICAgICAgICAgICAgICAgICAn2LnYr9ivINin2YTYo9mK2KfZhSc6IGxlYXZlLmRheXMgfHwgMCwKICAgICAgICAgICAgICAgICAgICAn2KfZhNit2KfZhNipJzogbGVhdmUuc3RhdHVzID09PSAnYXBwcm92ZWQnID8gJ9mF2YjYp9mB2YIg2LnZhNmK2YfYpycgOiBsZWF2ZS5zdGF0dXMgPT09ICdyZWplY3RlZCcgPyAn2YXYsdmB2YjYttipJyA6ICfZgtmK2K8g2KfZhNin2YbYqti42KfYsScsCiAgICAgICAgICAgICAgICAgICAgJ9in2YTYs9io2KgnOiBsZWF2ZS5yZWFzb24gfHwgJycKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY29uc3Qgd3MxID0gWExTWC51dGlscy5hb2FfdG9fc2hlZXQoZW1wbG95ZWVJbmZvKTsKICAgICAgICAgICAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3b3JrYm9vaywgd3MxLCAn2YXYudmE2YjZhdin2Kog2KfZhNmF2YjYuNmBJyk7CgogICAgICAgICAgICBjb25zdCB3czIgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQobGVhdmVEYXRhKTsKICAgICAgICAgICAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3b3JrYm9vaywgd3MyLCAn2KrYp9ix2YrYriDYp9mE2KXYrNin2LLYp9iqJyk7CiAgICAgICAgfQoKICAgICAgICAvLyDYqti12K/ZitixINiq2YLYsdmK2LEg2YXZiNi42YHZiiDYp9mE2YXYtNix2YjYuSDYpdmE2YkgRXhjZWwKICAgICAgICBmdW5jdGlvbiBleHBvcnRQcm9qZWN0RW1wbG95ZWVzVG9FeGNlbCh3b3JrYm9vaywgcmVwb3J0RGF0YSkgewogICAgICAgICAgICBjb25zdCB7IHByb2plY3QsIGVtcGxveWVlcyB9ID0gcmVwb3J0RGF0YS5kYXRhIHx8IHt9OwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g2YXYudmE2YjZhdin2Kog2KfZhNmF2LTYsdmI2LkKICAgICAgICAgICAgY29uc3QgcHJvamVjdEluZm8gPSBbCiAgICAgICAgICAgICAgICBbJ9mF2LnZhNmI2YXYp9iqINin2YTZhdi02LHZiNi5JywgJyddLAogICAgICAgICAgICAgICAgWyfYp9iz2YUg2KfZhNmF2LTYsdmI2LknLCBwcm9qZWN0Py5uYW1lIHx8ICcnXSwKICAgICAgICAgICAgICAgIFsn2LHZhdiyINin2YTZhdi02LHZiNi5JywgcHJvamVjdD8uY29kZSB8fCAnJ10sCiAgICAgICAgICAgICAgICBbJycsICcnXQogICAgICAgICAgICBdOwoKICAgICAgICAgICAgLy8g2KjZitin2YbYp9iqINin2YTZhdmI2LjZgdmK2YYKICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVEYXRhID0gZW1wbG95ZWVzLm1hcChlbXAgPT4gKHsKICAgICAgICAgICAgICAgICfYp9mE2LHZgtmFINin2YTZiNi42YrZgdmKJzogZW1wLmVtcGxveWVlTnVtYmVyIHx8ICcnLAogICAgICAgICAgICAgICAgJ9in2YTYp9iz2YUnOiBlbXAubmFtZSB8fCAnJywKICAgICAgICAgICAgICAgICfYp9mE2YXYs9mF2Ykg2KfZhNmI2LjZitmB2YonOiBlbXAucG9zaXRpb24gfHwgJycsCiAgICAgICAgICAgICAgICAn2KfZhNmC2LPZhSc6IGRlcGFydG1lbnRzRGF0YS5maW5kKGQgPT4gZC5pZCA9PT0gZW1wLmRlcGFydG1lbnRJZCk/Lm5hbWUgfHwgJycsCiAgICAgICAgICAgICAgICAn2KfZhNit2KfZhNipJzogZW1wLnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAn2YbYtNi3JyA6ICfYutmK2LEg2YbYtNi3JwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjb25zdCB3czEgPSBYTFNYLnV0aWxzLmFvYV90b19zaGVldChwcm9qZWN0SW5mbyk7CiAgICAgICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIHdzMSwgJ9mF2LnZhNmI2YXYp9iqINin2YTZhdi02LHZiNi5Jyk7CgogICAgICAgICAgICBjb25zdCB3czIgPSBYTFNYLnV0aWxzLmpzb25fdG9fc2hlZXQoZW1wbG95ZWVEYXRhKTsKICAgICAgICAgICAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3b3JrYm9vaywgd3MyLCAn2KfZhNmF2YjYuNmB2YrZhicpOwogICAgICAgIH0KCiAgICAgICAgLy8g2KrYtdiv2YrYsSDYqtmC2LHZitixINiq2KfYsdmK2K4g2YXYtNin2LHZiti5INin2YTZhdmI2LjZgSDYpdmE2YkgRXhjZWwKICAgICAgICBmdW5jdGlvbiBleHBvcnRFbXBsb3llZVByb2plY3RzSGlzdG9yeVRvRXhjZWwod29ya2Jvb2ssIHJlcG9ydERhdGEpIHsKICAgICAgICAgICAgY29uc3QgeyBlbXBsb3llZSwgcHJvamVjdHNIaXN0b3J5IH0gPSByZXBvcnREYXRhLmRhdGEgfHwge307CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyDZhdi52YTZiNmF2KfYqiDYp9mE2YXZiNi42YEKICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVJbmZvID0gWwogICAgICAgICAgICAgICAgWyfZhdi52YTZiNmF2KfYqiDYp9mE2YXZiNi42YEnLCAnJ10sCiAgICAgICAgICAgICAgICBbJ9in2YTYsdmC2YUg2KfZhNmI2LjZitmB2YonLCBlbXBsb3llZT8uZW1wbG95ZWVOdW1iZXIgfHwgJyddLAogICAgICAgICAgICAgICAgWyfYp9mE2KfYs9mFJywgZW1wbG95ZWU/Lm5hbWUgfHwgJyddLAogICAgICAgICAgICAgICAgWyfYp9mE2YXYs9mF2Ykg2KfZhNmI2LjZitmB2YonLCBlbXBsb3llZT8ucG9zaXRpb24gfHwgJyddLAogICAgICAgICAgICAgICAgWycnLCAnJ10KICAgICAgICAgICAgXTsKCiAgICAgICAgICAgIC8vINio2YrYp9mG2KfYqiDYp9mE2YXYtNin2LHZiti5CiAgICAgICAgICAgIGNvbnN0IHByb2plY3REYXRhID0gcHJvamVjdHNIaXN0b3J5Lm1hcChwaCA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gcHJvamVjdHNEYXRhLmZpbmQocCA9PiBwLmlkID09PSBwaC5wcm9qZWN0SWQpOwogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAn2KfYs9mFINin2YTZhdi02LHZiNi5JzogcHJvamVjdD8ubmFtZSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAn2LHZhdiyINin2YTZhdi02LHZiNi5JzogcHJvamVjdD8uY29kZSB8fCAnJywKICAgICAgICAgICAgICAgICAgICAn2KrYp9ix2YrYriDYp9mE2KjYr9ihJzogcGguc3RhcnREYXRlID8gZm9ybWF0RGF0ZShwaC5zdGFydERhdGUpIDogJycsCiAgICAgICAgICAgICAgICAgICAgJ9iq2KfYsdmK2K4g2KfZhNin2YbYqtmH2KfYoSc6IHBoLmVuZERhdGUgPyBmb3JtYXREYXRlKHBoLmVuZERhdGUpIDogJycsCiAgICAgICAgICAgICAgICAgICAgJ9in2YTYrdin2YTYqSc6IHBoLmVuZERhdGUgPyAn2YXZhtiq2YfZiicgOiAn2YbYtNi3JwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjb25zdCB3czEgPSBYTFNYLnV0aWxzLmFvYV90b19zaGVldChlbXBsb3llZUluZm8pOwogICAgICAgICAgICBYTFNYLnV0aWxzLmJvb2tfYXBwZW5kX3NoZWV0KHdvcmtib29rLCB3czEsICfZhdi52YTZiNmF2KfYqiDYp9mE2YXZiNi42YEnKTsKCiAgICAgICAgICAgIGNvbnN0IHdzMiA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChwcm9qZWN0RGF0YSk7CiAgICAgICAgICAgIFhMU1gudXRpbHMuYm9va19hcHBlbmRfc2hlZXQod29ya2Jvb2ssIHdzMiwgJ9iq2KfYsdmK2K4g2KfZhNmF2LTYp9ix2YrYuScpOwogICAgICAgIH0KCiAgICAgICAgLy8g2K/Yp9mE2Kkg2YXYs9in2LnYr9ipINmE2YTYrdi12YjZhCDYudmE2Ykg2KfYs9mFINin2YTZhdi02LHZiNi5INin2YTYrdin2YTZigogICAgICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRQcm9qZWN0TmFtZShlbXBsb3llZSkgewogICAgICAgICAgICBpZiAoIWVtcGxveWVlLnByb2plY3RzSGlzdG9yeSB8fCBlbXBsb3llZS5wcm9qZWN0c0hpc3RvcnkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgY3VycmVudFByb2plY3QgPSBlbXBsb3llZS5wcm9qZWN0c0hpc3RvcnkuZmluZChwID0+ICFwLmVuZERhdGUpOwogICAgICAgICAgICBpZiAoIWN1cnJlbnRQcm9qZWN0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RzRGF0YS5maW5kKHAgPT4gcC5pZCA9PT0gY3VycmVudFByb2plY3QucHJvamVjdElkKTsKICAgICAgICAgICAgcmV0dXJuIHByb2plY3Q/Lm5hbWUgfHwgJyc7CiAgICAgICAgfQoKICAgICAgICAvLyDYqtmG2LPZitmCINin2YTYudmF2YTYqQogICAgICAgIGZ1bmN0aW9uIGZvcm1hdEN1cnJlbmN5KGFtb3VudCwgY3VycmVuY3kpIHsKICAgICAgICAgICAgaWYgKCFhbW91bnQpIHJldHVybiAnMCc7CiAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IGZvcm1hdE51bWJlcihhbW91bnQpOwogICAgICAgICAgICByZXR1cm4gY3VycmVuY3kgPT09ICdVU0QnID8gYCQke2Zvcm1hdHRlZH1gIDogYCR7Zm9ybWF0dGVkfSDYry7YuWA7CiAgICAgICAgfQoKICAgICAgICAvLyDYp9mE2YXZiNin2YHZgtipINi52YTZiSDYp9mE2KXYrNin2LLYqQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGFwcHJvdmVMZWF2ZShpZCkgewogICAgICAgICAgICBpZiAoIWNvbmZpcm0oJ9mH2YQg2KPZhtiqINmF2KrYo9mD2K8g2YXZhiDYp9mE2YXZiNin2YHZgtipINi52YTZiSDZh9iw2Ycg2KfZhNil2KzYp9iy2KnYnycpKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICdsZWF2ZXMnLCBpZCksCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkQXQ6IHdpbmRvdy5maXJlc3RvcmUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkQnk6IGN1cnJlbnRVc2VyPy51aWQgfHwgJ3N5c3RlbScKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwoKICAgICAgICAgICAgICAgIGFsZXJ0KCfinIUg2KrZhSDYp9mE2YXZiNin2YHZgtipINi52YTZiSDYp9mE2KXYrNin2LLYqSDYqNmG2KzYp9itIScpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZExlYXZlcygpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgYWxlcnQoJ+KdjCDYrti32KMg2YHZiiDYp9mE2YXZiNin2YHZgtipINi52YTZiSDYp9mE2KXYrNin2LLYqTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINix2YHYtiDYp9mE2KXYrNin2LLYqQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHJlamVjdExlYXZlKGlkKSB7CiAgICAgICAgICAgIGNvbnN0IHJlYXNvbiA9IHByb21wdCgn2KfZhNix2KzYp9ihINil2K/Yrtin2YQg2LPYqNioINin2YTYsdmB2LYgKNin2K7YqtmK2KfYsdmKKTonKTsKICAgICAgICAgICAgaWYgKHJlYXNvbiA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgcmV0dXJuOyAvLyDYp9mE2YXYs9iq2K7Yr9mFINij2YTYutmJINin2YTYudmF2YTZitipCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghd2luZG93LmRiIHx8ICF3aW5kb3cuZmlyZXN0b3JlKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRmlyZWJhc2Ug2LrZitixINmF2YfZitijJyk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0gewogICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ3JlamVjdGVkJywKICAgICAgICAgICAgICAgICAgICByZWplY3RlZEF0OiB3aW5kb3cuZmlyZXN0b3JlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICAgICAgICAgIHJlamVjdGVkQnk6IGN1cnJlbnRVc2VyPy51aWQgfHwgJ3N5c3RlbScKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnRyaW0oKSkgewogICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEucmVqZWN0aW9uUmVhc29uID0gcmVhc29uLnRyaW0oKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZmlyZXN0b3JlLnVwZGF0ZURvYygKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZmlyZXN0b3JlLmRvYyh3aW5kb3cuZGIsICdsZWF2ZXMnLCBpZCksCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgICAgICBhbGVydCgn4pyFINiq2YUg2LHZgdi2INin2YTYpdis2KfYstipINio2YbYrNin2K0hJyk7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkTGVhdmVzKCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn4p2MINiu2LfYoyDZgdmKINix2YHYtiDYp9mE2KXYrNin2LLYqTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiAgICAgICAgLy8g2YbYp9mB2LDYqSDYqtmC2LHZitixINin2YTZhdmI2LjZgdmK2YYKICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICAgICAgIAogICAgICAgIC8vINil2LjZh9in2LEg2YbYp9mB2LDYqSDYqtmC2LHZitixINin2YTZhdmI2LjZgdmK2YYKICAgICAgICBhc3luYyBmdW5jdGlvbiBzaG93RW1wbG95ZWVSZXBvcnRNb2RhbCgpIHsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVSZXBvcnRNb2RhbCcpOwogICAgICAgICAgICBpZiAobW9kYWwpIHsKICAgICAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNmF2LTYp9ix2YrYuSDZhNiq2LnYqNim2Kkg2KfZhNmC2KfYptmF2KkKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRQcm9qZWN0cygpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqtit2K/ZitirINmC2KfYptmF2Kkg2KfZhNmF2LTYp9ix2YrYuQogICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdFNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRQcm9qZWN0RmlsdGVyJyk7CiAgICAgICAgICAgICAgICBpZiAocHJvamVjdFNlbGVjdCkgewogICAgICAgICAgICAgICAgICAgIHByb2plY3RTZWxlY3QuaW5uZXJIVE1MID0gJzxvcHRpb24gdmFsdWU9IiI+2KzZhdmK2Lkg2KfZhNmF2LTYp9ix2YrYuTwvb3B0aW9uPic7CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNEYXRhLmZvckVhY2gocHJvamVjdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpOwogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udmFsdWUgPSBwcm9qZWN0LmlkOwogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBwcm9qZWN0Lm5hbWUgfHwgcHJvamVjdC5jb2RlIHx8ICfYutmK2LEg2YXYrdiv2K8nOwogICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0U2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICAgICAgLy8g2KrYudmK2YrZhiDYp9mE2YLZitmFINin2YTYp9mB2KrYsdin2LbZitipCiAgICAgICAgICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdERheU9mTW9udGggPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCAxKTsKICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydFN0YXJ0RGF0ZScpOwogICAgICAgICAgICAgICAgY29uc3QgZW5kRGF0ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydEVuZERhdGUnKTsKICAgICAgICAgICAgICAgIGlmIChzdGFydERhdGVJbnB1dCkgc3RhcnREYXRlSW5wdXQudmFsdWUgPSBmaXJzdERheU9mTW9udGgudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOwogICAgICAgICAgICAgICAgaWYgKGVuZERhdGVJbnB1dCkgZW5kRGF0ZUlucHV0LnZhbHVlID0gdG9kYXkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNGaWx0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0U3RhdHVzRmlsdGVyJyk7CiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbkZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRQb3NpdGlvbkZpbHRlcicpOwogICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdEZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRQcm9qZWN0RmlsdGVyJyk7CiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzRmlsdGVyKSBzdGF0dXNGaWx0ZXIudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbkZpbHRlcikgcG9zaXRpb25GaWx0ZXIudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0RmlsdGVyKSBwcm9qZWN0RmlsdGVyLnZhbHVlID0gJyc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINil2K7Zgdin2KEg2YbYp9mB2LDYqSDYqtmC2LHZitixINin2YTZhdmI2LjZgdmK2YYKICAgICAgICBmdW5jdGlvbiBoaWRlRW1wbG95ZWVSZXBvcnRNb2RhbCgpIHsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVSZXBvcnRNb2RhbCcpOwogICAgICAgICAgICBpZiAobW9kYWwpIHsKICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYqtmI2YTZitivINiq2YLYsdmK2LEg2KfZhNmF2YjYuNmB2YrZhiDZhdi5INin2YTYrtmK2KfYsdin2KoKICAgICAgICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUVtcGxveWVlUmVwb3J0V2l0aEZpbHRlcnMoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydFN0YXJ0RGF0ZScpLnZhbHVlOwogICAgICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRFbmREYXRlJykudmFsdWU7CiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNGaWx0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0U3RhdHVzRmlsdGVyJykudmFsdWU7CiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbkZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRQb3NpdGlvbkZpbHRlcicpLnZhbHVlOwogICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdEZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRQcm9qZWN0RmlsdGVyJykudmFsdWU7CgogICAgICAgICAgICAgICAgLy8g2KXYrtmB2KfYoSDYp9mE2YbYp9mB2LDYqQogICAgICAgICAgICAgICAgaGlkZUVtcGxveWVlUmVwb3J0TW9kYWwoKTsKCiAgICAgICAgICAgICAgICBjdXJyZW50UmVwb3J0VHlwZSA9ICdlbXBsb3llZXMnOwogICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0VGl0bGUgPSAn2KrZgtix2YrYsSDYp9mE2YXZiNi42YHZitmGJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRUaXRsZScpLnRleHRDb250ZW50ID0gcmVwb3J0VGl0bGU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Qm9keScpOwogICAgICAgICAgICAgICAgcmVwb3J0Qm9keS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0ibG9hZGluZyI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqLi4uPC9kaXY+JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICAgICAgYXdhaXQgbG9hZEVtcGxveWVlcygpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYqti32KjZitmCINin2YTZgdmE2KfYqtixCiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyZWRFbXBsb3llZXMgPSBbLi4uZW1wbG95ZWVzRGF0YV07CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINmB2YTYqtix2Kkg2K3Ys9ioINin2YTYqtin2LHZitiuICjYqtin2LHZitiuINin2YTYqtmI2LjZitmBKQogICAgICAgICAgICAgICAgaWYgKHN0YXJ0RGF0ZSB8fCBlbmREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRFbXBsb3llZXMgPSBmaWx0ZXJlZEVtcGxveWVlcy5maWx0ZXIoZW1wID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbXAuaGlyZURhdGUpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGlyZURhdGUgPSBlbXAuaGlyZURhdGUuc2Vjb25kcyA/IG5ldyBEYXRlKGVtcC5oaXJlRGF0ZS5zZWNvbmRzICogMTAwMCkgOiBuZXcgRGF0ZShlbXAuaGlyZURhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IHN0YXJ0RGF0ZSA/IG5ldyBEYXRlKHN0YXJ0RGF0ZSkgOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBlbmREYXRlID8gbmV3IERhdGUoZW5kRGF0ZSkgOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0ICYmIGhpcmVEYXRlIDwgc3RhcnQpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZCAmJiBoaXJlRGF0ZSA+IGVuZCkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2YHZhNiq2LHYqSDYrdiz2Kgg2KfZhNit2KfZhNipCiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzRmlsdGVyKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRFbXBsb3llZXMgPSBmaWx0ZXJlZEVtcGxveWVlcy5maWx0ZXIoZW1wID0+IGVtcC5zdGF0dXMgPT09IHN0YXR1c0ZpbHRlcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINmB2YTYqtix2Kkg2K3Ys9ioINin2YTZhdiz2YXZiSDYp9mE2YjYuNmK2YHZigogICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uRmlsdGVyKSB7CiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRFbXBsb3llZXMgPSBmaWx0ZXJlZEVtcGxveWVlcy5maWx0ZXIoZW1wID0+IAogICAgICAgICAgICAgICAgICAgICAgICBlbXAucG9zaXRpb24gJiYgZW1wLnBvc2l0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocG9zaXRpb25GaWx0ZXIudG9Mb3dlckNhc2UoKSkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDZgdmE2KrYsdipINit2LPYqCDYp9mE2YXYtNix2YjYuQogICAgICAgICAgICAgICAgaWYgKHByb2plY3RGaWx0ZXIpIHsKICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZEVtcGxveWVlcyA9IGZpbHRlcmVkRW1wbG95ZWVzLmZpbHRlcihlbXAgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVtcC5wcm9qZWN0c0hpc3RvcnkgfHwgZW1wLnByb2plY3RzSGlzdG9yeS5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcC5wcm9qZWN0c0hpc3Rvcnkuc29tZShwaCA9PiBwaC5wcm9qZWN0SWQgPT09IHByb2plY3RGaWx0ZXIgJiYgIXBoLmVuZERhdGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbEVtcGxveWVlcyA9IGZpbHRlcmVkRW1wbG95ZWVzLmxlbmd0aDsKICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUVtcGxveWVlcyA9IGZpbHRlcmVkRW1wbG95ZWVzLmZpbHRlcihlID0+IGUuc3RhdHVzID09PSAnYWN0aXZlJykubGVuZ3RoOwogICAgICAgICAgICAgICAgY29uc3QgaW5hY3RpdmVFbXBsb3llZXMgPSB0b3RhbEVtcGxveWVlcyAtIGFjdGl2ZUVtcGxveWVlczsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2KrYrNmF2YrYuSDYrdiz2Kgg2KfZhNmF2LPZhdmJINin2YTZiNi42YrZgdmKCiAgICAgICAgICAgICAgICBjb25zdCBieVBvc2l0aW9uID0ge307CiAgICAgICAgICAgICAgICBmaWx0ZXJlZEVtcGxveWVlcy5mb3JFYWNoKGVtcCA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBlbXAucG9zaXRpb24gfHwgJ9i62YrYsSDZhdit2K/Yryc7CiAgICAgICAgICAgICAgICAgICAgYnlQb3NpdGlvbltwb3NpdGlvbl0gPSAoYnlQb3NpdGlvbltwb3NpdGlvbl0gfHwgMCkgKyAxOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2KzZhdmK2Lkg2K3Ys9ioINin2YTZhdi02LHZiNi5INin2YTYrdin2YTZigogICAgICAgICAgICAgICAgY29uc3QgYnlQcm9qZWN0ID0ge307CiAgICAgICAgICAgICAgICBmaWx0ZXJlZEVtcGxveWVlcy5mb3JFYWNoKGVtcCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVtcC5wcm9qZWN0c0hpc3RvcnkgJiYgZW1wLnByb2plY3RzSGlzdG9yeS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0cyA9IGVtcC5wcm9qZWN0c0hpc3RvcnkuZmlsdGVyKHAgPT4gIXAuZW5kRGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UHJvamVjdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb2plY3RzLmZvckVhY2gocCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBwcm9qZWN0c0RhdGEuZmluZChwciA9PiBwci5pZCA9PT0gcC5wcm9qZWN0SWQpPy5uYW1lIHx8ICfYutmK2LEg2YXYrdiv2K8nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5UHJvamVjdFtwcm9qZWN0TmFtZV0gPSAoYnlQcm9qZWN0W3Byb2plY3ROYW1lXSB8fCAwKSArIDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5UHJvamVjdFsn2YTYpyDZitmI2KzYryDZhdi02LHZiNi5J10gPSAoYnlQcm9qZWN0WyfZhNinINmK2YjYrNivINmF2LTYsdmI2LknXSB8fCAwKSArIDE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBieVByb2plY3RbJ9mE2Kcg2YrZiNis2K8g2YXYtNix2YjYuSddID0gKGJ5UHJvamVjdFsn2YTYpyDZitmI2KzYryDZhdi02LHZiNi5J10gfHwgMCkgKyAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDIwcHg7Ij7wn5OKINil2K3Ytdin2KbZitin2Kog2LnYp9mF2Kk8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZTdmM2ZmOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM2NjdlZWE7Ij4ke3RvdGFsRW1wbG95ZWVzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyI+2KXYrNmF2KfZhNmKINin2YTZhdmI2LjZgdmK2YY8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2Q0ZWRkYTsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDJlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMjhhNzQ1OyI+JHthY3RpdmVFbXBsb3llZXN9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICM2NjY7Ij7ZhdmI2LjZgdmK2YYg2YbYtNi32YrZhjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZjhkN2RhOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICNkYzM1NDU7Ij4ke2luYWN0aXZlRW1wbG95ZWVzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyI+2YXZiNi42YHZitmGINi62YrYsSDZhti02LfZitmGPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICR7c3RhcnREYXRlIHx8IGVuZERhdGUgPyBgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2ZmZjNjZDsgcGFkZGluZzogMTBweDsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW4tYm90dG9tOiAxNXB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjODU2NDA0OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtin2YTZgdiq2LHYqSDYp9mE2YXYrdiv2K/YqTo8L3N0cm9uZz4gJHtzdGFydERhdGUgPyBmb3JtYXREYXRlKHN0YXJ0RGF0ZSkgOiAn2KjYr9in2YrYqSd9IC0gJHtlbmREYXRlID8gZm9ybWF0RGF0ZShlbmREYXRlKSA6ICfZhtmH2KfZitipJ30KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDMwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJjb2xvcjogIzY2N2VlYTsgbWFyZ2luLWJvdHRvbTogMTVweDsiPvCfk4sg2KfZhNiq2YjYstmK2Lkg2K3Ys9ioINin2YTZhdiz2YXZiSDYp9mE2YjYuNmK2YHZijwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgc3R5bGU9IndpZHRoOiAxMDAlOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmF2LPZhdmJINin2YTZiNi42YrZgdmKPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yudiv2K8g2KfZhNmF2YjYuNmB2YrZhjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmG2LPYqNipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGJ5UG9zaXRpb24pLnNvcnQoKGEsIGIpID0+IGJbMV0gLSBhWzFdKS5mb3JFYWNoKChbcG9zaXRpb24sIGNvdW50XSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSB0b3RhbEVtcGxveWVlcyA+IDAgPyAoKGNvdW50IC8gdG90YWxFbXBsb3llZXMpICogMTAwKS50b0ZpeGVkKDEpIDogJzAnOwogICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwb3NpdGlvbn08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7Y291bnR9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3BlcmNlbnRhZ2V9JTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+8J+TgSDYp9mE2KrZiNiy2YrYuSDYrdiz2Kgg2KfZhNmF2LTYsdmI2Lk8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0YWJsZS1jb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIHN0eWxlPSJ3aWR0aDogMTAwJTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZhdi02LHZiNi5PC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yudiv2K8g2KfZhNmF2YjYuNmB2YrZhjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmG2LPYqNipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGJ5UHJvamVjdCkuc29ydCgoYSwgYikgPT4gYlsxXSAtIGFbMV0pLmZvckVhY2goKFtwcm9qZWN0LCBjb3VudF0pID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50YWdlID0gdG90YWxFbXBsb3llZXMgPiAwID8gKChjb3VudCAvIHRvdGFsRW1wbG95ZWVzKSAqIDEwMCkudG9GaXhlZCgxKSA6ICcwJzsKICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7cHJvamVjdH08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7Y291bnR9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3BlcmNlbnRhZ2V9JTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGgzIHN0eWxlPSJjb2xvcjogIzY2N2VlYTsgbWFyZ2luLWJvdHRvbTogMTVweDsiPvCfk50g2YLYp9im2YXYqSDYp9mE2YXZiNi42YHZitmGPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idGFibGUtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT0id2lkdGg6IDEwMCU7IGZvbnQtc2l6ZTogMTRweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYsdmC2YU8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYp9iz2YU8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYsdmC2YUg2KfZhNmI2LjZitmB2Yo8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZhdiz2YXZiSDYp9mE2YjYuNmK2YHZijwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNit2KfZhNipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yqtin2LHZitiuINin2YTYqtmI2LjZitmBPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YXYtNix2YjYuSDYp9mE2K3Yp9mE2Yo8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZmlsdGVyZWRFbXBsb3llZXMuZm9yRWFjaCgoZW1wLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0ID0gZW1wLnByb2plY3RzSGlzdG9yeT8uZmluZChwID0+ICFwLmVuZERhdGUpOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3ROYW1lID0gY3VycmVudFByb2plY3QgPyAocHJvamVjdHNEYXRhLmZpbmQocCA9PiBwLmlkID09PSBjdXJyZW50UHJvamVjdC5wcm9qZWN0SWQpPy5uYW1lIHx8ICfYutmK2LEg2YXYrdiv2K8nKSA6ICfZhNinINmK2YjYrNivJzsKICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7aW5kZXggKyAxfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtlbXAubmFtZSB8fCAn2LrZitixINmF2K3Yr9ivJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZW1wLmVtcGxveWVlTnVtYmVyIHx8ICfYutmK2LEg2YXYrdiv2K8nfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtlbXAucG9zaXRpb24gfHwgJ9i62YrYsSDZhdit2K/Yryd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48c3BhbiBjbGFzcz0iYmFkZ2UgJHtlbXAuc3RhdHVzID09PSAnYWN0aXZlJyA/ICdiYWRnZS1zdWNjZXNzJyA6ICdiYWRnZS1kYW5nZXInfSI+JHtnZXRFbXBsb3llZVN0YXR1c05hbWUoZW1wLnN0YXR1cyl9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtlbXAuaGlyZURhdGUgPyAoZW1wLmhpcmVEYXRlLnNlY29uZHMgPyBmb3JtYXREYXRlKGVtcC5oaXJlRGF0ZSkgOiBmb3JtYXREYXRlKGVtcC5oaXJlRGF0ZSkpIDogJ9i62YrYsSDZhdit2K/Yryd9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Byb2plY3ROYW1lfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAg2KrYp9ix2YrYriDYp9mE2KrZgtix2YrYsTogJHtmb3JtYXREYXRlVGltZShuZXcgRGF0ZSgpKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJlcG9ydEJvZHkuaW5uZXJIVE1MID0gaHRtbDsKICAgICAgICAgICAgICAgIGN1cnJlbnRSZXBvcnREYXRhID0geyB0eXBlOiAnZW1wbG95ZWVzJywgZGF0YTogZmlsdGVyZWRFbXBsb3llZXMgfTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign2K7Yt9ijINmB2Yog2KrZiNmE2YrYryDYqtmC2LHZitixINin2YTZhdmI2LjZgdmK2YY6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2KfZhNiq2YLYsdmK2LE6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgICAgICAvLyDYqtmC2KfYsdmK2LEg2KzYr9mK2K/YqQogICAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgogICAgICAgIC8vINil2LjZh9in2LEg2YbYp9mB2LDYqSDYqtmC2LHZitixINil2KzYp9iy2KfYqiDYp9mE2YXZiNi42YEKICAgICAgICBhc3luYyBmdW5jdGlvbiBzaG93RW1wbG95ZWVMZWF2ZUhpc3RvcnlSZXBvcnRNb2RhbCgpIHsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVMZWF2ZUhpc3RvcnlSZXBvcnRNb2RhbCcpOwogICAgICAgICAgICBpZiAobW9kYWwpIHsKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRFbXBsb3llZXMoKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZUxlYXZlUmVwb3J0RW1wbG95ZWVJZCcpOwogICAgICAgICAgICAgICAgaWYgKHNlbGVjdCkgewogICAgICAgICAgICAgICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT0iIj4tLSDYp9iu2KrYsSDYp9mE2YXZiNi42YEgLS08L29wdGlvbj4nOwogICAgICAgICAgICAgICAgICAgIGVtcGxveWVlc0RhdGEuZm9yRWFjaChlbXAgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gZW1wLmlkOwogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBgJHtlbXAubmFtZX0gKCR7ZW1wLmVtcGxveWVlTnVtYmVyIHx8IGVtcC5pZH0pYDsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0LmFwcGVuZENoaWxkKG9wdGlvbik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyDYqti52YrZitmGINin2YTYqtmI2KfYsdmK2K4g2KfZhNin2YHYqtix2KfYttmK2KkgKNmF2YYg2KjYr9in2YrYqSDYp9mE2LPZhtipINin2YTYrdin2YTZitipINil2YTZiSDYp9mE2YrZiNmFKQogICAgICAgICAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRPZlllYXIgPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCAwLCAxKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZUxlYXZlUmVwb3J0U3RhcnREYXRlJykudmFsdWUgPSBzdGFydE9mWWVhci50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVMZWF2ZVJlcG9ydEVuZERhdGUnKS52YWx1ZSA9IHRvZGF5LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXTsKICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYpdiu2YHYp9ihINmG2KfZgdiw2Kkg2KrZgtix2YrYsSDYpdis2KfYstin2Kog2KfZhNmF2YjYuNmBCiAgICAgICAgZnVuY3Rpb24gaGlkZUVtcGxveWVlTGVhdmVIaXN0b3J5UmVwb3J0TW9kYWwoKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlTGVhdmVIaXN0b3J5UmVwb3J0TW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KrZiNmE2YrYryDYqtmC2LHZitixINil2KzYp9iy2KfYqiDYp9mE2YXZiNi42YEKICAgICAgICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUVtcGxveWVlTGVhdmVIaXN0b3J5UmVwb3J0KCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWVJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbXBsb3llZUxlYXZlUmVwb3J0RW1wbG95ZWVJZCcpLnZhbHVlOwogICAgICAgICAgICAgICAgY29uc3Qgc3RhcnREYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlTGVhdmVSZXBvcnRTdGFydERhdGUnKS52YWx1ZTsKICAgICAgICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVMZWF2ZVJlcG9ydEVuZERhdGUnKS52YWx1ZTsKCiAgICAgICAgICAgICAgICBpZiAoIWVtcGxveWVlSWQpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2KzYp9ihINin2K7YqtmK2KfYsSDZhdmI2LjZgScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBlbXBsb3llZSA9IGVtcGxveWVlc0RhdGEuZmluZChlID0+IGUuaWQgPT09IGVtcGxveWVlSWQpOwogICAgICAgICAgICAgICAgaWYgKCFlbXBsb3llZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfYp9mE2YXZiNi42YEg2LrZitixINmF2YjYrNmI2K8nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXdhaXQgbG9hZExlYXZlcygpOwoKICAgICAgICAgICAgICAgIC8vINiq2LXZgdmK2Kkg2KfZhNil2KzYp9iy2KfYqiDYrdiz2Kgg2KfZhNmF2YjYuNmBINmI2KfZhNmB2KrYsdipCiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyZWRMZWF2ZXMgPSBsZWF2ZXNEYXRhLmZpbHRlcihsID0+IGwuZW1wbG95ZWVJZCA9PT0gZW1wbG95ZWVJZCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChzdGFydERhdGUpIHsKICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZExlYXZlcyA9IGZpbHRlcmVkTGVhdmVzLmZpbHRlcihsID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVhdmVEYXRlID0gbC5zdGFydERhdGUgPyAobC5zdGFydERhdGUuc2Vjb25kcyA/IG5ldyBEYXRlKGwuc3RhcnREYXRlLnNlY29uZHMgKiAxMDAwKSA6IG5ldyBEYXRlKGwuc3RhcnREYXRlKSkgOiBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGVhdmVEYXRlICYmIGxlYXZlRGF0ZSA+PSBuZXcgRGF0ZShzdGFydERhdGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZW5kRGF0ZSkgewogICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkTGVhdmVzID0gZmlsdGVyZWRMZWF2ZXMuZmlsdGVyKGwgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWF2ZURhdGUgPSBsLnN0YXJ0RGF0ZSA/IChsLnN0YXJ0RGF0ZS5zZWNvbmRzID8gbmV3IERhdGUobC5zdGFydERhdGUuc2Vjb25kcyAqIDEwMDApIDogbmV3IERhdGUobC5zdGFydERhdGUpKSA6IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsZWF2ZURhdGUgJiYgbGVhdmVEYXRlIDw9IG5ldyBEYXRlKGVuZERhdGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vINiq2LHYqtmK2Kgg2KfZhNil2KzYp9iy2KfYqiDYrdiz2Kgg2KfZhNiq2KfYsdmK2K4gKNin2YTYo9it2K/YqyDYo9mI2YTYp9mLKQogICAgICAgICAgICAgICAgZmlsdGVyZWRMZWF2ZXMuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVBID0gYS5zdGFydERhdGUgPyAoYS5zdGFydERhdGUuc2Vjb25kcyA/IG5ldyBEYXRlKGEuc3RhcnREYXRlLnNlY29uZHMgKiAxMDAwKSA6IG5ldyBEYXRlKGEuc3RhcnREYXRlKSkgOiBuZXcgRGF0ZSgwKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlQiA9IGIuc3RhcnREYXRlID8gKGIuc3RhcnREYXRlLnNlY29uZHMgPyBuZXcgRGF0ZShiLnN0YXJ0RGF0ZS5zZWNvbmRzICogMTAwMCkgOiBuZXcgRGF0ZShiLnN0YXJ0RGF0ZSkpIDogbmV3IERhdGUoMCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVCIC0gZGF0ZUE7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyDYrdiz2KfYqCDYp9mE2LHYtdmK2K8KICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRobHlMZWF2ZURheXMgPSBlbXBsb3llZS5tb250aGx5TGVhdmVEYXlzIHx8IDIuNTsKICAgICAgICAgICAgICAgIGNvbnN0IGhvdXJseUxlYXZlSG91cnMgPSBlbXBsb3llZS5ob3VybHlMZWF2ZUhvdXJzIHx8IDg7CiAgICAgICAgICAgICAgICBjb25zdCBpbml0aWFsQmFsYW5jZSA9IGVtcGxveWVlLmluaXRpYWxMZWF2ZUJhbGFuY2UgfHwgMDsKICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5RGF0ZSA9IGVtcGxveWVlLnN5c3RlbUVudHJ5RGF0ZSB8fCBlbXBsb3llZS5oaXJlRGF0ZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IHRvdGFsTW9udGhseUxlYXZlcyA9IGluaXRpYWxCYWxhbmNlOwogICAgICAgICAgICAgICAgbGV0IG1vbnRobHlVc2VkID0gMDsKICAgICAgICAgICAgICAgIGxldCBob3VybHlVc2VkID0gMDsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKGVudHJ5RGF0ZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN5c3RlbUVudHJ5RGF0ZSA9IG5ldyBEYXRlKGVudHJ5RGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgc3lzdGVtRW50cnlEYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgbm93LnNldEhvdXJzKDAsIDAsIDAsIDApOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGxldCBtb250aHNEaWZmID0gKG5vdy5nZXRGdWxsWWVhcigpIC0gc3lzdGVtRW50cnlEYXRlLmdldEZ1bGxZZWFyKCkpICogMTIgKyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5vdy5nZXRNb250aCgpIC0gc3lzdGVtRW50cnlEYXRlLmdldE1vbnRoKCkpOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChub3cuZ2V0RGF0ZSgpIDwgc3lzdGVtRW50cnlEYXRlLmdldERhdGUoKSkgewogICAgICAgICAgICAgICAgICAgICAgICBtb250aHNEaWZmIC09IDE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChtb250aHNEaWZmIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICBtb250aHNEaWZmID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgdG90YWxNb250aGx5TGVhdmVzID0gKG1vbnRoc0RpZmYgKiBtb250aGx5TGVhdmVEYXlzKSArIGluaXRpYWxCYWxhbmNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vINit2LPYp9ioINin2YTYpdis2KfYstin2Kog2KfZhNmF2LPYqtiu2K/ZhdipCiAgICAgICAgICAgICAgICBmaWx0ZXJlZExlYXZlcy5mb3JFYWNoKGxlYXZlID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAobGVhdmUuc3RhdHVzID09PSAnYXBwcm92ZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWF2ZS50eXBlID09PSAnbW9udGhseScgfHwgKGxlYXZlLnR5cGUgPT09ICd1bnBhaWQnICYmIGxlYXZlLmNvbnZlcnRlZEZyb21Nb250aGx5ID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlYXZlLnN0YXJ0RGF0ZSAmJiBsZWF2ZS5lbmREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShsZWF2ZS5zdGFydERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LnNldEhvdXJzKDAsIDAsIDAsIDApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKGxlYXZlLmVuZERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZC5zZXRIb3VycygwLCAwLCAwLCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmVGltZSA9IE1hdGguYWJzKGVuZCAtIHN0YXJ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmRGF5cyA9IE1hdGguY2VpbChkaWZmVGltZSAvICgxMDAwICogNjAgKiA2MCAqIDI0KSkgKyAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRobHlVc2VkICs9IGRpZmZEYXlzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlYXZlLnR5cGUgPT09ICdob3VybHknKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VybHlVc2VkICs9IChsZWF2ZS5ob3VycyB8fCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNvbnN0IG1vbnRobHlCYWxhbmNlID0gdG90YWxNb250aGx5TGVhdmVzIC0gbW9udGhseVVzZWQ7CiAgICAgICAgICAgICAgICBjb25zdCBob3VybHlCYWxhbmNlID0gaG91cmx5TGVhdmVIb3VycyAtIGhvdXJseVVzZWQ7CgogICAgICAgICAgICAgICAgLy8g2LnYsdi2INin2YTYqtmC2LHZitixCiAgICAgICAgICAgICAgICBoaWRlRW1wbG95ZWVMZWF2ZUhpc3RvcnlSZXBvcnRNb2RhbCgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRUaXRsZSA9IGDYqtmC2LHZitixINil2KzYp9iy2KfYqiDYp9mE2YXZiNi42YEgLSAke2VtcGxveWVlLm5hbWV9YDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRUaXRsZScpLnRleHRDb250ZW50ID0gcmVwb3J0VGl0bGU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Qm9keScpOwogICAgICAgICAgICAgICAgcmVwb3J0Qm9keS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0ibG9hZGluZyI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqLi4uPC9kaXY+JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgogICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+8J+RpCDZhdi52YTZiNmF2KfYqiDYp9mE2YXZiNi42YE8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDIwMHB4LCAxZnIpKTsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZTdmM2ZmOyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtin2YTYp9iz2YU6PC9zdHJvbmc+ICR7ZW1wbG95ZWUubmFtZSB8fCAn2LrZitixINmF2K3Yr9ivJ308YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2LHZgtmFINin2YTZiNi42YrZgdmKOjwvc3Ryb25nPiAke2VtcGxveWVlLmVtcGxveWVlTnVtYmVyIHx8ICfYutmK2LEg2YXYrdiv2K8nfTxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtin2YTZhdiz2YXZiSDYp9mE2YjYuNmK2YHZijo8L3N0cm9uZz4gJHtlbXBsb3llZS5wb3NpdGlvbiB8fCAn2LrZitixINmF2K3Yr9ivJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2U3ZjNmZjsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yqtin2LHZitiuINin2YTYpdiv2LHYp9isOjwvc3Ryb25nPiAke2VudHJ5RGF0ZSA/IGZvcm1hdERhdGUoZW50cnlEYXRlKSA6ICfYutmK2LEg2YXYrdiv2K8nfTxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtin2YTYsdi12YrYryDYp9mE2KfYqNiq2K/Yp9im2Yo6PC9zdHJvbmc+ICR7aW5pdGlhbEJhbGFuY2V9INmK2YjZhQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDIwcHg7Ij7wn5OKINmF2YTYrti1INin2YTYsdi12YrYrzwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMjUwcHgsIDFmcikpOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNkNGVkZGE7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsgdGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjVlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMjhhNzQ1OyBtYXJnaW4tYm90dG9tOiAxMHB4OyI+2KfZhNil2KzYp9iy2KfYqiDYp9mE2LTZh9ix2YrYqTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICMxNTU3MjQ7Ij4ke3RvdGFsTW9udGhseUxlYXZlcy50b0ZpeGVkKDEpfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyBtYXJnaW4tdG9wOiA1cHg7Ij7Ypdis2YXYp9mE2Yog2KfZhNmF2KrYsdin2YPZhTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZmZmM2NkOyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMS41ZW07IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzg1NjQwNDsgbWFyZ2luLWJvdHRvbTogMTBweDsiPtin2YTZhdiz2KrYrtiv2YU8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDJlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjODU2NDA0OyI+JHttb250aGx5VXNlZC50b0ZpeGVkKDEpfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyBtYXJnaW4tdG9wOiA1cHg7Ij7ZitmI2YU8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogJHttb250aGx5QmFsYW5jZSA+PSAwID8gJyNkMWVjZjEnIDogJyNmOGQ3ZGEnfTsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEuNWVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICR7bW9udGhseUJhbGFuY2UgPj0gMCA/ICcjMGM1NDYwJyA6ICcjNzIxYzI0J307IG1hcmdpbi1ib3R0b206IDEwcHg7Ij7Yp9mE2YXYqtio2YLZijwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICR7bW9udGhseUJhbGFuY2UgPj0gMCA/ICcjMGM1NDYwJyA6ICcjNzIxYzI0J307Ij4ke21vbnRobHlCYWxhbmNlLnRvRml4ZWQoMSl9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICM2NjY7IG1hcmdpbi10b3A6IDVweDsiPtmK2YjZhTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAjZTdmM2ZmOyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMS41ZW07IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzY2N2VlYTsgbWFyZ2luLWJvdHRvbTogMTBweDsiPtin2YTYpdis2KfYstin2Kog2KfZhNiy2YXZhtmK2Kk8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDJlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjNjY3ZWVhOyI+JHtob3VybHlMZWF2ZUhvdXJzfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyBtYXJnaW4tdG9wOiA1cHg7Ij7Ys9in2LnYqS/YtNmH2LE8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2ZmZjNjZDsgcGFkZGluZzogMjBweDsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6IDEuNWVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICM4NTY0MDQ7IG1hcmdpbi1ib3R0b206IDEwcHg7Ij7Yp9mE2YXYs9iq2K7Yr9mFPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAyZW07IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogIzg1NjQwNDsiPiR7aG91cmx5VXNlZC50b0ZpeGVkKDEpfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyBtYXJnaW4tdG9wOiA1cHg7Ij7Ys9in2LnYqTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiAke2hvdXJseUJhbGFuY2UgPj0gMCA/ICcjZDFlY2YxJyA6ICcjZjhkN2RhJ307IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsgdGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjVlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAke2hvdXJseUJhbGFuY2UgPj0gMCA/ICcjMGM1NDYwJyA6ICcjNzIxYzI0J307IG1hcmdpbi1ib3R0b206IDEwcHg7Ij7Yp9mE2YXYqtio2YLZijwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBmb250LXdlaWdodDogYm9sZDsgY29sb3I6ICR7aG91cmx5QmFsYW5jZSA+PSAwID8gJyMwYzU0NjAnIDogJyM3MjFjMjQnfTsiPiR7aG91cmx5QmFsYW5jZS50b0ZpeGVkKDEpfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiAjNjY2OyBtYXJnaW4tdG9wOiA1cHg7Ij7Ys9in2LnYqTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij7wn5OLINit2LHZg9ipINin2YTYpdis2KfYstin2KogJHtzdGFydERhdGUgfHwgZW5kRGF0ZSA/IGAoJHtzdGFydERhdGUgfHwgJ9mF2YYg2KfZhNio2K/Yp9mK2KknfSAtICR7ZW5kRGF0ZSB8fCAn2K3YqtmJINin2YTYotmGJ30pYCA6ICcnfTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgc3R5bGU9IndpZHRoOiAxMDAlOyBmb250LXNpemU6IDE0cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2KrYp9ix2YrYrjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2YbZiNi5INin2YTYpdis2KfYstipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YXYr9ipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2K3Yp9mE2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZhdmE2KfYrdi42KfYqjwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICBgOwoKICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZExlYXZlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49IjUiIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7IGNvbG9yOiAjNjY2OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg2YTYpyDYqtmI2KzYryDYpdis2KfYstin2Kog2YHZiiDYp9mE2YHYqtix2Kkg2KfZhNmF2K3Yr9iv2KkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRMZWF2ZXMuZm9yRWFjaChsZWF2ZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVN0ciA9IGxlYXZlLnN0YXJ0RGF0ZSA/IChsZWF2ZS5zdGFydERhdGUuc2Vjb25kcyA/IGZvcm1hdERhdGUobGVhdmUuc3RhcnREYXRlKSA6IGZvcm1hdERhdGUobGVhdmUuc3RhcnREYXRlKSkgOiAnLSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZERhdGVTdHIgPSBsZWF2ZS5lbmREYXRlID8gKGxlYXZlLmVuZERhdGUuc2Vjb25kcyA/IGZvcm1hdERhdGUobGVhdmUuZW5kRGF0ZSkgOiBmb3JtYXREYXRlKGxlYXZlLmVuZERhdGUpKSA6ICctJzsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9ICctJzsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlYXZlLnR5cGUgPT09ICdtb250aGx5JyB8fCBsZWF2ZS50eXBlID09PSAndW5wYWlkJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlYXZlLnN0YXJ0RGF0ZSAmJiBsZWF2ZS5lbmREYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShsZWF2ZS5zdGFydERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKGxlYXZlLmVuZERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnMoZW5kIC0gc3RhcnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZEYXlzID0gTWF0aC5jZWlsKGRpZmZUaW1lIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKSArIDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSBgJHtkaWZmRGF5c30g2YrZiNmFYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZWF2ZS50eXBlID09PSAnaG91cmx5JykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSBgJHtsZWF2ZS5ob3VycyB8fCAwfSDYs9in2LnYqWA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYXZlVHlwZU5hbWUgPSBnZXRMZWF2ZVR5cGVOYW1lKGxlYXZlLnR5cGUsIGxlYXZlKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzQmFkZ2UgPSBsZWF2ZS5zdGF0dXMgPT09ICdhcHByb3ZlZCcgPyAnYmFkZ2Utc3VjY2VzcycgOiBsZWF2ZS5zdGF0dXMgPT09ICdyZWplY3RlZCcgPyAnYmFkZ2UtZGFuZ2VyJyA6ICdiYWRnZS13YXJuaW5nJzsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzTmFtZSA9IGdldExlYXZlU3RhdHVzTmFtZShsZWF2ZS5zdGF0dXMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7c3RhcnREYXRlU3RyfSAke2xlYXZlLmVuZERhdGUgPyBgLSAke2VuZERhdGVTdHJ9YCA6ICcnfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7bGVhdmVUeXBlTmFtZX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2R1cmF0aW9ufTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJiYWRnZSAke3N0YXR1c0JhZGdlfSI+JHtzdGF0dXNOYW1lfTwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2xlYXZlLm5vdGVzIHx8ICctJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQ6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgINiq2KfYsdmK2K4g2KfZhNiq2YLYsdmK2LE6ICR7Zm9ybWF0RGF0ZVRpbWUobmV3IERhdGUoKSl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwoKICAgICAgICAgICAgICAgIHJlcG9ydEJvZHkuaW5uZXJIVE1MID0gaHRtbDsKICAgICAgICAgICAgICAgIGN1cnJlbnRSZXBvcnREYXRhID0geyB0eXBlOiAnZW1wbG95ZWVMZWF2ZUhpc3RvcnknLCBkYXRhOiB7IGVtcGxveWVlLCBsZWF2ZXM6IGZpbHRlcmVkTGVhdmVzIH0gfTsKCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfYrti32KMg2YHZiiDYqtmI2YTZitivINiq2YLYsdmK2LEg2KXYrNin2LLYp9iqINin2YTZhdmI2LjZgTonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2KrZiNmE2YrYryDYp9mE2KrZgtix2YrYsTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYpdi42YfYp9ixINmG2KfZgdiw2Kkg2KrZgtix2YrYsSDYp9mE2YXYtNix2YjYuSDZiNin2YTZhdmI2LjZgdmK2YYKICAgICAgICBhc3luYyBmdW5jdGlvbiBzaG93UHJvamVjdEVtcGxveWVlc1JlcG9ydE1vZGFsKCkgewogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0RW1wbG95ZWVzUmVwb3J0TW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkUHJvamVjdHMoKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0RW1wbG95ZWVzUmVwb3J0UHJvamVjdElkJyk7CiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0LmlubmVySFRNTCA9ICc8b3B0aW9uIHZhbHVlPSIiPi0tINin2K7YqtixINin2YTZhdi02LHZiNi5IC0tPC9vcHRpb24+JzsKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0RhdGEuZm9yRWFjaChwcm9qZWN0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IHByb2plY3QuaWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGAke3Byb2plY3QuY29kZSB8fCAnJ30gLSAke3Byb2plY3QubmFtZX1gOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYpdiu2YHYp9ihINmG2KfZgdiw2Kkg2KrZgtix2YrYsSDYp9mE2YXYtNix2YjYuSDZiNin2YTZhdmI2LjZgdmK2YYKICAgICAgICBmdW5jdGlvbiBoaWRlUHJvamVjdEVtcGxveWVlc1JlcG9ydE1vZGFsKCkgewogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0RW1wbG95ZWVzUmVwb3J0TW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KrZiNmE2YrYryDYqtmC2LHZitixINin2YTZhdi02LHZiNi5INmI2KfZhNmF2YjYuNmB2YrZhgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUHJvamVjdEVtcGxveWVlc1JlcG9ydCgpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0RW1wbG95ZWVzUmVwb3J0UHJvamVjdElkJykudmFsdWU7CiAgICAgICAgICAgICAgICBjb25zdCBpbmNsdWRlSGlzdG9yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0RW1wbG95ZWVzUmVwb3J0SW5jbHVkZUhpc3RvcnknKS5jaGVja2VkOwoKICAgICAgICAgICAgICAgIGlmICghcHJvamVjdElkKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYsdis2KfYoSDYp9iu2KrZitin2LEg2YXYtNix2YjYuScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0ID0gcHJvamVjdHNEYXRhLmZpbmQocCA9PiBwLmlkID09PSBwcm9qZWN0SWQpOwogICAgICAgICAgICAgICAgaWYgKCFwcm9qZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTZhdi02LHZiNi5INi62YrYsSDZhdmI2KzZiNivJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRFbXBsb3llZXMoKTsKCiAgICAgICAgICAgICAgICAvLyDYp9mE2KjYrdirINi52YYg2KfZhNmF2YjYuNmB2YrZhiDZgdmKINmH2LDYpyDYp9mE2YXYtNix2YjYuQogICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdEVtcGxveWVlcyA9IFtdOwogICAgICAgICAgICAgICAgZW1wbG95ZWVzRGF0YS5mb3JFYWNoKGVtcCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVtcC5wcm9qZWN0c0hpc3RvcnkgJiYgZW1wLnByb2plY3RzSGlzdG9yeS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVtcC5wcm9qZWN0c0hpc3RvcnkuZm9yRWFjaChwaCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGgucHJvamVjdElkID09PSBwcm9qZWN0SWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZUhpc3RvcnkgfHwgIXBoLmVuZERhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdEVtcGxveWVlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlOiBlbXAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SGlzdG9yeTogcGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyDYqtix2KrZitioINin2YTZhdmI2LjZgdmK2YYg2K3Ys9ioINiq2KfYsdmK2K4g2KfZhNio2K/YoQogICAgICAgICAgICAgICAgcHJvamVjdEVtcGxveWVlcy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZUEgPSBhLnByb2plY3RIaXN0b3J5LnN0YXJ0RGF0ZSA/IChhLnByb2plY3RIaXN0b3J5LnN0YXJ0RGF0ZS5zZWNvbmRzID8gbmV3IERhdGUoYS5wcm9qZWN0SGlzdG9yeS5zdGFydERhdGUuc2Vjb25kcyAqIDEwMDApIDogbmV3IERhdGUoYS5wcm9qZWN0SGlzdG9yeS5zdGFydERhdGUpKSA6IG5ldyBEYXRlKDApOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVCID0gYi5wcm9qZWN0SGlzdG9yeS5zdGFydERhdGUgPyAoYi5wcm9qZWN0SGlzdG9yeS5zdGFydERhdGUuc2Vjb25kcyA/IG5ldyBEYXRlKGIucHJvamVjdEhpc3Rvcnkuc3RhcnREYXRlLnNlY29uZHMgKiAxMDAwKSA6IG5ldyBEYXRlKGIucHJvamVjdEhpc3Rvcnkuc3RhcnREYXRlKSkgOiBuZXcgRGF0ZSgwKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZUIgLSBkYXRlQTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vINi52LHYtiDYp9mE2KrZgtix2YrYsQogICAgICAgICAgICAgICAgaGlkZVByb2plY3RFbXBsb3llZXNSZXBvcnRNb2RhbCgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRUaXRsZSA9IGDYqtmC2LHZitixINin2YTZhdi02LHZiNi5IC0gJHtwcm9qZWN0Lm5hbWV9YDsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRUaXRsZScpLnRleHRDb250ZW50ID0gcmVwb3J0VGl0bGU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydEJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Qm9keScpOwogICAgICAgICAgICAgICAgcmVwb3J0Qm9keS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0ibG9hZGluZyI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqLi4uPC9kaXY+JzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRDb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CgogICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+8J+TgSDZhdi52YTZiNmF2KfYqiDYp9mE2YXYtNix2YjYuTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNlN2YzZmY7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7IGdhcDogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2KfYs9mFINin2YTZhdi02LHZiNi5Ojwvc3Ryb25nPiAke3Byb2plY3QubmFtZSB8fCAn2LrZitixINmF2K3Yr9ivJ308YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2LHZhdiyINin2YTZhdi02LHZiNi5Ojwvc3Ryb25nPiAke3Byb2plY3QuY29kZSB8fCAn2LrZitixINmF2K3Yr9ivJ308YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2KfZhNit2KfZhNipOjwvc3Ryb25nPiA8c3BhbiBjbGFzcz0iYmFkZ2UgJHtwcm9qZWN0LnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAnYmFkZ2Utc3VjY2VzcycgOiAnYmFkZ2UtZGFuZ2VyJ30iPiR7cHJvamVjdC5zdGF0dXMgPT09ICdhY3RpdmUnID8gJ9mG2LTYtycgOiAn2LrZitixINmG2LTYtyd9PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2KrYp9ix2YrYriDYp9mE2KjYr9ihOjwvc3Ryb25nPiAke3Byb2plY3Quc3RhcnREYXRlID8gKHByb2plY3Quc3RhcnREYXRlLnNlY29uZHMgPyBmb3JtYXREYXRlKHByb2plY3Quc3RhcnREYXRlKSA6IGZvcm1hdERhdGUocHJvamVjdC5zdGFydERhdGUpKSA6ICfYutmK2LEg2YXYrdiv2K8nfTxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yqtin2LHZitiuINin2YTYp9mG2KrZh9in2KE6PC9zdHJvbmc+ICR7cHJvamVjdC5lbmREYXRlID8gKHByb2plY3QuZW5kRGF0ZS5zZWNvbmRzID8gZm9ybWF0RGF0ZShwcm9qZWN0LmVuZERhdGUpIDogZm9ybWF0RGF0ZShwcm9qZWN0LmVuZERhdGUpKSA6ICfZhdiz2KrZhdixJ308YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2KfZhNmI2LXZgTo8L3N0cm9uZz4gJHtwcm9qZWN0LmRlc2NyaXB0aW9uIHx8ICfZhNinINmK2YjYrNivJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+8J+RpSDYp9mE2YXZiNi42YHZitmGINmB2Yog2KfZhNmF2LTYsdmI2LkgKCR7cHJvamVjdEVtcGxveWVlcy5sZW5ndGh9KTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgc3R5bGU9IndpZHRoOiAxMDAlOyBmb250LXNpemU6IDE0cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2LHZgtmFPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2KfYs9mFPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2LHZgtmFINin2YTZiNi42YrZgdmKPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YXYs9mF2Ykg2KfZhNmI2LjZitmB2Yo8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtiq2KfYsdmK2K4g2KfZhNio2K/YoTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KrYp9ix2YrYriDYp9mE2KfZhtiq2YfYp9ihPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2K3Yp9mE2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PgogICAgICAgICAgICAgICAgYDsKCiAgICAgICAgICAgICAgICBpZiAocHJvamVjdEVtcGxveWVlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49IjciIHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDQwcHg7IGNvbG9yOiAjNjY2OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg2YTYpyDZitmI2KzYryDZhdmI2LjZgdmK2YYg2YHZiiDZh9iw2Kcg2KfZhNmF2LTYsdmI2LkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcHJvamVjdEVtcGxveWVlcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbXAgPSBpdGVtLmVtcGxveWVlOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwaCA9IGl0ZW0ucHJvamVjdEhpc3Rvcnk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVN0ciA9IHBoLnN0YXJ0RGF0ZSA/IChwaC5zdGFydERhdGUuc2Vjb25kcyA/IGZvcm1hdERhdGUocGguc3RhcnREYXRlKSA6IGZvcm1hdERhdGUocGguc3RhcnREYXRlKSkgOiAnLSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZERhdGVTdHIgPSBwaC5lbmREYXRlID8gKHBoLmVuZERhdGUuc2Vjb25kcyA/IGZvcm1hdERhdGUocGguZW5kRGF0ZSkgOiBmb3JtYXREYXRlKHBoLmVuZERhdGUpKSA6ICfZhdiz2KrZhdixJzsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50ID0gIXBoLmVuZERhdGU7CgogICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtpbmRleCArIDF9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtlbXAubmFtZSB8fCAn2LrZitixINmF2K3Yr9ivJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2VtcC5lbXBsb3llZU51bWJlciB8fCAn2LrZitixINmF2K3Yr9ivJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2VtcC5wb3NpdGlvbiB8fCAn2LrZitixINmF2K3Yr9ivJ308L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3N0YXJ0RGF0ZVN0cn08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2VuZERhdGVTdHJ9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9ImJhZGdlICR7aXNDdXJyZW50ID8gJ2JhZGdlLXN1Y2Nlc3MnIDogJ2JhZGdlLXNlY29uZGFyeSd9Ij4ke2lzQ3VycmVudCA/ICfYrdin2YTZiicgOiAn2YXZhtiq2YfZiid9PC9zcGFuPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgcGFkZGluZzogMTVweDsgYmFja2dyb3VuZDogI2Y4ZjlmYTsgYm9yZGVyLXJhZGl1czogOHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAg2KrYp9ix2YrYriDYp9mE2KrZgtix2YrYsTogJHtmb3JtYXREYXRlVGltZShuZXcgRGF0ZSgpKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIGA7CgogICAgICAgICAgICAgICAgcmVwb3J0Qm9keS5pbm5lckhUTUwgPSBodG1sOwogICAgICAgICAgICAgICAgY3VycmVudFJlcG9ydERhdGEgPSB7IHR5cGU6ICdwcm9qZWN0RW1wbG95ZWVzJywgZGF0YTogeyBwcm9qZWN0LCBlbXBsb3llZXM6IHByb2plY3RFbXBsb3llZXMgfSB9OwoKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2KrZgtix2YrYsSDYp9mE2YXYtNix2YjYuTonLCBlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgn2K7Yt9ijINmB2Yog2KrZiNmE2YrYryDYp9mE2KrZgtix2YrYsTogJyArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYpdi42YfYp9ixINmG2KfZgdiw2Kkg2KrZgtix2YrYsSDZhdi02KfYsdmK2Lkg2KfZhNmF2YjYuNmBCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc2hvd0VtcGxveWVlUHJvamVjdHNIaXN0b3J5UmVwb3J0TW9kYWwoKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlUHJvamVjdHNIaXN0b3J5UmVwb3J0TW9kYWwnKTsKICAgICAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgICAgICBhd2FpdCBsb2FkRW1wbG95ZWVzKCk7CiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVQcm9qZWN0c1JlcG9ydEVtcGxveWVlSWQnKTsKICAgICAgICAgICAgICAgIGlmIChzZWxlY3QpIHsKICAgICAgICAgICAgICAgICAgICBzZWxlY3QuaW5uZXJIVE1MID0gJzxvcHRpb24gdmFsdWU9IiI+LS0g2KfYrtiq2LEg2KfZhNmF2YjYuNmBIC0tPC9vcHRpb24+JzsKICAgICAgICAgICAgICAgICAgICBlbXBsb3llZXNEYXRhLmZvckVhY2goZW1wID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IGVtcC5pZDsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gYCR7ZW1wLm5hbWV9ICgke2VtcC5lbXBsb3llZU51bWJlciB8fCBlbXAuaWR9KWA7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINil2K7Zgdin2KEg2YbYp9mB2LDYqSDYqtmC2LHZitixINmF2LTYp9ix2YrYuSDYp9mE2YXZiNi42YEKICAgICAgICBmdW5jdGlvbiBoaWRlRW1wbG95ZWVQcm9qZWN0c0hpc3RvcnlSZXBvcnRNb2RhbCgpIHsKICAgICAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVQcm9qZWN0c0hpc3RvcnlSZXBvcnRNb2RhbCcpOwogICAgICAgICAgICBpZiAobW9kYWwpIHsKICAgICAgICAgICAgICAgIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYqtmI2YTZitivINiq2YLYsdmK2LEg2YXYtNin2LHZiti5INin2YTZhdmI2LjZgQogICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlRW1wbG95ZWVQcm9qZWN0c0hpc3RvcnlSZXBvcnQoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCBlbXBsb3llZUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlUHJvamVjdHNSZXBvcnRFbXBsb3llZUlkJykudmFsdWU7CgogICAgICAgICAgICAgICAgaWYgKCFlbXBsb3llZUlkKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ9in2YTYsdis2KfYoSDYp9iu2KrZitin2LEg2YXZiNi42YEnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29uc3QgZW1wbG95ZWUgPSBlbXBsb3llZXNEYXRhLmZpbmQoZSA9PiBlLmlkID09PSBlbXBsb3llZUlkKTsKICAgICAgICAgICAgICAgIGlmICghZW1wbG95ZWUpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNmF2YjYuNmBINi62YrYsSDZhdmI2KzZiNivJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRQcm9qZWN0cygpOwoKICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RzSGlzdG9yeSA9IGVtcGxveWVlLnByb2plY3RzSGlzdG9yeSB8fCBbXTsKCiAgICAgICAgICAgICAgICAvLyDYqtix2KrZitioINin2YTZhdi02KfYsdmK2Lkg2K3Ys9ioINiq2KfYsdmK2K4g2KfZhNio2K/YoSAo2KfZhNij2K3Yr9irINij2YjZhNin2YspCiAgICAgICAgICAgICAgICBwcm9qZWN0c0hpc3Rvcnkuc29ydCgoYSwgYikgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGVBID0gYS5zdGFydERhdGUgPyAoYS5zdGFydERhdGUuc2Vjb25kcyA/IG5ldyBEYXRlKGEuc3RhcnREYXRlLnNlY29uZHMgKiAxMDAwKSA6IG5ldyBEYXRlKGEuc3RhcnREYXRlKSkgOiBuZXcgRGF0ZSgwKTsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlQiA9IGIuc3RhcnREYXRlID8gKGIuc3RhcnREYXRlLnNlY29uZHMgPyBuZXcgRGF0ZShiLnN0YXJ0RGF0ZS5zZWNvbmRzICogMTAwMCkgOiBuZXcgRGF0ZShiLnN0YXJ0RGF0ZSkpIDogbmV3IERhdGUoMCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVCIC0gZGF0ZUE7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyDYudix2LYg2KfZhNiq2YLYsdmK2LEKICAgICAgICAgICAgICAgIGhpZGVFbXBsb3llZVByb2plY3RzSGlzdG9yeVJlcG9ydE1vZGFsKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydFRpdGxlID0gYNiq2YLYsdmK2LEg2YXYtNin2LHZiti5INin2YTZhdmI2LjZgSAtICR7ZW1wbG95ZWUubmFtZX1gOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydFRpdGxlJykudGV4dENvbnRlbnQgPSByZXBvcnRUaXRsZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0Qm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXBvcnRCb2R5Jyk7CiAgICAgICAgICAgICAgICByZXBvcnRCb2R5LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJsb2FkaW5nIj7YrNin2LHZiiDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2KouLi48L2Rpdj4nOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydENvbnRlbnQnKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDIwcHg7Ij7wn5GkINmF2LnZhNmI2YXYp9iqINin2YTZhdmI2LjZgTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNlN2YzZmY7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSk7IGdhcDogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+2KfZhNin2LPZhTo8L3N0cm9uZz4gJHtlbXBsb3llZS5uYW1lIHx8ICfYutmK2LEg2YXYrdiv2K8nfTxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2LHZgtmFINin2YTZiNi42YrZgdmKOjwvc3Ryb25nPiAke2VtcGxveWVlLmVtcGxveWVlTnVtYmVyIHx8ICfYutmK2LEg2YXYrdiv2K8nfTxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2YXYs9mF2Ykg2KfZhNmI2LjZitmB2Yo6PC9zdHJvbmc+ICR7ZW1wbG95ZWUucG9zaXRpb24gfHwgJ9i62YrYsSDZhdit2K/Yryd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yp9mE2K3Yp9mE2Kk6PC9zdHJvbmc+IDxzcGFuIGNsYXNzPSJiYWRnZSAke2VtcGxveWVlLnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAnYmFkZ2Utc3VjY2VzcycgOiAnYmFkZ2UtZGFuZ2VyJ30iPiR7Z2V0RW1wbG95ZWVTdGF0dXNOYW1lKGVtcGxveWVlLnN0YXR1cyl9PC9zcGFuPjxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz7Yqtin2LHZitiuINin2YTYqtmI2LjZitmBOjwvc3Ryb25nPiAke2VtcGxveWVlLmhpcmVEYXRlID8gZm9ybWF0RGF0ZShlbXBsb3llZS5oaXJlRGF0ZSkgOiAn2LrZitixINmF2K3Yr9ivJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDMgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+8J+TgSDYrdix2YPYqSDYp9mE2YXYtNin2LHZiti5ICgke3Byb2plY3RzSGlzdG9yeS5sZW5ndGh9KTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgc3R5bGU9IndpZHRoOiAxMDAlOyBmb250LXNpemU6IDE0cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2LHZgtmFPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9iz2YUg2KfZhNmF2LTYsdmI2Lk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtix2YXYsiDYp9mE2YXYtNix2YjYuTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KrYp9ix2YrYriDYp9mE2KjYr9ihPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yqtin2LHZitiuINin2YTYp9mG2KrZh9in2KE8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTZhdiv2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYrdin2YTYqTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+CiAgICAgICAgICAgICAgICBgOwoKICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0c0hpc3RvcnkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPSI3IiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA0MHB4OyBjb2xvcjogIzY2NjsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINmE2Kcg2YrZiNis2K8g2YXYtNin2LHZiti5INmF2LPYrNmE2Kkg2YTZh9iw2Kcg2KfZhNmF2YjYuNmBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHByb2plY3RzSGlzdG9yeS5mb3JFYWNoKChwaCwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RzRGF0YS5maW5kKHAgPT4gcC5pZCA9PT0gcGgucHJvamVjdElkKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBwcm9qZWN0ID8gcHJvamVjdC5uYW1lIDogJ9mF2LTYsdmI2Lkg2YXYrdiw2YjZgSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RDb2RlID0gcHJvamVjdCA/IHByb2plY3QuY29kZSA6ICctJzsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVN0ciA9IHBoLnN0YXJ0RGF0ZSA/IChwaC5zdGFydERhdGUuc2Vjb25kcyA/IGZvcm1hdERhdGUocGguc3RhcnREYXRlKSA6IGZvcm1hdERhdGUocGguc3RhcnREYXRlKSkgOiAnLSc7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZERhdGVTdHIgPSBwaC5lbmREYXRlID8gKHBoLmVuZERhdGUuc2Vjb25kcyA/IGZvcm1hdERhdGUocGguZW5kRGF0ZSkgOiBmb3JtYXREYXRlKHBoLmVuZERhdGUpKSA6ICfZhdiz2KrZhdixJzsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9ICctJzsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBoLnN0YXJ0RGF0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShwaC5zdGFydERhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kID0gcGguZW5kRGF0ZSA/IG5ldyBEYXRlKHBoLmVuZERhdGUpIDogbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZUaW1lID0gTWF0aC5hYnMoZW5kIC0gc3RhcnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZkRheXMgPSBNYXRoLmNlaWwoZGlmZlRpbWUgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9udGhzID0gTWF0aC5mbG9vcihkaWZmRGF5cyAvIDMwKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRheXMgPSBkaWZmRGF5cyAlIDMwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vbnRocyA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IGAke21vbnRoc30g2LTZh9ixICR7ZGF5cyA+IDAgPyBkYXlzICsgJyDZitmI2YUnIDogJyd9YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gPSBgJHtkaWZmRGF5c30g2YrZiNmFYDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50ID0gIXBoLmVuZERhdGU7CgogICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtpbmRleCArIDF9PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+JHtwcm9qZWN0TmFtZX08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Byb2plY3RDb2RlfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7c3RhcnREYXRlU3RyfTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZW5kRGF0ZVN0cn08L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4ke2R1cmF0aW9ufTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJiYWRnZSAke2lzQ3VycmVudCA/ICdiYWRnZS1zdWNjZXNzJyA6ICdiYWRnZS1zZWNvbmRhcnknfSI+JHtpc0N1cnJlbnQgPyAn2K3Yp9mE2YonIDogJ9mF2YbYqtmH2YonfTwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IHBhZGRpbmc6IDE1cHg7IGJhY2tncm91bmQ6ICNmOGY5ZmE7IGJvcmRlci1yYWRpdXM6IDhweDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMnB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgINiq2KfYsdmK2K4g2KfZhNiq2YLYsdmK2LE6ICR7Zm9ybWF0RGF0ZVRpbWUobmV3IERhdGUoKSl9CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwoKICAgICAgICAgICAgICAgIHJlcG9ydEJvZHkuaW5uZXJIVE1MID0gaHRtbDsKICAgICAgICAgICAgICAgIGN1cnJlbnRSZXBvcnREYXRhID0geyB0eXBlOiAnZW1wbG95ZWVQcm9qZWN0c0hpc3RvcnknLCBkYXRhOiB7IGVtcGxveWVlLCBwcm9qZWN0c0hpc3RvcnkgfSB9OwoKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2KrZgtix2YrYsSDZhdi02KfYsdmK2Lkg2KfZhNmF2YjYuNmBOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCfYrti32KMg2YHZiiDYqtmI2YTZitivINin2YTYqtmC2LHZitixOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINiq2YjZhNmK2K8g2KrZgtix2YrYsSDZh9mK2YPZhCDYp9mE2LTYsdmD2KkKICAgICAgICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUNvbXBhbnlTdHJ1Y3R1cmVSZXBvcnQoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kYiB8fCAhd2luZG93LmZpcmVzdG9yZSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdGaXJlYmFzZSDYutmK2LEg2YXZh9mK2KMnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY3VycmVudFJlcG9ydFR5cGUgPSAnY29tcGFueVN0cnVjdHVyZSc7CiAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRUaXRsZSA9ICfYqtmC2LHZitixINmH2YrZg9mEINin2YTYtNix2YPYqSc7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0VGl0bGUnKS50ZXh0Q29udGVudCA9IHJlcG9ydFRpdGxlOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlcG9ydEJvZHknKTsKICAgICAgICAgICAgICAgIHJlcG9ydEJvZHkuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9ImxvYWRpbmciPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNio2YrYp9mG2KfYqi4uLjwvZGl2Pic7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVwb3J0Q29udGVudCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwoKICAgICAgICAgICAgICAgIC8vINiq2K3ZhdmK2YQg2KzZhdmK2Lkg2KfZhNio2YrYp9mG2KfYqgogICAgICAgICAgICAgICAgYXdhaXQgbG9hZFJlZ2lvbnMoKTsKICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRQcm9qZWN0cygpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZEVtcGxveWVlcygpOwogICAgICAgICAgICAgICAgYXdhaXQgbG9hZERlcGFydG1lbnRzKCk7CgogICAgICAgICAgICAgICAgLy8g2KrYrdiv2YrYryDZhdi02LHZiNi5INin2YTYpdiv2KfYsdipINin2YTYudin2YXYqQogICAgICAgICAgICAgICAgY29uc3QgZ2VuZXJhbE1hbmFnZW1lbnRQcm9qZWN0ID0gcHJvamVjdHNEYXRhLmZpbmQocCA9PiBwLmlzR2VuZXJhbE1hbmFnZW1lbnQgPT09IHRydWUpIHx8IG51bGw7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vINiq2KzZhdmK2Lkg2KfZhNij2YLYs9in2YUg2K3Ys9ioINin2YTZhdi02LHZiNi5INij2Ygg2KfZhNil2K/Yp9ix2Kkg2KfZhNi52KfZhdipCiAgICAgICAgICAgICAgICBjb25zdCBkZXBhcnRtZW50c0J5UHJvamVjdCA9IHt9OwogICAgICAgICAgICAgICAgZGVwYXJ0bWVudHNEYXRhLmZvckVhY2goZGVwdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2YLYs9mFINmF2LHYqtio2Lcg2KjZhdi02LHZiNi5INil2K/Yp9ix2Kkg2LnYp9mF2KnYjCDYp9iz2KrYrtiv2YUg2YXYudix2YEg2KfZhNmF2LTYsdmI2LkKICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YPYp9mGIHByb2plY3RJZCDZh9mIICdnZW5lcmFsX21hbmFnZW1lbnQn2Iwg2KfYs9iq2K7Yr9mFICdnZW5lcmFsX21hbmFnZW1lbnQnCiAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiBwcm9qZWN0SWQg2YXZiNis2YjYr9in2YvYjCDYp9iz2KrYrtiv2YXZhwogICAgICAgICAgICAgICAgICAgIGxldCBrZXk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHQucHJvamVjdElkID09PSAnZ2VuZXJhbF9tYW5hZ2VtZW50JykgewogICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSAnZ2VuZXJhbF9tYW5hZ2VtZW50JzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRlcHQucHJvamVjdElkICYmIGdlbmVyYWxNYW5hZ2VtZW50UHJvamVjdCAmJiBkZXB0LnByb2plY3RJZCA9PT0gZ2VuZXJhbE1hbmFnZW1lbnRQcm9qZWN0LmlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2KfZhNmC2LPZhSDZhdix2KrYqNi3INio2YXYtNix2YjYuSDYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2KkKICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZ2VuZXJhbE1hbmFnZW1lbnRQcm9qZWN0LmlkOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVwdC5wcm9qZWN0SWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0gZGVwdC5wcm9qZWN0SWQ7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmE2YUg2YrZg9mGINmH2YbYp9mDIHByb2plY3RJZNiMINmG2LnYqtio2LHZhyDYpdiv2KfYsdipINi52KfZhdipCiAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGdlbmVyYWxNYW5hZ2VtZW50UHJvamVjdCA/IGdlbmVyYWxNYW5hZ2VtZW50UHJvamVjdC5pZCA6ICdnZW5lcmFsX21hbmFnZW1lbnQnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAoIWRlcGFydG1lbnRzQnlQcm9qZWN0W2tleV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudHNCeVByb2plY3Rba2V5XSA9IFtdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50c0J5UHJvamVjdFtrZXldLnB1c2goZGVwdCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAvLyDYqtis2YXZiti5INin2YTZhdmI2LjZgdmK2YYg2K3Ys9ioINin2YTZgtiz2YUKICAgICAgICAgICAgICAgIGNvbnN0IGVtcGxveWVlc0J5RGVwYXJ0bWVudCA9IHt9OwogICAgICAgICAgICAgICAgZW1wbG95ZWVzRGF0YS5mb3JFYWNoKGVtcCA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVtcC5kZXBhcnRtZW50SWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlbXBsb3llZXNCeURlcGFydG1lbnRbZW1wLmRlcGFydG1lbnRJZF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlc0J5RGVwYXJ0bWVudFtlbXAuZGVwYXJ0bWVudElkXSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlc0J5RGVwYXJ0bWVudFtlbXAuZGVwYXJ0bWVudElkXS5wdXNoKGVtcCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8g2KrYrNmF2YrYuSDYp9mE2KjZitin2YbYp9iqINit2LPYqCDYp9mE2YXZhtin2LfZggogICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0dXJlQnlSZWdpb24gPSB7fTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcmVnaW9uc0RhdGEuZm9yRWFjaChyZWdpb24gPT4gewogICAgICAgICAgICAgICAgICAgIHN0cnVjdHVyZUJ5UmVnaW9uW3JlZ2lvbi5pZF0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLAogICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0czogW10KICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8g2KXYttin2YHYqSDYp9mE2YXYtNin2LHZiti5INmE2YTZhdmG2KfYt9mCINmF2Lkg2KPZgtiz2KfZhdmH2Kcg2YjZhdmI2LjZgdmK2YfYpyAo2KfYs9iq2KjYudin2K8g2YXYtNix2YjYuSDYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2KkpCiAgICAgICAgICAgICAgICBwcm9qZWN0c0RhdGEuZm9yRWFjaChwcm9qZWN0ID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyDYp9iz2KrYqNi52KfYryDZhdi02LHZiNi5INin2YTYpdiv2KfYsdipINin2YTYudin2YXYqSDZhdmGINin2YTZhdi02KfYsdmK2Lkg2YHZiiDYp9mE2YXZhtin2LfZggogICAgICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0LmlzR2VuZXJhbE1hbmFnZW1lbnQgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyDYqtiu2LfZiiDZhdi02LHZiNi5INin2YTYpdiv2KfYsdipINin2YTYudin2YXYqQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAocHJvamVjdC5yZWdpb25JZCAmJiBzdHJ1Y3R1cmVCeVJlZ2lvbltwcm9qZWN0LnJlZ2lvbklkXSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2K3YtdmI2YQg2LnZhNmJINin2YTYo9mC2LPYp9mFINin2YTZhdix2KrYqNi32Kkg2KjZh9iw2Kcg2KfZhNmF2LTYsdmI2Lkg2YHZgti3ICjZiNmE2YrYsyAnZ2VuZXJhbF9tYW5hZ2VtZW50JykKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdERlcGFydG1lbnRzID0gKGRlcGFydG1lbnRzQnlQcm9qZWN0W3Byb2plY3QuaWRdIHx8IFtdKS5maWx0ZXIoZGVwdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2KrYo9mD2K8g2YXZhiDYo9mGINin2YTZgtiz2YUg2YXYsdiq2KjYtyDYqNmH2LDYpyDYp9mE2YXYtNix2YjYuSDZiNmE2YrYsyDYqNmAICdnZW5lcmFsX21hbmFnZW1lbnQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVwdC5wcm9qZWN0SWQgPT09IHByb2plY3QuaWQgJiYgZGVwdC5wcm9qZWN0SWQgIT09ICdnZW5lcmFsX21hbmFnZW1lbnQnOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RXaXRoRGVwYXJ0bWVudHMgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5wcm9qZWN0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudHM6IHByb2plY3REZXBhcnRtZW50cy5tYXAoZGVwdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNiq2KPZg9ivINmF2YYg2KzZhNioINin2YTZhdmI2LjZgdmK2YYg2KjYtNmD2YQg2LXYrdmK2K0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXB0RW1wbG95ZWVzID0gZW1wbG95ZWVzQnlEZXBhcnRtZW50W2RlcHQuaWRdIHx8IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRlcHQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcGxveWVlczogZGVwdEVtcGxveWVlcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3R1cmVCeVJlZ2lvbltwcm9qZWN0LnJlZ2lvbklkXS5wcm9qZWN0cy5wdXNoKHByb2plY3RXaXRoRGVwYXJ0bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vINit2LPYp9ioINin2YTYpdit2LXYp9im2YrYp9iqCiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbERlcGFydG1lbnRzID0gZGVwYXJ0bWVudHNEYXRhLmxlbmd0aDsKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsRW1wbG95ZWVzSW5TdHJ1Y3R1cmUgPSBlbXBsb3llZXNEYXRhLmZpbHRlcihlbXAgPT4gZW1wLmRlcGFydG1lbnRJZCkubGVuZ3RoOwoKICAgICAgICAgICAgICAgIC8vINiv2KfZhNipINmE2KXZhti02KfYoSDYudmC2K/YqSDZh9mK2YPZhNmK2KkKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU9yZ05vZGUodGl0bGUsIHN1YnRpdGxlLCBjb3VudCwgbGV2ZWwsIGNoaWxkcmVuID0gJycsIGV4dHJhQ2xhc3MgPSAnJywgbWFuYWdlcnMgPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxDbGFzcyA9IGBsZXZlbC0ke2xldmVsfWA7CiAgICAgICAgICAgICAgICAgICAgbGV0IG1hbmFnZXJzSHRtbCA9ICcnOwogICAgICAgICAgICAgICAgICAgIGlmIChtYW5hZ2VycyAmJiAobWFuYWdlcnMuZ2VuZXJhbE1hbmFnZXIgfHwgbWFuYWdlcnMuZXhlY3V0aXZlTWFuYWdlcikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbWFuYWdlcnNIdG1sID0gJzxkaXYgY2xhc3M9Im9yZy1ub2RlLW1hbmFnZXJzIj4nOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFuYWdlcnMuZ2VuZXJhbE1hbmFnZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmFnZXJzSHRtbCArPSBgPGRpdj7wn5GUIDxzdHJvbmc+2KfZhNmF2K/ZitixINin2YTYudin2YU6PC9zdHJvbmc+ICR7bWFuYWdlcnMuZ2VuZXJhbE1hbmFnZXJ9PC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFuYWdlcnMuZXhlY3V0aXZlTWFuYWdlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFuYWdlcnNIdG1sICs9IGA8ZGl2PvCfkrwgPHN0cm9uZz7Yp9mE2YXYr9mK2LEg2KfZhNiq2YbZgdmK2LDZijo8L3N0cm9uZz4gJHttYW5hZ2Vycy5leGVjdXRpdmVNYW5hZ2VyfTwvZGl2PmA7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgbWFuYWdlcnNIdG1sICs9ICc8L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctbm9kZS13cmFwcGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9yZy1ub2RlICR7bGV2ZWxDbGFzc30gJHtleHRyYUNsYXNzfSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtsZXZlbCA+IDAgPyAnPGRpdiBjbGFzcz0ib3JnLWNvbm5lY3RvciB2ZXJ0aWNhbCI+PC9kaXY+JyA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9yZy1ub2RlLXRpdGxlIj4ke3RpdGxlfTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7c3VidGl0bGUgPyBgPGRpdiBjbGFzcz0ib3JnLW5vZGUtc3VidGl0bGUiPiR7c3VidGl0bGV9PC9kaXY+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Y291bnQgIT09IHVuZGVmaW5lZCA/IGA8ZGl2IGNsYXNzPSJvcmctbm9kZS1jb3VudCI+JHtjb3VudH08L2Rpdj5gIDogJyd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHttYW5hZ2Vyc0h0bWx9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjaGlsZHJlbiA/IGA8ZGl2IGNsYXNzPSJvcmctY2hpbGRyZW4iPiR7Y2hpbGRyZW59PC9kaXY+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g2K/Yp9mE2Kkg2YTYpdmG2LTYp9ihINmC2KfYptmF2Kkg2KfZhNmF2YjYuNmB2YrZhgogICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlRW1wbG95ZWVMaXN0KGVtcGxveWVlcykgewogICAgICAgICAgICAgICAgICAgIGlmICghZW1wbG95ZWVzIHx8IGVtcGxveWVlcy5sZW5ndGggPT09IDApIHJldHVybiAnJzsKICAgICAgICAgICAgICAgICAgICAvLyDYqtix2KrZitioINin2YTZhdmI2LjZgdmK2YYg2K3Ys9ioINin2YTYsdmC2YUg2KfZhNmI2LjZitmB2YoKICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRFbXBsb3llZXMgPSBbLi4uZW1wbG95ZWVzXS5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bUEgPSAoYS5lbXBsb3llZU51bWJlciB8fCAnJykucmVwbGFjZSgvXEQvZywgJycpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1CID0gKGIuZW1wbG95ZWVOdW1iZXIgfHwgJycpLnJlcGxhY2UoL1xEL2csICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bUEubG9jYWxlQ29tcGFyZShudW1CKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctZW1wbG95ZWUtbGlzdCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3NvcnRlZEVtcGxveWVlcy5zbGljZSgwLCA4KS5tYXAoZW1wID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNJY29uID0gZW1wLnN0YXR1cyA9PT0gJ2FjdGl2ZScgPyAn4pyFJyA6IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXAuc3RhdHVzID09PSAnaW5hY3RpdmUnID8gJ+KPuO+4jycgOiAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1wLnN0YXR1cyA9PT0gJ29uLWxlYXZlJyA/ICfwn4+W77iPJyA6ICfinYwnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3JnLWVtcGxveWVlLWNhcmQiIHRpdGxlPSIke2VtcC5lbXBsb3llZU51bWJlciB8fCAnJ30gLSAke2VtcC5lbWFpbCB8fCAnJ30iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDZweDsgbWFyZ2luLWJvdHRvbTogNHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAwLjg1ZW07Ij4ke3N0YXR1c0ljb259PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBzdHlsZT0iZm9udC1zaXplOiAwLjk1ZW07Ij4ke2VtcC5uYW1lIHx8ICfYutmK2LEg2YXYrdiv2K8nfTwvc3Ryb25nPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIHN0eWxlPSJjb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjkpOyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLXRvcDogNHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2VtcC5wb3NpdGlvbiB8fCAn2LrZitixINmF2K3Yr9ivJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zbWFsbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtlbXAuZW1wbG95ZWVOdW1iZXIgPyBgPHNtYWxsIHN0eWxlPSJmb250LXNpemU6IDAuNzVlbTsgb3BhY2l0eTogMC44OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLXRvcDogMnB4OyI+JHtlbXAuZW1wbG95ZWVOdW1iZXJ9PC9zbWFsbD5gIDogJyd9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuam9pbignJyl9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3NvcnRlZEVtcGxveWVlcy5sZW5ndGggPiA4ID8gYDxkaXYgY2xhc3M9Im9yZy1lbXBsb3llZS1jYXJkIiBzdHlsZT0iYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjIpOyBib3JkZXItc3R5bGU6IGRhc2hlZDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgc3R5bGU9ImZvbnQtc2l6ZTogMS4xZW07Ij4rJHtzb3J0ZWRFbXBsb3llZXMubGVuZ3RoIC0gOH08L3N0cm9uZz48YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsPtmF2YjYuNmBINil2LbYp9mB2Yo8L3NtYWxsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YCA6ICcnfQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vINit2LPYp9ioINil2K3Ytdin2KbZitin2Kog2KXYttin2YHZitipCiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVQcm9qZWN0cyA9IHByb2plY3RzRGF0YS5maWx0ZXIocCA9PiBwLnN0YXR1cyA9PT0gJ2FjdGl2ZScgJiYgIXAuaXNHZW5lcmFsTWFuYWdlbWVudCkubGVuZ3RoOwogICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlRW1wbG95ZWVzID0gZW1wbG95ZWVzRGF0YS5maWx0ZXIoZW1wID0+IGVtcC5zdGF0dXMgPT09ICdhY3RpdmUnICYmIGVtcC5kZXBhcnRtZW50SWQpLmxlbmd0aDsKICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsUHJvamVjdHNJblJlZ2lvbnMgPSBwcm9qZWN0c0RhdGEuZmlsdGVyKHAgPT4gcC5yZWdpb25JZCAmJiAhcC5pc0dlbmVyYWxNYW5hZ2VtZW50KS5sZW5ndGg7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxldCBodG1sID0gYAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NjdlZWEgMCUsICM3NjRiYTIgMTAwJSk7IHBhZGRpbmc6IDMwcHg7IGJvcmRlci1yYWRpdXM6IDE2cHg7IG1hcmdpbi1ib3R0b206IDMwcHg7IGNvbG9yOiB3aGl0ZTsgYm94LXNoYWRvdzogMCA4cHggMzBweCByZ2JhKDEwMiwgMTI2LCAyMzQsIDAuMyk7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGgyIHN0eWxlPSJtYXJnaW46IDAgMCAyMHB4IDA7IHRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1zaXplOiAxLjhlbTsgdGV4dC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLDAsMCwwLjIpOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn4+iINiq2YLYsdmK2LEg2YfZitmD2YQg2KfZhNi02LHZg9ipINin2YTYqtmG2LjZitmF2YoKICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAwOyBvcGFjaXR5OiAwLjk1OyBmb250LXNpemU6IDEuMWVtOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdERhdGUobmV3IERhdGUoKSwgeyB3ZWVrZGF5OiAnbG9uZycsIHllYXI6ICdudW1lcmljJywgbW9udGg6ICdsb25nJywgZGF5OiAnbnVtZXJpYycgfSl9CiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctc3RhdHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctc3RhdC1jYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBtYXJnaW4tYm90dG9tOiA4cHg7Ij7wn4yNPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctc3RhdC1udW1iZXIiPiR7cmVnaW9uc0RhdGEubGVuZ3RofTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3JnLXN0YXQtbGFiZWwiPtil2KzZhdin2YTZiiDYp9mE2YXZhtin2LfZgjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAwLjg1ZW07IGNvbG9yOiAjOTk5OyBtYXJnaW4tdG9wOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RvdGFsUHJvamVjdHNJblJlZ2lvbnN9INmF2LTYsdmI2Lkg2YXYsdiq2KjYtwogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctc3RhdC1jYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBtYXJnaW4tYm90dG9tOiA4cHg7Ij7wn5OBPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctc3RhdC1udW1iZXIiPiR7cHJvamVjdHNEYXRhLmxlbmd0aH08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9yZy1zdGF0LWxhYmVsIj7Ypdis2YXYp9mE2Yog2KfZhNmF2LTYp9ix2YrYuTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAwLjg1ZW07IGNvbG9yOiAjOTk5OyBtYXJnaW4tdG9wOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2FjdGl2ZVByb2plY3RzfSDZhdi02LHZiNi5INmG2LTYtwogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctc3RhdC1jYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBtYXJnaW4tYm90dG9tOiA4cHg7Ij7wn4+b77iPPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctc3RhdC1udW1iZXIiPiR7dG90YWxEZXBhcnRtZW50c308L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9yZy1zdGF0LWxhYmVsIj7Ypdis2YXYp9mE2Yog2KfZhNij2YLYs9in2YU8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMC44NWVtOyBjb2xvcjogIzk5OTsgbWFyZ2luLXRvcDogOHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg2YXZiNiy2LnYqSDYudmE2Ykg2KfZhNmF2LTYp9ix2YrYuQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctc3RhdC1jYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZTogMmVtOyBtYXJnaW4tYm90dG9tOiA4cHg7Ij7wn5GlPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctc3RhdC1udW1iZXIiPiR7dG90YWxFbXBsb3llZXNJblN0cnVjdHVyZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9yZy1zdGF0LWxhYmVsIj7Ypdis2YXYp9mE2Yog2KfZhNmF2YjYuNmB2YrZhjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAwLjg1ZW07IGNvbG9yOiAjOTk5OyBtYXJnaW4tdG9wOiA4cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2FjdGl2ZUVtcGxveWVlc30g2YXZiNi42YEg2YbYtNi3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9yZy1jb250cm9scyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0ib3JnQ2hhcnRab29tSW4oKSIgdGl0bGU9Itiq2YPYqNmK2LEg2KfZhNix2LPZhSDYp9mE2YfZitmD2YTZiiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxLjJlbTsiPvCflI08L3NwYW4+INiq2YPYqNmK2LEKICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0ib3JnQ2hhcnRab29tT3V0KCkiIHRpdGxlPSLYqti12LrZitixINin2YTYsdiz2YUg2KfZhNmH2YrZg9mE2YoiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMS4yZW07Ij7wn5SNPC9zcGFuPiDYqti12LrZitixCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9Im9yZ0NoYXJ0UmVzZXQoKSIgdGl0bGU9Itil2LnYp9iv2Kkg2KrYudmK2YrZhiDYp9mE2KrZg9io2YrYsSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOiAxLjJlbTsiPvCflIQ8L3NwYW4+INil2LnYp9iv2Kkg2KrYudmK2YrZhgogICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBvbmNsaWNrPSJ3aW5kb3cucHJpbnQoKSIgdGl0bGU9Iti32KjYp9i52Kkg2KfZhNiq2YLYsdmK2LEiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTogMS4yZW07Ij7wn5ao77iPPC9zcGFuPiDYt9io2KfYudipCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWluZm8iIG9uY2xpY2s9ImV4cG9ydE9yZ0NoYXJ0QXNJbWFnZSgpIiB0aXRsZT0i2KrYtdiv2YrYsSDZg9i12YjYsdipIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6IDEuMmVtOyI+8J+TpTwvc3Bhbj4g2KrYtdiv2YrYsQogICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3JnLXpvb20tY29udHJvbHMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiAjNjY3ZWVhOyI+2YXYs9iq2YjZiSDYp9mE2KrZg9io2YrYsTo8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ib3JnLXpvb20tbGV2ZWwiIGlkPSJvcmdab29tTGV2ZWwiPjEwMCU8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNlN2YzZmY7IGJvcmRlci1yaWdodDogNHB4IHNvbGlkICM2NjdlZWE7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luLWJvdHRvbTogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPSJtYXJnaW46IDA7IGNvbG9yOiAjMGM1NDYwOyBmb250LXNpemU6IDE0cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfkqEgPHN0cm9uZz7ZhdmE2KfYrdi42Kk6PC9zdHJvbmc+INmK2YXZg9mG2YMg2KfYs9iq2K7Yr9in2YUg2KPYstix2KfYsSDYp9mE2KrZg9io2YrYsS/Yp9mE2KrYtdi62YrYsSDZhNmE2KrZhtmC2YQg2YHZiiDYp9mE2LHYs9mFINin2YTZh9mK2YPZhNmK2Iwg2KPZiCDYp9mE2LPYrdioINio2KfZhNmF2KfZiNizINmE2YTYqtit2LHZitmDCiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3JnLWNoYXJ0LWNvbnRhaW5lciIgaWQ9Im9yZ0NoYXJ0Q29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3JnLWNoYXJ0IiBpZD0ib3JnQ2hhcnQiIHN0eWxlPSJ0cmFuc2Zvcm06IHNjYWxlKDEpOyIgZGF0YS1yZXBvcnQtZGF0ZT0iJHtmb3JtYXREYXRlVGltZShuZXcgRGF0ZSgpKX0iPgogICAgICAgICAgICAgICAgYDsKCiAgICAgICAgICAgICAgICAvLyDYp9mE2YXYs9iq2YjZiSAwOiDYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2KkgKNil2YYg2YjYrNiv2KopCiAgICAgICAgICAgICAgICAvLyDYrNmF2Lkg2KzZhdmK2Lkg2KfZhNij2YLYs9in2YUg2KfZhNmF2LHYqtio2LfYqSDYqNin2YTYpdiv2KfYsdipINin2YTYudin2YXYqSAo2LPZiNin2KEg2YXZhiDZhdi02LHZiNi5INij2YggJ2dlbmVyYWxfbWFuYWdlbWVudCcpCiAgICAgICAgICAgICAgICBsZXQgZ2VuZXJhbE1hbmFnZW1lbnREZXB0cyA9IFtdOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZ2VuZXJhbE1hbmFnZW1lbnRQcm9qZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDZh9mG2KfZgyDZhdi02LHZiNi5INmF2K3Yr9ivINmD2KXYr9in2LHYqSDYudin2YXYqQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlcHRzRnJvbVByb2plY3QgPSBkZXBhcnRtZW50c0J5UHJvamVjdFtnZW5lcmFsTWFuYWdlbWVudFByb2plY3QuaWRdIHx8IFtdOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlcHRzRnJvbUdlbmVyYWwgPSBkZXBhcnRtZW50c0J5UHJvamVjdFsnZ2VuZXJhbF9tYW5hZ2VtZW50J10gfHwgW107CiAgICAgICAgICAgICAgICAgICAgLy8g2K/ZhdisINin2YTYo9mC2LPYp9mFINmF2Lkg2KrYrNmG2Kgg2KfZhNiq2YPYsdin2LEKICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxEZXB0SWRzID0gbmV3IFNldCgpOwogICAgICAgICAgICAgICAgICAgIGdlbmVyYWxNYW5hZ2VtZW50RGVwdHMgPSBbLi4uZGVwdHNGcm9tUHJvamVjdCwgLi4uZGVwdHNGcm9tR2VuZXJhbF0uZmlsdGVyKGRlcHQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsRGVwdElkcy5oYXMoZGVwdC5pZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXB0SWRzLmFkZChkZXB0LmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vINil2LDYpyDZhNmFINmK2YPZhiDZh9mG2KfZgyDZhdi02LHZiNi5INil2K/Yp9ix2Kkg2LnYp9mF2KnYjCDZhtiz2KrYrtiv2YUg2KfZhNij2YLYs9in2YUg2KfZhNmF2LHYqtio2LfYqSDYqNmAICdnZW5lcmFsX21hbmFnZW1lbnQnCiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhbE1hbmFnZW1lbnREZXB0cyA9IGRlcGFydG1lbnRzQnlQcm9qZWN0WydnZW5lcmFsX21hbmFnZW1lbnQnXSB8fCBbXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2KfZhNmF2YjYuNmB2YrZhiDZgdmKINin2YTYpdiv2KfYsdipINin2YTYudin2YXYqQogICAgICAgICAgICAgICAgY29uc3QgZ2VuZXJhbE1hbmFnZW1lbnRFbXBsb3llZXMgPSBnZW5lcmFsTWFuYWdlbWVudERlcHRzLnJlZHVjZSgoYWNjLCBkZXB0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwdEVtcGxveWVlcyA9IGVtcGxveWVlc0J5RGVwYXJ0bWVudFtkZXB0LmlkXSB8fCBbXTsKICAgICAgICAgICAgICAgICAgICAvLyDYqtis2YbYqCDYqtmD2LHYp9ixINin2YTZhdmI2LjZgdmK2YYKICAgICAgICAgICAgICAgICAgICBkZXB0RW1wbG95ZWVzLmZvckVhY2goZW1wID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhY2MuZmluZChlID0+IGUuaWQgPT09IGVtcC5pZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKGVtcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgICAgICAgICAgfSwgW10pOwoKICAgICAgICAgICAgICAgIC8vINi52LHYtiDYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2Kkg2YHZgti3INil2LDYpyDZg9in2YYg2YfZhtin2YMg2KPZgtiz2KfZhSDYo9mIINmF2LTYsdmI2Lkg2KXYr9in2LHYqSDYudin2YXYqQogICAgICAgICAgICAgICAgaWYgKGdlbmVyYWxNYW5hZ2VtZW50UHJvamVjdCB8fCBnZW5lcmFsTWFuYWdlbWVudERlcHRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBnbVRpdGxlID0gZ2VuZXJhbE1hbmFnZW1lbnRQcm9qZWN0IAogICAgICAgICAgICAgICAgICAgICAgICA/IChnZW5lcmFsTWFuYWdlbWVudFByb2plY3QubmFtZUVuID8gYCR7Z2VuZXJhbE1hbmFnZW1lbnRQcm9qZWN0Lm5hbWV9ICgke2dlbmVyYWxNYW5hZ2VtZW50UHJvamVjdC5uYW1lRW59KWAgOiBnZW5lcmFsTWFuYWdlbWVudFByb2plY3QubmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgOiAn2KfZhNil2K/Yp9ix2Kkg2KfZhNi52KfZhdipJzsKICAgICAgICAgICAgICAgICAgICBjb25zdCBnbVN1YnRpdGxlID0gZ2VuZXJhbE1hbmFnZW1lbnRQcm9qZWN0IAogICAgICAgICAgICAgICAgICAgICAgICA/IChnZW5lcmFsTWFuYWdlbWVudFByb2plY3QuY29kZSA/IGDYsdmF2LI6ICR7Z2VuZXJhbE1hbmFnZW1lbnRQcm9qZWN0LmNvZGV9YCA6ICfZhdi02LHZiNi5INin2YTYpdiv2KfYsdipINin2YTYudin2YXYqScpCiAgICAgICAgICAgICAgICAgICAgICAgIDogJ9in2YTYo9mC2LPYp9mFINin2YTYpdiv2KfYsdmK2Kkg2KfZhNi52KfZhdipJzsKICAgICAgICAgICAgICAgICAgICBjb25zdCBnbUNvdW50ID0gYCR7Z2VuZXJhbE1hbmFnZW1lbnREZXB0cy5sZW5ndGh9INmC2LPZhSDigKIgJHtnZW5lcmFsTWFuYWdlbWVudEVtcGxveWVlcy5sZW5ndGh9INmF2YjYuNmBYDsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyDZhdi52YTZiNmF2KfYqiDYp9mE2YXYr9mK2LHZitmGCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFuYWdlcnMgPSBnZW5lcmFsTWFuYWdlbWVudFByb2plY3QgPyB7CiAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYWxNYW5hZ2VyOiBnZW5lcmFsTWFuYWdlbWVudFByb2plY3QuZ2VuZXJhbE1hbmFnZXIgfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0aXZlTWFuYWdlcjogZ2VuZXJhbE1hbmFnZW1lbnRQcm9qZWN0LmV4ZWN1dGl2ZU1hbmFnZXIgfHwgbnVsbAogICAgICAgICAgICAgICAgICAgIH0gOiBudWxsOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vINil2YbYtNin2KEg2KfZhNij2YLYs9in2YUg2YHZiiDYp9mE2KXYr9in2LHYqSDYp9mE2LnYp9mF2KkKICAgICAgICAgICAgICAgICAgICBsZXQgZ21EZXBhcnRtZW50c0h0bWwgPSAnJzsKICAgICAgICAgICAgICAgICAgICBpZiAoZ2VuZXJhbE1hbmFnZW1lbnREZXB0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGdtRGVwYXJ0bWVudHNIdG1sID0gJzxkaXYgY2xhc3M9Im9yZy1jaGlsZHJlbi13cmFwcGVyIGxldmVsLTMtd3JhcHBlciI+JzsKICAgICAgICAgICAgICAgICAgICAgICAgZ21EZXBhcnRtZW50c0h0bWwgKz0gZ2VuZXJhbE1hbmFnZW1lbnREZXB0cy5tYXAoZGVwdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXB0RW1wbG95ZWVzID0gZW1wbG95ZWVzQnlEZXBhcnRtZW50W2RlcHQuaWRdIHx8IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwdFRpdGxlID0gZGVwdC5uYW1lRW4gPyBgJHtkZXB0Lm5hbWV9ICgke2RlcHQubmFtZUVufSlgIDogZGVwdC5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU9yZ05vZGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdFRpdGxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHQuZGVzY3JpcHRpb24gfHwgJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZGVwdEVtcGxveWVlcy5sZW5ndGh9INmF2YjYuNmBYCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVtcGxveWVlTGlzdChkZXB0RW1wbG95ZWVzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkuam9pbignJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGdtRGVwYXJ0bWVudHNIdG1sICs9ICc8L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9yZy1sZXZlbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2NyZWF0ZU9yZ05vZGUoZ21UaXRsZSwgZ21TdWJ0aXRsZSwgZ21Db3VudCwgMCwgZ21EZXBhcnRtZW50c0h0bWwsICcnLCBtYW5hZ2Vycyl9CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g2KfZhNmF2LPYqtmI2YkgMTog2KfZhNmF2YbYp9i32YIKICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lvbnNMaXN0ID0gT2JqZWN0LnZhbHVlcyhzdHJ1Y3R1cmVCeVJlZ2lvbik7CiAgICAgICAgICAgICAgICBpZiAocmVnaW9uc0xpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIGxldCByZWdpb25zSHRtbCA9ICc8ZGl2IGNsYXNzPSJvcmctY2hpbGRyZW4td3JhcHBlciBsZXZlbC0xLXdyYXBwZXIiPic7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcmVnaW9uc0xpc3QuZm9yRWFjaCgoeyByZWdpb24sIHByb2plY3RzIH0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2K3Ys9in2Kgg2KXYrNmF2KfZhNmKINin2YTYo9mC2LPYp9mFINmI2KfZhNmF2YjYuNmB2YrZhiDZgdmKINin2YTZhdmG2LfZgtipCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lvblRvdGFsRGVwdHMgPSBwcm9qZWN0cy5yZWR1Y2UoKHN1bSwgcCkgPT4gc3VtICsgKHAuZGVwYXJ0bWVudHMgPyBwLmRlcGFydG1lbnRzLmxlbmd0aCA6IDApLCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaW9uVG90YWxFbXBsb3llZXMgPSBwcm9qZWN0cy5yZWR1Y2UoKHN1bSwgcCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwLmRlcGFydG1lbnRzKSByZXR1cm4gc3VtOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1bSArIHAuZGVwYXJ0bWVudHMucmVkdWNlKChzLCBkKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wQ291bnQgPSBkLmVtcGxveWVlcyA/IGQuZW1wbG95ZWVzLmxlbmd0aCA6IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMgKyBlbXBDb3VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vINin2YTZhdiz2KrZiNmJIDI6INin2YTZhdi02KfYsdmK2Lkg2YHZiiDYp9mE2YXZhti32YLYqQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvamVjdHNIdG1sID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0h0bWwgPSAnPGRpdiBjbGFzcz0ib3JnLWNoaWxkcmVuLXdyYXBwZXIgbGV2ZWwtMi13cmFwcGVyIj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdHNIdG1sICs9IHByb2plY3RzLm1hcChwcm9qZWN0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2KrYo9mD2K8g2YXZhiDZiNis2YjYryDYp9mE2KPZgtiz2KfZhQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3REZXBhcnRtZW50cyA9IHByb2plY3QuZGVwYXJ0bWVudHMgfHwgW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdFRvdGFsRW1wbG95ZWVzID0gcHJvamVjdERlcGFydG1lbnRzLnJlZHVjZSgoc3VtLCBkZXB0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtcENvdW50ID0gZGVwdC5lbXBsb3llZXMgPyBkZXB0LmVtcGxveWVlcy5sZW5ndGggOiAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VtICsgZW1wQ291bnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KfZhNmF2LPYqtmI2YkgMzog2KfZhNij2YLYs9in2YUg2YHZiiDYp9mE2YXYtNix2YjYuQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZXBhcnRtZW50c0h0bWwgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvamVjdERlcGFydG1lbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudHNIdG1sID0gJzxkaXYgY2xhc3M9Im9yZy1jaGlsZHJlbi13cmFwcGVyIGxldmVsLTMtd3JhcHBlciI+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudHNIdG1sICs9IHByb2plY3REZXBhcnRtZW50cy5tYXAoZGVwdCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDYp9mE2KrYo9mD2K8g2YXZhiDZiNis2YjYryDYp9mE2YXZiNi42YHZitmGCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXB0RW1wbG95ZWVzID0gZGVwdC5lbXBsb3llZXMgfHwgW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXB0VGl0bGUgPSBkZXB0Lm5hbWVFbiA/IGAke2RlcHQubmFtZX0gKCR7ZGVwdC5uYW1lRW59KWAgOiBkZXB0Lm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlT3JnTm9kZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0VGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdC5kZXNjcmlwdGlvbiB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHtkZXB0RW1wbG95ZWVzLmxlbmd0aH0g2YXZiNi42YFgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRW1wbG95ZWVMaXN0KGRlcHRFbXBsb3llZXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudHNIdG1sICs9ICc8L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdFRpdGxlID0gcHJvamVjdC5uYW1lRW4gPyBgJHtwcm9qZWN0Lm5hbWV9ICgke3Byb2plY3QubmFtZUVufSlgIDogcHJvamVjdC5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVPcmdOb2RlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0VGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3QuY29kZSB8fCBnZXRTdGF0dXNOYW1lKHByb2plY3Quc3RhdHVzKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cHJvamVjdERlcGFydG1lbnRzLmxlbmd0aH0g2YLYs9mFIOKAoiAke3Byb2plY3RUb3RhbEVtcGxveWVlc30g2YXZiNi42YFgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50c0h0bWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuam9pbignJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0h0bWwgKz0gJzwvZGl2Pic7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lvblRpdGxlID0gcmVnaW9uLm5hbWVFbiA/IGAke3JlZ2lvbi5uYW1lfSAoJHtyZWdpb24ubmFtZUVufSlgIDogcmVnaW9uLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbnNIdG1sICs9IGNyZWF0ZU9yZ05vZGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb25UaXRsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbi5kZXNjcmlwdGlvbiB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3Byb2plY3RzLmxlbmd0aH0g2YXYtNix2YjYuSDigKIgJHtyZWdpb25Ub3RhbERlcHRzfSDZgtiz2YUg4oCiICR7cmVnaW9uVG90YWxFbXBsb3llZXN9INmF2YjYuNmBYCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0c0h0bWwKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICByZWdpb25zSHRtbCArPSAnPC9kaXY+JzsKCiAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDZh9mG2KfZgyDYpdiv2KfYsdipINi52KfZhdip2Iwg2YbYttmK2YEg2KfZhNmF2YbYp9i32YIg2YPYo9io2YbYp9ihINmE2YfYpwogICAgICAgICAgICAgICAgICAgIGlmIChnZW5lcmFsTWFuYWdlbWVudFByb2plY3QgfHwgZ2VuZXJhbE1hbmFnZW1lbnREZXB0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3JnLWxldmVsIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3JlZ2lvbnNIdG1sfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g2KXYsNinINmE2YUg2KrZg9mGINmH2YbYp9mDINil2K/Yp9ix2Kkg2LnYp9mF2KnYjCDZhti52LHYtiDYp9mE2YXZhtin2LfZgiDZg9mF2LPYqtmI2Ykg2LHYptmK2LPZigogICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9yZy1sZXZlbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtyZWdpb25zSHRtbH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDYp9mE2YXYtNin2LHZiti5INio2K/ZiNmGINmF2YbYt9mC2KkgKNin2LPYqtio2LnYp9ivINmF2LTYsdmI2Lkg2KfZhNil2K/Yp9ix2Kkg2KfZhNi52KfZhdipKQogICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdHNXaXRob3V0UmVnaW9uID0gcHJvamVjdHNEYXRhLmZpbHRlcihwID0+ICFwLnJlZ2lvbklkICYmIHAuaXNHZW5lcmFsTWFuYWdlbWVudCAhPT0gdHJ1ZSk7CiAgICAgICAgICAgICAgICBpZiAocHJvamVjdHNXaXRob3V0UmVnaW9uLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBsZXQgb3JwaGFuUHJvamVjdHNIdG1sID0gJzxkaXYgY2xhc3M9Im9yZy1jaGlsZHJlbi13cmFwcGVyIGxldmVsLTItd3JhcHBlciI+JzsKICAgICAgICAgICAgICAgICAgICBvcnBoYW5Qcm9qZWN0c0h0bWwgKz0gcHJvamVjdHNXaXRob3V0UmVnaW9uLm1hcChwcm9qZWN0ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvamVjdERlcHRzID0gZGVwYXJ0bWVudHNCeVByb2plY3RbcHJvamVjdC5pZF0gfHwgW107CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2plY3RUb3RhbEVtcGxveWVlcyA9IHByb2plY3REZXB0cy5yZWR1Y2UoKHN1bSwgZGVwdCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1bSArIChlbXBsb3llZXNCeURlcGFydG1lbnRbZGVwdC5pZF0/Lmxlbmd0aCB8fCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7CgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVwYXJ0bWVudHNIdG1sID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qZWN0RGVwdHMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudHNIdG1sID0gJzxkaXYgY2xhc3M9Im9yZy1jaGlsZHJlbi13cmFwcGVyIGxldmVsLTMtd3JhcHBlciI+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRzSHRtbCArPSBwcm9qZWN0RGVwdHMubWFwKGRlcHQgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlcHRFbXBsb3llZXMgPSBlbXBsb3llZXNCeURlcGFydG1lbnRbZGVwdC5pZF0gfHwgW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU9yZ05vZGUoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHQubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdC5kZXNjcmlwdGlvbiB8fCAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZGVwdEVtcGxveWVlcy5sZW5ndGh9INmF2YjYuNmBYCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRW1wbG95ZWVMaXN0KGRlcHRFbXBsb3llZXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oJycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudHNIdG1sICs9ICc8L2Rpdj4nOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0VGl0bGUgPSBwcm9qZWN0Lm5hbWVFbiA/IGAke3Byb2plY3QubmFtZX0gKCR7cHJvamVjdC5uYW1lRW59KWAgOiBwcm9qZWN0Lm5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVPcmdOb2RlKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdFRpdGxlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdC5jb2RlIHx8IGdldFN0YXR1c05hbWUocHJvamVjdC5zdGF0dXMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cHJvamVjdERlcHRzLmxlbmd0aH0g2YLYs9mFIOKAoiAke3Byb2plY3RUb3RhbEVtcGxveWVlc30g2YXZiNi42YFgLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnRzSHRtbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcnBoYW4tcHJvamVjdCcKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgICAgICAgICAgICAgICBvcnBoYW5Qcm9qZWN0c0h0bWwgKz0gJzwvZGl2Pic7CgogICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctbGV2ZWwiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3JnLW5vZGUgbGV2ZWwtMSIgc3R5bGU9ImJvcmRlci1jb2xvcjogI2RjMzU0NTsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2RjMzU0NSAwJSwgI2M4MjMzMyAxMDAlKTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9yZy1ub2RlLXRpdGxlIj7imqDvuI8g2YXYtNin2LHZiti5INio2K/ZiNmGINmF2YbYt9mC2Kk8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcmctbm9kZS1jb3VudCI+JHtwcm9qZWN0c1dpdGhvdXRSZWdpb24ubGVuZ3RofSDZhdi02LHZiNi5PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtvcnBoYW5Qcm9qZWN0c0h0bWx9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBodG1sICs9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogNDBweDsgcGFkZGluZzogMjBweDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZjlmYSAwJSwgI2U5ZWNlZiAxMDAlKTsgYm9yZGVyLXJhZGl1czogMTJweDsgYm9yZGVyLXRvcDogM3B4IHNvbGlkICM2NjdlZWE7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyNTBweCwgMWZyKSk7IGdhcDogMjBweDsgbWFyZ2luLWJvdHRvbTogMTVweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjVlbTsgbWFyZ2luLWJvdHRvbTogNXB4OyI+8J+ThTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiAjMzMzOyBtYXJnaW4tYm90dG9tOiA1cHg7Ij7Yqtin2LHZitiuINin2YTYqtmC2LHZitixPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6ICM2NjY7IGZvbnQtc2l6ZTogMC45NWVtOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0RGF0ZShuZXcgRGF0ZSgpLCB7IHdlZWtkYXk6ICdsb25nJywgeWVhcjogJ251bWVyaWMnLCBtb250aDogJ2xvbmcnLCBkYXk6ICdudW1lcmljJyB9KX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjogIzk5OTsgZm9udC1zaXplOiAwLjg1ZW07IG1hcmdpbi10b3A6IDNweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjVlbTsgbWFyZ2luLWJvdHRvbTogNXB4OyI+8J+TijwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiAjMzMzOyBtYXJnaW4tYm90dG9tOiA1cHg7Ij7ZhdmE2K7YtSDYp9mE2YfZitmD2YQ8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjogIzY2NjsgZm9udC1zaXplOiAwLjk1ZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtyZWdpb25zRGF0YS5sZW5ndGh9INmF2YbYt9mC2Kkg4oCiICR7cHJvamVjdHNEYXRhLmxlbmd0aH0g2YXYtNix2YjYuSDigKIgJHt0b3RhbERlcGFydG1lbnRzfSDZgtiz2YUg4oCiICR7dG90YWxFbXBsb3llZXNJblN0cnVjdHVyZX0g2YXZiNi42YEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOiAxLjVlbTsgbWFyZ2luLWJvdHRvbTogNXB4OyI+8J+PojwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiAjMzMzOyBtYXJnaW4tYm90dG9tOiA1cHg7Ij7Yp9mE2YXYt9mI2LE8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjogIzY2NjsgZm9udC1zaXplOiAwLjk1ZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUm9zZW1hcnkg2YTZhNit2YTZiNmEINin2YTYqNix2YXYrNmKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZy10b3A6IDE1cHg7IGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGVlMmU2OyBjb2xvcjogIzk5OTsgZm9udC1zaXplOiAwLjg1ZW07Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIMKpIDIwMjQgUm9zZW1hcnkgLSDYrNmF2YrYuSDYp9mE2K3ZgtmI2YIg2YXYrdmB2YjYuNipIHwg2YfYsNinINin2YTYqtmC2LHZitixINiq2YUg2KXZhti02KfYpNmHINiq2YTZgtin2KbZitin2Ysg2YXZhiDZhti42KfZhSDYpdiv2KfYsdipINin2YTZhdmI2KfYsdivINin2YTYqNi02LHZitipCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgYDsKCiAgICAgICAgICAgICAgICByZXBvcnRCb2R5LmlubmVySFRNTCA9IGh0bWw7CiAgICAgICAgICAgICAgICBjdXJyZW50UmVwb3J0RGF0YSA9IHsgdHlwZTogJ2NvbXBhbnlTdHJ1Y3R1cmUnLCBkYXRhOiBzdHJ1Y3R1cmVCeVJlZ2lvbiB9OwoKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2KrZgtix2YrYsSDZh9mK2YPZhCDYp9mE2LTYsdmD2Kk6JywgZXJyb3IpOwogICAgICAgICAgICAgICAgYWxlcnQoJ9iu2LfYoyDZgdmKINiq2YjZhNmK2K8g2KfZhNiq2YLYsdmK2LE6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2K/ZiNin2YQg2KfZhNiq2K3Zg9mFINmB2Yog2KfZhNix2LPZhSDYp9mE2YfZitmD2YTZigogICAgICAgIGxldCBvcmdDaGFydFpvb20gPSAxOwoKICAgICAgICBmdW5jdGlvbiBvcmdDaGFydFpvb21JbigpIHsKICAgICAgICAgICAgb3JnQ2hhcnRab29tID0gTWF0aC5taW4ob3JnQ2hhcnRab29tICsgMC4xLCAyKTsKICAgICAgICAgICAgdXBkYXRlT3JnQ2hhcnRab29tKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvcmdDaGFydFpvb21PdXQoKSB7CiAgICAgICAgICAgIG9yZ0NoYXJ0Wm9vbSA9IE1hdGgubWF4KG9yZ0NoYXJ0Wm9vbSAtIDAuMSwgMC41KTsKICAgICAgICAgICAgdXBkYXRlT3JnQ2hhcnRab29tKCk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvcmdDaGFydFJlc2V0KCkgewogICAgICAgICAgICBvcmdDaGFydFpvb20gPSAxOwogICAgICAgICAgICB1cGRhdGVPcmdDaGFydFpvb20oKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHVwZGF0ZU9yZ0NoYXJ0Wm9vbSgpIHsKICAgICAgICAgICAgY29uc3Qgb3JnQ2hhcnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JnQ2hhcnQnKTsKICAgICAgICAgICAgY29uc3Qgem9vbUxldmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yZ1pvb21MZXZlbCcpOwogICAgICAgICAgICBpZiAob3JnQ2hhcnQpIHsKICAgICAgICAgICAgICAgIG9yZ0NoYXJ0LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke29yZ0NoYXJ0Wm9vbX0pYDsKICAgICAgICAgICAgICAgIG9yZ0NoYXJ0LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICd0b3AgY2VudGVyJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoem9vbUxldmVsKSB7CiAgICAgICAgICAgICAgICB6b29tTGV2ZWwudGV4dENvbnRlbnQgPSBNYXRoLnJvdW5kKG9yZ0NoYXJ0Wm9vbSAqIDEwMCkgKyAnJSc7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINiq2LXYr9mK2LEg2KfZhNix2LPZhSDYp9mE2YfZitmD2YTZiiDZg9i12YjYsdipCiAgICAgICAgYXN5bmMgZnVuY3Rpb24gZXhwb3J0T3JnQ2hhcnRBc0ltYWdlKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3Qgb3JnQ2hhcnRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JnQ2hhcnRDb250YWluZXInKTsKICAgICAgICAgICAgICAgIGlmICghb3JnQ2hhcnRDb250YWluZXIpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgn2KfZhNix2LPZhSDYp9mE2YfZitmD2YTZiiDYutmK2LEg2YXZiNis2YjYrycpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDYp9iz2KrYrtiv2KfZhSBodG1sMmNhbnZhcyDYpdiw2Kcg2YPYp9mGINmF2KrZiNmB2LHYp9mL2Iwg2KPZiCDYudix2LYg2LHYs9in2YTYqQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBodG1sMmNhbnZhcyA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitmD2YYgaHRtbDJjYW52YXMg2YXYqtmI2YHYsdin2YvYjCDZhtiz2KrYrtiv2YUgd2luZG93LnByaW50INmD2KjYr9mK2YQKICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybSgn2YTYqti12K/ZitixINmD2LXZiNix2KnYjCDZitix2KzZiSDYp9iz2KrYrtiv2KfZhSDZhdmK2LLYqSDYp9mE2LfYqNin2LnYqSDZiNit2YHYuNmH2Kcg2YPZgCBQREYuXG5cbtmH2YQg2KrYsdmK2K8g2YHYqtitINmG2KfZgdiw2Kkg2KfZhNi32KjYp9i52KnYnycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wcmludCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g2KfYs9iq2K7Yr9in2YUgaHRtbDJjYW52YXMg2YTYp9mE2KrZgtin2Lcg2KfZhNi12YjYsdipCiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXMgPSBhd2FpdCBodG1sMmNhbnZhcyhvcmdDaGFydENvbnRhaW5lciwgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmNWY3ZmEnLAogICAgICAgICAgICAgICAgICAgIHNjYWxlOiAyLAogICAgICAgICAgICAgICAgICAgIGxvZ2dpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHVzZUNPUlM6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vINiq2K3ZiNmK2YQgQ2FudmFzINil2YTZiSDYtdmI2LHYqQogICAgICAgICAgICAgICAgY29uc3QgaW1nRGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyDYpdmG2LTYp9ihINix2KfYqNi3INmE2YTYqtit2YXZitmECiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICAgICAgbGluay5kb3dubG9hZCA9IGDZh9mK2YPZhF/Yp9mE2LTYsdmD2KlfJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX0ucG5nYDsKICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IGltZ0RhdGE7CiAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGFsZXJ0KCfinIUg2KrZhSDYqti12K/ZitixINin2YTYsdiz2YUg2KfZhNmH2YrZg9mE2Yog2KjZhtis2KfYrSEnKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ9iu2LfYoyDZgdmKINiq2LXYr9mK2LEg2KfZhNi12YjYsdipOicsIGVycm9yKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCfimqDvuI8g2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2LXYr9mK2LEg2KfZhNi12YjYsdipLiDZitix2KzZiSDYp9iz2KrYrtiv2KfZhSDZhdmK2LLYqSDYp9mE2LfYqNin2LnYqSDYqNiv2YTYp9mLINmF2YYg2LDZhNmDLicpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyDYpdi22KfZgdipINiv2LnZhSDYp9mE2LPYrdioINmE2YTYsdiz2YUg2KfZhNmH2YrZg9mE2YoKICAgICAgICBsZXQgaXNEcmFnZ2luZyA9IGZhbHNlOwogICAgICAgIGxldCBzdGFydFgsIHN0YXJ0WSwgc2Nyb2xsTGVmdCwgc2Nyb2xsVG9wOwoKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnN0IG9yZ0NoYXJ0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yZ0NoYXJ0Q29udGFpbmVyJyk7CiAgICAgICAgICAgIGlmIChvcmdDaGFydENvbnRhaW5lcikgewogICAgICAgICAgICAgICAgb3JnQ2hhcnRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBpc0RyYWdnaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBzdGFydFggPSBlLnBhZ2VYIC0gb3JnQ2hhcnRDb250YWluZXIub2Zmc2V0TGVmdDsKICAgICAgICAgICAgICAgICAgICBzdGFydFkgPSBlLnBhZ2VZIC0gb3JnQ2hhcnRDb250YWluZXIub2Zmc2V0VG9wOwogICAgICAgICAgICAgICAgICAgIHNjcm9sbExlZnQgPSBvcmdDaGFydENvbnRhaW5lci5zY3JvbGxMZWZ0OwogICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcCA9IG9yZ0NoYXJ0Q29udGFpbmVyLnNjcm9sbFRvcDsKICAgICAgICAgICAgICAgICAgICBvcmdDaGFydENvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSAnZ3JhYmJpbmcnOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgb3JnQ2hhcnRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgb3JnQ2hhcnRDb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ2dyYWInOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgb3JnQ2hhcnRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBpc0RyYWdnaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgb3JnQ2hhcnRDb250YWluZXIuc3R5bGUuY3Vyc29yID0gJ2dyYWInOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgb3JnQ2hhcnRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRHJhZ2dpbmcpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IGUucGFnZVggLSBvcmdDaGFydENvbnRhaW5lci5vZmZzZXRMZWZ0OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBlLnBhZ2VZIC0gb3JnQ2hhcnRDb250YWluZXIub2Zmc2V0VG9wOwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhbGtYID0gKHggLSBzdGFydFgpICogMjsKICAgICAgICAgICAgICAgICAgICBjb25zdCB3YWxrWSA9ICh5IC0gc3RhcnRZKSAqIDI7CiAgICAgICAgICAgICAgICAgICAgb3JnQ2hhcnRDb250YWluZXIuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQgLSB3YWxrWDsKICAgICAgICAgICAgICAgICAgICBvcmdDaGFydENvbnRhaW5lci5zY3JvbGxUb3AgPSBzY3JvbGxUb3AgLSB3YWxrWTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vINil2LbYp9mB2Kkg2K/YudmFINin2YTYqtmD2KjZitixINio2KfZhNi52KzZhNipCiAgICAgICAgICAgICAgICBvcmdDaGFydENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IGUuZGVsdGFZID4gMCA/IC0wLjEgOiAwLjE7CiAgICAgICAgICAgICAgICAgICAgICAgIG9yZ0NoYXJ0Wm9vbSA9IE1hdGgubWF4KDAuNSwgTWF0aC5taW4oMiwgb3JnQ2hhcnRab29tICsgZGVsdGEpKTsKICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlT3JnQ2hhcnRab29tKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgPC9zY3JpcHQ+CgogICAgPCEtLSDZhtin2YHYsNipINiq2YLYsdmK2LEg2KfZhNmF2YjYuNmB2YrZhiAtLT4KICAgIDxkaXYgaWQ9ImVtcGxveWVlUmVwb3J0TW9kYWwiIGNsYXNzPSJtb2RhbCI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogNzAwcHg7Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDxoMz7YqtmC2LHZitixINin2YTZhdmI2LjZgdmK2YYgLSDYrtmK2KfYsdin2Kog2KfZhNiq2LXZgdmK2Kk8L2gzPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJoaWRlRW1wbG95ZWVSZXBvcnRNb2RhbCgpIj4mdGltZXM7PC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgICAgICA8Zm9ybSBvbnN1Ym1pdD0iZ2VuZXJhdGVFbXBsb3llZVJlcG9ydFdpdGhGaWx0ZXJzKCk7IHJldHVybiBmYWxzZTsiPgogICAgICAgICAgICAgICAgICAgIDwhLS0g2YHYqtix2Kkg2KfZhNiq2KfYsdmK2K4gLS0+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2U3ZjNmZjsgcGFkZGluZzogMTVweDsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyBib3JkZXItcmlnaHQ6IDRweCBzb2xpZCAjNjY3ZWVhOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT0iY29sb3I6ICM2NjdlZWE7IG1hcmdpbi1ib3R0b206IDE1cHg7Ij7wn5OFINmB2KrYsdipINin2YTYqtin2LHZitiuPC9oND4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIHN0eWxlPSJtYXJnaW46IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2YXZhiDYqtin2LHZitiuOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJyZXBvcnRTdGFydERhdGUiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luOiAwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtil2YTZiSDYqtin2LHZitiuOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJyZXBvcnRFbmREYXRlIiBjbGFzcz0iZm9ybS1jb250cm9sIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9ImNvbG9yOiAjNjY2OyBmb250LXNpemU6IDEycHg7IG1hcmdpbi10b3A6IDEwcHg7IG1hcmdpbi1ib3R0b206IDA7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgINmK2KrZhSDYp9mE2KrYtdmB2YrYqSDYrdiz2Kgg2KrYp9ix2YrYriDYp9mE2KrZiNi42YrZgQogICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgIDwhLS0g2K7Zitin2LHYp9iqINin2YTYqti12YHZitipIC0tPgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImJhY2tncm91bmQ6ICNmOGY5ZmE7IHBhZGRpbmc6IDE1cHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luLWJvdHRvbTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9ImNvbG9yOiAjNjY3ZWVhOyBtYXJnaW4tYm90dG9tOiAxNXB4OyI+8J+UjSDYrtmK2KfYsdin2Kog2KfZhNiq2LXZgdmK2Kk8L2g0PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luOiAwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTYrdin2YTYqTo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9InJlcG9ydFN0YXR1c0ZpbHRlciIgY2xhc3M9ImZvcm0tY29udHJvbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KzZhdmK2Lkg2KfZhNit2KfZhNin2Ko8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iYWN0aXZlIj7Zhti02Lc8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iaW5hY3RpdmUiPti62YrYsSDZhti02Lc8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgc3R5bGU9Im1hcmdpbjogMDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9mE2YXYs9mF2Ykg2KfZhNmI2LjZitmB2Yo6PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InJlcG9ydFBvc2l0aW9uRmlsdGVyIiBwbGFjZWhvbGRlcj0i2KfYqNit2Ksg2KjYp9mE2YXYs9mF2Ykg2KfZhNmI2LjZitmB2YouLi4iIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luOiAwOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2YTZhdi02LHZiNi5OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0icmVwb3J0UHJvamVjdEZpbHRlciIgY2xhc3M9ImZvcm0tY29udHJvbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KzZhdmK2Lkg2KfZhNmF2LTYp9ix2YrYuTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBnYXA6IDEwcHg7IGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7IG1hcmdpbi10b3A6IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iaGlkZUVtcGxveWVlUmVwb3J0TW9kYWwoKSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+8J+TiiDYqtmI2YTZitivINin2YTYqtmC2LHZitixPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSDZhtin2YHYsNipINiq2YLYsdmK2LEg2KXYrNin2LLYp9iqINin2YTZhdmI2LjZgSAtLT4KICAgIDxkaXYgaWQ9ImVtcGxveWVlTGVhdmVIaXN0b3J5UmVwb3J0TW9kYWwiIGNsYXNzPSJtb2RhbCI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogNzAwcHg7Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDxoMz7YqtmC2LHZitixINil2KzYp9iy2KfYqiDYp9mE2YXZiNi42YEgLSDYrdix2YPYqSDYqtin2LHZitiu2YrYqTwvaDM+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9kYWwtY2xvc2UiIG9uY2xpY2s9ImhpZGVFbXBsb3llZUxlYXZlSGlzdG9yeVJlcG9ydE1vZGFsKCkiPiZ0aW1lczs8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgIDxmb3JtIG9uc3VibWl0PSJnZW5lcmF0ZUVtcGxveWVlTGVhdmVIaXN0b3J5UmVwb3J0KCk7IHJldHVybiBmYWxzZTsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfYrtiq2LEg2KfZhNmF2YjYuNmBOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iZW1wbG95ZWVMZWF2ZVJlcG9ydEVtcGxveWVlSWQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj4tLSDYp9iu2KrYsSDYp9mE2YXZiNi42YEgLS08L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTogZ3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyOyBnYXA6IDE1cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2YXZhiDYqtin2LHZitiuOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZGF0ZSIgaWQ9ImVtcGxveWVlTGVhdmVSZXBvcnRTdGFydERhdGUiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KXZhNmJINiq2KfYsdmK2K46PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJkYXRlIiBpZD0iZW1wbG95ZWVMZWF2ZVJlcG9ydEVuZERhdGUiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiPtiq2YjZhNmK2K8g2KfZhNiq2YLYsdmK2LE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSIgb25jbGljaz0iaGlkZUVtcGxveWVlTGVhdmVIaXN0b3J5UmVwb3J0TW9kYWwoKSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0g2YbYp9mB2LDYqSDYqtmC2LHZitixINin2YTZhdi02LHZiNi5INmI2KfZhNmF2YjYuNmB2YrZhiAtLT4KICAgIDxkaXYgaWQ9InByb2plY3RFbXBsb3llZXNSZXBvcnRNb2RhbCIgY2xhc3M9Im1vZGFsIj4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiA3MDBweDsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGgzPtiq2YLYsdmK2LEg2KfZhNmF2LTYsdmI2LkgLSDYp9mE2YXZiNi42YHZitmGPC9oMz4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtb2RhbC1jbG9zZSIgb25jbGljaz0iaGlkZVByb2plY3RFbXBsb3llZXNSZXBvcnRNb2RhbCgpIj4mdGltZXM7PC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgICAgICA8Zm9ybSBvbnN1Ym1pdD0iZ2VuZXJhdGVQcm9qZWN0RW1wbG95ZWVzUmVwb3J0KCk7IHJldHVybiBmYWxzZTsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfYrtiq2LEg2KfZhNmF2LTYsdmI2Lk6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJwcm9qZWN0RW1wbG95ZWVzUmVwb3J0UHJvamVjdElkIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+LS0g2KfYrtiq2LEg2KfZhNmF2LTYsdmI2LkgLS08L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InByb2plY3RFbXBsb3llZXNSZXBvcnRJbmNsdWRlSGlzdG9yeSIgY2hlY2tlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgINiq2LbZhdmK2YYg2KfZhNmF2YjYuNmB2YrZhiDYp9mE2LPYp9io2YLZitmGICjYp9mE2LDZitmGINin2YbYqtmH2Ykg2LnZhdmE2YfZhSDZgdmKINin2YTZhdi02LHZiNi5KQogICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+2KrZiNmE2YrYryDYp9mE2KrZgtix2YrYsTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc2Vjb25kYXJ5IiBvbmNsaWNrPSJoaWRlUHJvamVjdEVtcGxveWVlc1JlcG9ydE1vZGFsKCkiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tINmG2KfZgdiw2Kkg2KrZgtix2YrYsSDZhdi02KfYsdmK2Lkg2KfZhNmF2YjYuNmBIC0tPgogICAgPGRpdiBpZD0iZW1wbG95ZWVQcm9qZWN0c0hpc3RvcnlSZXBvcnRNb2RhbCIgY2xhc3M9Im1vZGFsIj4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOiA3MDBweDsiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPGgzPtiq2YLYsdmK2LEg2YXYtNin2LHZiti5INin2YTZhdmI2LjZgSAtINit2LHZg9ipINiq2KfYsdmK2K7ZitipPC9oMz4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJtb2RhbC1jbG9zZSIgb25jbGljaz0iaGlkZUVtcGxveWVlUHJvamVjdHNIaXN0b3J5UmVwb3J0TW9kYWwoKSI+JnRpbWVzOzwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPGZvcm0gb25zdWJtaXQ9ImdlbmVyYXRlRW1wbG95ZWVQcm9qZWN0c0hpc3RvcnlSZXBvcnQoKTsgcmV0dXJuIGZhbHNlOyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Yp9iu2KrYsSDYp9mE2YXZiNi42YE6IDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkOyI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJlbXBsb3llZVByb2plY3RzUmVwb3J0RW1wbG95ZWVJZCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPi0tINin2K7YqtixINin2YTZhdmI2LjZgSAtLTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiPtiq2YjZhNmK2K8g2KfZhNiq2YLYsdmK2LE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSIgb25jbGljaz0iaGlkZUVtcGxveWVlUHJvamVjdHNIaXN0b3J5UmVwb3J0TW9kYWwoKSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0g2YbYp9mB2LDYqSDYqtmC2LHZitixINil2KzYp9iy2KfYqiDYp9mE2YXZiNi42YEgLS0+CiAgICA8ZGl2IGlkPSJlbXBsb3llZUxlYXZlSGlzdG9yeVJlcG9ydE1vZGFsIiBjbGFzcz0ibW9kYWwiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6IDcwMHB4OyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8aDM+2KrZgtix2YrYsSDYpdis2KfYstin2Kog2KfZhNmF2YjYuNmBIC0g2K3YsdmD2Kkg2KrYp9ix2YrYrtmK2Kk8L2gzPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1vZGFsLWNsb3NlIiBvbmNsaWNrPSJoaWRlRW1wbG95ZWVMZWF2ZUhpc3RvcnlSZXBvcnRNb2RhbCgpIj4mdGltZXM7PC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgICAgICA8Zm9ybSBvbnN1Ym1pdD0iZ2VuZXJhdGVFbXBsb3llZUxlYXZlSGlzdG9yeVJlcG9ydCgpOyByZXR1cm4gZmFsc2U7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2K7YqtixINin2YTZhdmI2LjZgTogPHNwYW4gc3R5bGU9ImNvbG9yOiByZWQ7Ij4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImVtcGxveWVlTGVhdmVSZXBvcnRFbXBsb3llZUlkIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+LS0g2KfYrtiq2LEg2KfZhNmF2YjYuNmBIC0tPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjsgZ2FwOiAxNXB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtmF2YYg2KrYp9ix2YrYrjo8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImRhdGUiIGlkPSJlbXBsb3llZUxlYXZlUmVwb3J0U3RhcnREYXRlIiBjbGFzcz0iZm9ybS1jb250cm9sIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtil2YTZiSDYqtin2LHZitiuOjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZGF0ZSIgaWQ9ImVtcGxveWVlTGVhdmVSZXBvcnRFbmREYXRlIiBjbGFzcz0iZm9ybS1jb250cm9sIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5Ij7YqtmI2YTZitivINin2YTYqtmC2LHZitixPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zZWNvbmRhcnkiIG9uY2xpY2s9ImhpZGVFbXBsb3llZUxlYXZlSGlzdG9yeVJlcG9ydE1vZGFsKCkiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tINmG2KfZgdiw2Kkg2KrZgtix2YrYsSDYp9mE2YXYtNix2YjYuSDZiNin2YTZhdmI2LjZgdmK2YYgLS0+CiAgICA8ZGl2IGlkPSJwcm9qZWN0RW1wbG95ZWVzUmVwb3J0TW9kYWwiIGNsYXNzPSJtb2RhbCI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogNzAwcHg7Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDxoMz7YqtmC2LHZitixINin2YTZhdi02LHZiNi5IC0g2KfZhNmF2YjYuNmB2YrZhjwvaDM+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9kYWwtY2xvc2UiIG9uY2xpY2s9ImhpZGVQcm9qZWN0RW1wbG95ZWVzUmVwb3J0TW9kYWwoKSI+JnRpbWVzOzwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgPGZvcm0gb25zdWJtaXQ9ImdlbmVyYXRlUHJvamVjdEVtcGxveWVlc1JlcG9ydCgpOyByZXR1cm4gZmFsc2U7Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtin2K7YqtixINin2YTZhdi02LHZiNi5OiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0icHJvamVjdEVtcGxveWVlc1JlcG9ydFByb2plY3RJZCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPi0tINin2K7YqtixINin2YTZhdi02LHZiNi5IC0tPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJwcm9qZWN0RW1wbG95ZWVzUmVwb3J0SW5jbHVkZUhpc3RvcnkiIGNoZWNrZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICDYqti22YXZitmGINin2YTZhdmI2LjZgdmK2YYg2KfZhNiz2KfYqNmC2YrZhiAo2KfZhNiw2YrZhiDYp9mG2KrZh9mJINi52YXZhNmH2YUg2YHZiiDYp9mE2YXYtNix2YjYuSkKICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiPtiq2YjZhNmK2K8g2KfZhNiq2YLYsdmK2LE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSIgb25jbGljaz0iaGlkZVByb2plY3RFbXBsb3llZXNSZXBvcnRNb2RhbCgpIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSDZhtin2YHYsNipINiq2YLYsdmK2LEg2YXYtNin2LHZiti5INin2YTZhdmI2LjZgSAtLT4KICAgIDxkaXYgaWQ9ImVtcGxveWVlUHJvamVjdHNIaXN0b3J5UmVwb3J0TW9kYWwiIGNsYXNzPSJtb2RhbCI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogNzAwcHg7Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDxoMz7YqtmC2LHZitixINmF2LTYp9ix2YrYuSDYp9mE2YXZiNi42YEgLSDYrdix2YPYqSDYqtin2LHZitiu2YrYqTwvaDM+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9kYWwtY2xvc2UiIG9uY2xpY2s9ImhpZGVFbXBsb3llZVByb2plY3RzSGlzdG9yeVJlcG9ydE1vZGFsKCkiPiZ0aW1lczs8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5Ij4KICAgICAgICAgICAgICAgIDxmb3JtIG9uc3VibWl0PSJnZW5lcmF0ZUVtcGxveWVlUHJvamVjdHNIaXN0b3J5UmVwb3J0KCk7IHJldHVybiBmYWxzZTsiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2KfYrtiq2LEg2KfZhNmF2YjYuNmBOiA8c3BhbiBzdHlsZT0iY29sb3I6IHJlZDsiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0iZW1wbG95ZWVQcm9qZWN0c1JlcG9ydEVtcGxveWVlSWQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj4tLSDYp9iu2KrYsSDYp9mE2YXZiNi42YEgLS08L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5Ij7YqtmI2YTZitivINin2YTYqtmC2LHZitixPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zZWNvbmRhcnkiIG9uY2xpY2s9ImhpZGVFbXBsb3llZVByb2plY3RzSGlzdG9yeVJlcG9ydE1vZGFsKCkiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KPC9ib2R5Pgo8L2h0bWw+Cgo=";var k="MQ==";document.getElementById("p").addEventListener("keypress",function(evt){if(evt.key==="Enter"){document.getElementById("unlockBtn").click()}});document.getElementById("unlockBtn").addEventListener("click",function(){var v=document.getElementById("p").value;var err=document.getElementById("e");if(btoa(v)===k){try{var c=decodeURIComponent(escape(atob(d)));document.open();document.write(c);document.close()}catch(e){alert("ÿÆÿ∑ÿ£ ŸÅŸä ŸÅŸÉ ÿßŸÑÿ™ÿ¥ŸÅŸäÿ±")}}else{err.classList.add("show");document.getElementById("p").value="";setTimeout(function(){err.classList.remove("show")},3000)}});</script></body></html>